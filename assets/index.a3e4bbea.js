var xd=Object.defineProperty;var yd=(p,o,l)=>o in p?xd(p,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):p[o]=l;var Re=(p,o,l)=>(yd(p,typeof o!="symbol"?o+"":o,l),l);import{L as _s,g as Un,a as Cd}from"./index.b74e7d57.js";import{S as Ed,A as Pd,G as kd,O as Sd,W as Td,s as Vd,C as Ld,P as Md,D as Ad,a as Rd,b as Fs,M as or,c as Dd,d as Od,e as Id,V as Nr,f as Nd,g as ws,B as Bd,h as zd,i as Fd}from"./three.module.aa667966.js";import{_ as to,o as Xn,c as Wn,a as Oe,n as xs,p as js,b as Hs,d as jd,F as Hd,r as Ud,e as Us,t as $d,u as Qd,f as Kd,g as qd,h as En,i as Yd}from"./index.ca067ba1.js";import"./DRACOLoader.2af43901.js";var no=(p=>(p.Tick="Tick",p))(no||{});class Gd{constructor(){Re(this,"events");this.events={}}on(o,l){if(!o){console.warn("EmitterType is required");return}this.events[o]||(this.events[o]=[]),this.events[o].push(l)}emit(o,l){const s=this.events[o];if(!s){console.warn("No event registed");return}for(let a=0;a<s.length;a++){const d=s[a];d(l)}}}const $s=new Gd,Xd=[{name:"modelRoom",type:_s.GLTF,path:"/resources/carton-room/models/room.glb"},{name:"textureKda",type:_s.Video,path:"/resources/carton-room/textures/kda.mp4"}];var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wd(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Qr={exports:{}};/*! Tweakpane 3.1.1 (c) 2016 cocopon, licensed under the MIT license. */(function(p,o){(function(l,s){s(o)})(Qs,function(l){class s{constructor(e){const[t,i]=e.split("-"),r=t.split(".");this.major=parseInt(r[0],10),this.minor=parseInt(r[1],10),this.patch=parseInt(r[2],10),this.prerelease=i!=null?i:null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}class a{constructor(e){this.controller_=e}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(e){this.controller_.viewProps.set("hidden",e)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class d{constructor(e){this.target=e}}class f extends d{constructor(e,t,i,r){super(e),this.value=t,this.presetKey=i,this.last=r!=null?r:!0}}class u extends d{constructor(e,t,i){super(e),this.value=t,this.presetKey=i}}class k extends d{constructor(e,t){super(e),this.expanded=t}}class P extends d{constructor(e,t){super(e),this.index=t}}function I(n){return n}function L(n){return n==null}function A(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const y={alreadydisposed:()=>"View has been already disposed",invalidparams:n=>`Invalid parameters for '${n.name}'`,nomatchingcontroller:n=>`No matching controller for '${n.key}'`,nomatchingview:n=>`No matching view for '${JSON.stringify(n.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:n=>`Property '${n.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class x{constructor(e){var t;this.message=(t=y[e.type](e.context))!==null&&t!==void 0?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}static alreadyDisposed(){return new x({type:"alreadydisposed"})}static notBindable(){return new x({type:"notbindable"})}static propertyNotFound(e){return new x({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new x({type:"shouldneverhappen"})}}class ee{constructor(e,t,i){this.obj_=e,this.key_=t,this.presetKey_=i!=null?i:t}static isBindable(e){return!(e===null||typeof e!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(e){this.obj_[this.key_]=e}writeProperty(e,t){const i=this.read();if(!ee.isBindable(i))throw x.notBindable();if(!(e in i))throw x.propertyNotFound(e);i[e]=t}}class J extends a{get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get title(){var e;return(e=this.controller_.valueController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.valueController.props.set("title",e)}on(e,t){const i=t.bind(this);return this.controller_.valueController.emitter.on(e,()=>{i(new d(this))}),this}}class D{constructor(){this.observers_={}}on(e,t){let i=this.observers_[e];return i||(i=this.observers_[e]=[]),i.push({handler:t}),this}off(e,t){const i=this.observers_[e];return i&&(this.observers_[e]=i.filter(r=>r.handler!==t)),this}emit(e,t){const i=this.observers_[e];!i||i.forEach(r=>{r.handler(t)})}}const me="tp";function V(n){return(t,i)=>[me,"-",n,"v",t?`_${t}`:"",i?`-${i}`:""].join("")}function q(n,e){return t=>e(n(t))}function _e(n){return n.rawValue}function X(n,e){n.emitter.on("change",q(_e,e)),e(n.rawValue)}function z(n,e,t){X(n.value(e),t)}function Ke(n,e,t){t?n.classList.add(e):n.classList.remove(e)}function Fe(n,e){return t=>{Ke(n,e,t)}}function Y(n,e){X(n,t=>{e.textContent=t!=null?t:""})}const ie=V("btn");class re{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(ie()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("button");i.classList.add(ie("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const r=e.createElement("div");r.classList.add(ie("t")),Y(t.props.value("title"),r),this.buttonElement.appendChild(r)}}class nt{constructor(e,t){this.emitter=new D,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new re(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ve{constructor(e,t){var i;this.constraint_=t==null?void 0:t.constraint,this.equals_=(i=t==null?void 0:t.equals)!==null&&i!==void 0?i:(r,c)=>r===c,this.emitter=new D,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const i=t!=null?t:{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(e):e;!!this.equals_(this.rawValue_,r)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:i,rawValue:r,sender:this}))}}class Ie{constructor(e){this.emitter=new D,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const i=t!=null?t:{forceEmit:!1,last:!0};this.value_===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,rawValue:this.value_,sender:this}))}}function U(n,e){const t=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!t&&!i?new Ie(n):new Ve(n,e)}class C{constructor(e){this.emitter=new D,this.valMap_=e;for(const t in this.valMap_)this.valMap_[t].emitter.on("change",()=>{this.emitter.emit("change",{key:t,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,r)=>Object.assign(i,{[r]:U(e[r])}),{})}static fromObject(e){const t=this.createCore(e);return new C(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}}function oe(n,e){const i=Object.keys(e).reduce((r,c)=>{if(r===void 0)return;const v=e[c],E=v(n[c]);return E.succeeded?Object.assign(Object.assign({},r),{[c]:E.value}):void 0},{});return i}function B(n,e){return n.reduce((t,i)=>{if(t===void 0)return;const r=e(i);if(!(!r.succeeded||r.value===void 0))return[...t,r.value]},[])}function g(n){return n===null?!1:typeof n=="object"}function ye(n){return e=>t=>{if(!e&&t===void 0)return{succeeded:!1,value:void 0};if(e&&t===void 0)return{succeeded:!0,value:void 0};const i=n(t);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function it(n){return{custom:e=>ye(e)(n),boolean:ye(e=>typeof e=="boolean"?e:void 0)(n),number:ye(e=>typeof e=="number"?e:void 0)(n),string:ye(e=>typeof e=="string"?e:void 0)(n),function:ye(e=>typeof e=="function"?e:void 0)(n),constant:e=>ye(t=>t===e?e:void 0)(n),raw:ye(e=>e)(n),object:e=>ye(t=>{if(!!g(t))return oe(t,e)})(n),array:e=>ye(t=>{if(!!Array.isArray(t))return B(t,e)})(n)}}const le={optional:it(!0),required:it(!1)};function ve(n,e){const t=le.required.object(e)(n);return t.succeeded?t.value:void 0}function kt(n){return n&&n.parentElement&&n.parentElement.removeChild(n),null}function be(){return["veryfirst","first","last","verylast"]}const w=V(""),h={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class m{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const t=this.view.element;this.blade.value("positions").emitter.on("change",()=>{be().forEach(i=>{t.classList.remove(w(void 0,h[i]))}),this.blade.get("positions").forEach(i=>{t.classList.add(w(void 0,h[i]))})}),this.viewProps.handleDispose(()=>{kt(t)})}get parent(){return this.parent_}}const S="http://www.w3.org/2000/svg";function R(n){n.offsetHeight}function T(n,e){const t=n.style.transition;n.style.transition="none",e(),n.style.transition=t}function M(n){return n.ontouchstart!==void 0}function H(){return globalThis}function Q(){return H().document}function W(n){const e=n.ownerDocument.defaultView;return e&&"document"in e?n.getContext("2d",{willReadFrequently:!0}):null}const b={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function pe(n,e){const t=n.createElementNS(S,"svg");return t.innerHTML=b[e],t}function te(n,e,t){n.insertBefore(e,n.children[t])}function Ue(n){n.parentElement&&n.parentElement.removeChild(n)}function qe(n){for(;n.children.length>0;)n.removeChild(n.children[0])}function Ft(n){for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0])}function je(n){return n.relatedTarget?n.relatedTarget:"explicitOriginalTarget"in n?n.explicitOriginalTarget:null}const wt=V("lbl");function jt(n,e){const t=n.createDocumentFragment();return e.split(`
`).map(r=>n.createTextNode(r)).forEach((r,c)=>{c>0&&t.appendChild(n.createElement("br")),t.appendChild(r)}),t}class Ce{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(wt()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(wt("l")),z(t.props,"label",c=>{L(c)?this.element.classList.add(wt(void 0,"nol")):(this.element.classList.remove(wt(void 0,"nol")),Ft(i),i.appendChild(jt(e,c)))}),this.element.appendChild(i),this.labelElement=i;const r=e.createElement("div");r.classList.add(wt("v")),this.element.appendChild(r),this.valueElement=r}}class Ye extends m{constructor(e,t){const i=t.valueController.viewProps;super(Object.assign(Object.assign({},t),{view:new Ce(e,{props:t.props,viewProps:i}),viewProps:i})),this.props=t.props,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Ge={id:"button",type:"blade",accept(n){const e=le,t=ve(n,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return t?{params:t}:null},controller(n){return new Ye(n.document,{blade:n.blade,props:C.fromObject({label:n.params.label}),valueController:new nt(n.document,{props:C.fromObject({title:n.params.title}),viewProps:n.viewProps})})},api(n){return!(n.controller instanceof Ye)||!(n.controller.valueController instanceof nt)?null:new J(n.controller)}};class St extends m{constructor(e){super(e),this.value=e.value}}function Ne(){return new C({positions:U([],{equals:A})})}class rt extends C{constructor(e){super(e)}static create(e){const t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=C.createCore(t);return new rt(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!L(e)?`${e}px`:"auto"}bindExpandedClass(e,t){const i=()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)};z(this,"expanded",i),z(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function bn(n,e){let t=0;return T(e,()=>{n.set("expandedHeight",null),n.set("temporaryExpanded",!0),R(e),t=e.clientHeight,n.set("temporaryExpanded",null),R(e)}),t}function Dt(n,e){e.style.height=n.styleHeight}function Ot(n,e){n.value("expanded").emitter.on("beforechange",()=>{n.set("completed",!1),L(n.get("expandedHeight"))&&n.set("expandedHeight",bn(n,e)),n.set("shouldFixHeight",!0),R(e)}),n.emitter.on("change",()=>{Dt(n,e)}),Dt(n,e),e.addEventListener("transitionend",t=>{t.propertyName==="height"&&n.cleanUpTransition()})}class Ht extends a{constructor(e,t){super(e),this.rackApi_=t}}function he(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function Ut(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function at(n,e){const t=e!=null?e:{};return n.addBlade(Object.assign(Object.assign({},t),{view:"separator"}))}function xt(n,e){return n.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}class ht{constructor(e){this.emitter=new D,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw x.shouldNeverHappen();const i=t!==void 0?t:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);const r=this.extract_(e);r&&(r.emitter.on("add",this.onSubListAdd_),r.emitter.on("remove",this.onSubListRemove_),r.allItems().forEach(c=>{this.cache_.add(c)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){const t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);const i=this.extract_(e);i&&(i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}class ft extends a{constructor(e){super(e),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new D,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(e){const t=e.sender.target.read();this.emitter_.emit("change",{event:new f(this,t,this.controller_.binding.target.presetKey,e.options.last)})}}class Xe extends Ye{constructor(e,t){super(e,t),this.binding=t.binding}}class $t extends a{constructor(e){super(e),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new D,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(e){const t=e.sender.target.read();this.emitter_.emit("update",{event:new u(this,t,this.controller_.binding.target.presetKey)})}}class We extends Ye{constructor(e,t){super(e,t),this.binding=t.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function gn(n){return n instanceof _?n.apiSet_:n instanceof Ht?n.rackApi_.apiSet_:null}function It(n,e){const t=n.find(i=>i.controller_===e);if(!t)throw x.shouldNeverHappen();return t}function ae(n,e,t){if(!ee.isBindable(n))throw x.notBindable();return new ee(n,e,t)}class _ extends a{constructor(e,t){super(e),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new D,this.apiSet_=new ht(gn),this.pool_=t;const i=this.controller_.rack;i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),i.emitter.on("inputchange",this.onRackInputChange_),i.emitter.on("monitorupdate",this.onRackMonitorUpdate_),i.children.forEach(r=>{this.setUpApi_(r)})}get children(){return this.controller_.rack.children.map(e=>It(this.apiSet_,e))}addInput(e,t,i){const r=i!=null?i:{},c=this.controller_.view.element.ownerDocument,v=this.pool_.createInput(c,ae(e,t,r.presetKey),r),E=new ft(v);return this.add(E,r.index)}addMonitor(e,t,i){const r=i!=null?i:{},c=this.controller_.view.element.ownerDocument,v=this.pool_.createMonitor(c,ae(e,t),r),E=new $t(v);return this.add(E,r.index)}addFolder(e){return Ut(this,e)}addButton(e){return he(this,e)}addSeparator(e){return at(this,e)}addTab(e){return xt(this,e)}add(e,t){this.controller_.rack.add(e.controller_,t);const i=this.apiSet_.find(r=>r.controller_===e.controller_);return i&&this.apiSet_.remove(i),this.apiSet_.add(e),e}remove(e){this.controller_.rack.remove(e.controller_)}addBlade(e){const t=this.controller_.view.element.ownerDocument,i=this.pool_.createBlade(t,e),r=this.pool_.createBladeApi(i);return this.add(r,e.index)}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}setUpApi_(e){this.apiSet_.find(i=>i.controller_===e)||this.apiSet_.add(this.pool_.createBladeApi(e))}onRackAdd_(e){this.setUpApi_(e.bladeController)}onRackRemove_(e){if(e.isRoot){const t=It(this.apiSet_,e.bladeController);this.apiSet_.remove(t)}}onRackInputChange_(e){const t=e.bladeController;if(t instanceof Xe){const i=It(this.apiSet_,t),r=t.binding;this.emitter_.emit("change",{event:new f(i,r.target.read(),r.target.presetKey,e.options.last)})}else if(t instanceof St){const i=It(this.apiSet_,t);this.emitter_.emit("change",{event:new f(i,t.value.rawValue,void 0,e.options.last)})}}onRackMonitorUpdate_(e){if(!(e.bladeController instanceof We))throw x.shouldNeverHappen();const t=It(this.apiSet_,e.bladeController),i=e.bladeController.binding;this.emitter_.emit("update",{event:new u(t,i.target.read(),i.target.presetKey)})}}class O extends Ht{constructor(e,t){super(e,new _(e.rackController,t)),this.emitter_=new D,this.controller_.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",{event:new k(this,i.sender.rawValue)})}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(e){this.controller_.foldable.set("expanded",e)}get title(){return this.controller_.props.get("title")}set title(e){this.controller_.props.set("title",e)}get children(){return this.rackApi_.children}addInput(e,t,i){return this.rackApi_.addInput(e,t,i)}addMonitor(e,t,i){return this.rackApi_.addMonitor(e,t,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addSeparator(e){return this.rackApi_.addSeparator(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}}class N extends m{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}}class ${constructor(e,t){const i=V(t.viewName);this.element=e.createElement("div"),this.element.classList.add(i()),t.viewProps.bindClassModifiers(this.element)}}function Be(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(i instanceof Xe&&i.binding===e)return i}return null}function G(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(i instanceof We&&i.binding===e)return i}return null}function Le(n,e){for(let t=0;t<n.length;t++){const i=n[t];if(i instanceof St&&i.value===e)return i}return null}function we(n){return n instanceof Ee?n.rack:n instanceof N?n.rackController.rack:null}function Tt(n){const e=we(n);return e?e.bcSet_:null}class ge{constructor(e){var t;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new D,this.blade_=e!=null?e:null,(t=this.blade_)===null||t===void 0||t.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new ht(Tt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){e.parent&&e.parent.remove(e),e.parent_=this,this.bcSet_.add(e,t)}remove(e){e.parent_=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(t=>t instanceof e)}onSetAdd_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,isRoot:t,sender:this}),!t)return;const i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),i instanceof Xe)i.binding.emitter.on("change",this.onChildInputChange_);else if(i instanceof We)i.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(i instanceof St)i.value.emitter.on("change",this.onChildValueChange_);else{const r=we(i);if(r){const c=r.emitter;c.on("layout",this.onDescendantLayout_),c.on("inputchange",this.onDescendantInputChange_),c.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,isRoot:t,sender:this}),!t)return;const i=e.item;if(i instanceof Xe)i.binding.emitter.off("change",this.onChildInputChange_);else if(i instanceof We)i.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(i instanceof St)i.value.emitter.off("change",this.onChildValueChange_);else{const r=we(i);if(r){const c=r.emitter;c.off("layout",this.onDescendantLayout_),c.off("inputchange",this.onDescendantInputChange_),c.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const e=this.bcSet_.items.filter(r=>!r.viewProps.get("hidden")),t=e[0],i=e[e.length-1];this.bcSet_.items.forEach(r=>{const c=[];r===t&&(c.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&c.push("veryfirst")),r===i&&(c.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&c.push("verylast")),r.blade.set("positions",c)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(t=>t.viewProps.get("disposed")).forEach(t=>{this.bcSet_.remove(t)})}onChildInputChange_(e){const t=Be(this.find(Xe),e.sender);if(!t)throw x.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:t,options:e.options,sender:this})}onChildMonitorUpdate_(e){const t=G(this.find(We),e.sender);if(!t)throw x.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:t,sender:this})}onChildValueChange_(e){const t=Le(this.find(St),e.sender);if(!t)throw x.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:t,options:e.options,sender:this})}onDescendantLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(e){this.emitter.emit("inputchange",{bladeController:e.bladeController,options:e.options,sender:this})}onDescendantMonitorUpdate_(e){this.emitter.emit("monitorupdate",{bladeController:e.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Ee extends m{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new $(e,{viewName:"brk",viewProps:t.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const i=new ge(t.root?void 0:t.blade);i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.rack=i,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){!e.isRoot||te(this.view.element,e.bladeController.view.element,e.index)}onRackRemove_(e){!e.isRoot||Ue(e.bladeController.view.element)}}const mt=V("cnt");class Pe{constructor(e,t){var i;this.className_=V((i=t.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),mt()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),z(this.foldable_,"completed",Fe(this.element,this.className_(void 0,"cpl")));const r=e.createElement("button");r.classList.add(this.className_("b")),z(t.props,"title",F=>{L(F)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const c=e.createElement("div");c.classList.add(this.className_("t")),Y(t.props.value("title"),c),this.buttonElement.appendChild(c),this.titleElement=c;const v=e.createElement("div");v.classList.add(this.className_("m")),this.buttonElement.appendChild(v);const E=t.containerElement;E.classList.add(this.className_("c")),this.element.appendChild(E),this.containerElement=E}}class xe extends N{constructor(e,t){var i;const r=rt.create((i=t.expanded)!==null&&i!==void 0?i:!0),c=new Ee(e,{blade:t.blade,root:t.root,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:c,view:new Pe(e,{containerElement:c.view.element,foldable:r,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=r,Ot(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Me={id:"folder",type:"blade",accept(n){const e=le,t=ve(n,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return t?{params:t}:null},controller(n){return new xe(n.document,{blade:n.blade,expanded:n.params.expanded,props:C.fromObject({title:n.params.title}),viewProps:n.viewProps})},api(n){return n.controller instanceof xe?new O(n.controller,n.pool):null}};class yt extends St{constructor(e,t){const i=t.valueController.viewProps;super(Object.assign(Object.assign({},t),{value:t.valueController.value,view:new Ce(e,{props:t.props,viewProps:i}),viewProps:i})),this.props=t.props,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Qt extends a{}const Ae=V("spr");class ke{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ae()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("hr");i.classList.add(Ae("r")),this.element.appendChild(i)}}class Vt extends m{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new ke(e,{viewProps:t.viewProps})}))}}const ti={id:"separator",type:"blade",accept(n){const t=ve(n,{view:le.required.constant("separator")});return t?{params:t}:null},controller(n){return new Vt(n.document,{blade:n.blade,viewProps:n.viewProps})},api(n){return n.controller instanceof Vt?new Qt(n.controller):null}},Li=V("");function rn(n,e){return Fe(n,Li(void 0,e))}class vt extends C{constructor(e){super(e)}static create(e){var t,i;const r=e!=null?e:{},c={disabled:(t=r.disabled)!==null&&t!==void 0?t:!1,disposed:!1,hidden:(i=r.hidden)!==null&&i!==void 0?i:!1},v=C.createCore(c);return new vt(v)}bindClassModifiers(e){z(this,"disabled",rn(e,"disabled")),z(this,"hidden",rn(e,"hidden"))}bindDisabled(e){z(this,"disabled",t=>{e.disabled=t})}bindTabIndex(e){z(this,"disabled",t=>{e.tabIndex=t?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",t=>{t&&e()})}}const ni=V("tbi");class _a{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(ni()),t.viewProps.bindClassModifiers(this.element),z(t.props,"selected",c=>{c?this.element.classList.add(ni(void 0,"sel")):this.element.classList.remove(ni(void 0,"sel"))});const i=e.createElement("button");i.classList.add(ni("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const r=e.createElement("div");r.classList.add(ni("t")),Y(t.props.value("title"),r),this.buttonElement.appendChild(r),this.titleElement=r}}class wa{constructor(e,t){this.emitter=new D,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new _a(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class co{constructor(e,t){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new wa(e,{props:t.itemProps,viewProps:vt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Ee(e,{blade:Ne(),viewProps:vt.create()}),this.props=t.props,z(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.contentController.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class po{constructor(e,t){this.controller_=e,this.rackApi_=t}get title(){var e;return(e=this.controller_.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.itemController.props.set("title",e)}get selected(){return this.controller_.props.get("selected")}set selected(e){this.controller_.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addSeparator(e){return this.rackApi_.addSeparator(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addInput(e,t,i){return this.rackApi_.addInput(e,t,i)}addMonitor(e,t,i){return this.rackApi_.addMonitor(e,t,i)}addBlade(e){return this.rackApi_.addBlade(e)}}class uo extends Ht{constructor(e,t){super(e,new _(e.rackController,t)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new D,this.pageApiMap_=new Map,this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(i=>{this.setUpPageApi_(i)})}get pages(){return this.controller_.pageSet.items.map(e=>{const t=this.pageApiMap_.get(e);if(!t)throw x.shouldNeverHappen();return t})}addPage(e){const t=this.controller_.view.element.ownerDocument,i=new co(t,{itemProps:C.fromObject({selected:!1,title:e.title}),props:C.fromObject({selected:!1})});this.controller_.add(i,e.index);const r=this.pageApiMap_.get(i);if(!r)throw x.shouldNeverHappen();return r}removePage(e){this.controller_.remove(e)}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}setUpPageApi_(e){const t=this.rackApi_.apiSet_.find(r=>r.controller_===e.contentController);if(!t)throw x.shouldNeverHappen();const i=new po(e,t);this.pageApiMap_.set(e,i)}onPageAdd_(e){this.setUpPageApi_(e.item)}onPageRemove_(e){if(!this.pageApiMap_.get(e.item))throw x.shouldNeverHappen();this.pageApiMap_.delete(e.item)}onSelect_(e){this.emitter_.emit("select",{event:new P(this,e.rawValue)})}}const ho=-1;class xa{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=U(!0),this.selectedIndex=U(ho),this.items_=[]}add(e,t){const i=t!=null?t:this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=ho,this.empty.rawValue=!0;return}const e=this.items_.findIndex(t=>t.rawValue);e<0?(this.items_.forEach((t,i)=>{t.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((t,i)=>{t.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const t=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,r)=>{i.rawValue=r===t}),this.selectedIndex.rawValue=t}else this.keepSelection_()}}const Mi=V("tab");class ya{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Mi(),mt()),t.viewProps.bindClassModifiers(this.element),X(t.empty,Fe(this.element,Mi(void 0,"nop")));const i=e.createElement("div");i.classList.add(Mi("i")),this.element.appendChild(i),this.itemsElement=i;const r=t.contentsElement;r.classList.add(Mi("c")),this.element.appendChild(r),this.contentsElement=r}}class fo extends N{constructor(e,t){const i=new Ee(e,{blade:t.blade,viewProps:t.viewProps}),r=new xa;super({blade:t.blade,rackController:i,view:new ya(e,{contentsElement:i.view.element,empty:r.empty,viewProps:t.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new ht(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=r}get pageSet(){return this.pageSet_}add(e,t){this.pageSet_.add(e,t)}remove(e){this.pageSet_.remove(this.pageSet_.items[e])}onPageAdd_(e){const t=e.item;te(this.view.itemsElement,t.itemController.view.element,e.index),this.rackController.rack.add(t.contentController,e.index),this.tab.add(t.props.value("selected"))}onPageRemove_(e){const t=e.item;Ue(t.itemController.view.element),this.rackController.rack.remove(t.contentController),this.tab.remove(t.props.value("selected"))}}const mo={id:"tab",type:"blade",accept(n){const e=le,t=ve(n,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return!t||t.pages.length===0?null:{params:t}},controller(n){const e=new fo(n.document,{blade:n.blade,viewProps:n.viewProps});return n.params.pages.forEach(t=>{const i=new co(n.document,{itemProps:C.fromObject({selected:!1,title:t.title}),props:C.fromObject({selected:!1})});e.add(i)}),e},api(n){return n.controller instanceof fo?new uo(n.controller,n.pool):null}};function Ca(n,e){const t=n.accept(e.params);if(!t)return null;const i=le.optional.boolean(e.params.disabled).value,r=le.optional.boolean(e.params.hidden).value;return n.controller({blade:Ne(),document:e.document,params:Object.assign(Object.assign({},t.params),{disabled:i,hidden:r}),viewProps:vt.create({disabled:i,hidden:r})})}class Ea{constructor(){this.disabled=!1,this.emitter=new D}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Pa{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new D,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class ii{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((t,i)=>i.constrain(t),e)}}function Kt(n,e){if(n instanceof e)return n;if(n instanceof ii){const t=n.constraints.reduce((i,r)=>i||(r instanceof e?r:null),null);if(t)return t}return null}class ri{constructor(e){this.options=e}constrain(e){const t=this.options;return t.length===0||t.filter(r=>r.value===e).length>0?e:t[0].value}}class On{constructor(e){this.maxValue=e.max,this.minValue=e.min}constrain(e){let t=e;return L(this.minValue)||(t=Math.max(t,this.minValue)),L(this.maxValue)||(t=Math.min(t,this.maxValue)),t}}class Ai{constructor(e,t=0){this.step=e,this.origin=t}constrain(e){const t=this.origin%this.step,i=Math.round((e-t)/this.step);return t+i*this.step}}const pr=V("lst");class ka{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(pr()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("select");i.classList.add(pr("s")),z(this.props_,"options",c=>{qe(i),c.forEach((v,E)=>{const F=e.createElement("option");F.dataset.index=String(E),F.textContent=v.text,F.value=String(v.value),i.appendChild(F)})}),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;const r=e.createElement("div");r.classList.add(pr("m")),r.appendChild(pe(e,"dropdown")),this.element.appendChild(r),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class oi{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new ka(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const i=e.currentTarget.selectedOptions.item(0);if(!i)return;const r=Number(i.dataset.index);this.value.rawValue=this.props.get("options")[r].value}}const vo=V("pop");class Sa{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(vo()),t.viewProps.bindClassModifiers(this.element),X(t.shows,Fe(this.element,vo(void 0,"v")))}}class bo{constructor(e,t){this.shows=U(!1),this.viewProps=t.viewProps,this.view=new Sa(e,{shows:this.shows,viewProps:this.viewProps})}}const go=V("txt");class Ta{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(go()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);const i=e.createElement("input");i.classList.add(go("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Ri{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Ta(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const i=e.currentTarget.value,r=this.parser_(i);L(r)||(this.value.rawValue=r),this.view.refresh()}}function Va(n){return String(n)}function _o(n){return n==="false"?!1:!!n}function wo(n){return Va(n)}class La{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const Ma={"**":(n,e)=>Math.pow(n,e),"*":(n,e)=>n*e,"/":(n,e)=>n/e,"%":(n,e)=>n%e,"+":(n,e)=>n+e,"-":(n,e)=>n-e,"<<":(n,e)=>n<<e,">>":(n,e)=>n>>e,">>>":(n,e)=>n>>>e,"&":(n,e)=>n&e,"^":(n,e)=>n^e,"|":(n,e)=>n|e};class Aa{constructor(e,t,i){this.left=t,this.operator=e,this.right=i}evaluate(){const e=Ma[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Ra={"+":n=>n,"-":n=>-n,"~":n=>~n};class Da{constructor(e,t){this.operator=e,this.expression=t}evaluate(){const e=Ra[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function ur(n){return(e,t)=>{for(let i=0;i<n.length;i++){const r=n[i](e,t);if(r!=="")return r}return""}}function si(n,e){var t;const i=n.substr(e).match(/^\s+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Oa(n,e){const t=n.substr(e,1);return t.match(/^[1-9]$/)?t:""}function ai(n,e){var t;const i=n.substr(e).match(/^[0-9]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Ia(n,e){const t=ai(n,e);if(t!=="")return t;const i=n.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";const r=ai(n,e);return r===""?"":i+r}function hr(n,e){const t=n.substr(e,1);if(e+=1,t.toLowerCase()!=="e")return"";const i=Ia(n,e);return i===""?"":t+i}function xo(n,e){const t=n.substr(e,1);if(t==="0")return t;const i=Oa(n,e);return e+=i.length,i===""?"":i+ai(n,e)}function Na(n,e){const t=xo(n,e);if(e+=t.length,t==="")return"";const i=n.substr(e,1);if(e+=i.length,i!==".")return"";const r=ai(n,e);return e+=r.length,t+i+r+hr(n,e)}function Ba(n,e){const t=n.substr(e,1);if(e+=t.length,t!==".")return"";const i=ai(n,e);return e+=i.length,i===""?"":t+i+hr(n,e)}function za(n,e){const t=xo(n,e);return e+=t.length,t===""?"":t+hr(n,e)}const Fa=ur([Na,Ba,za]);function ja(n,e){var t;const i=n.substr(e).match(/^[01]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Ha(n,e){const t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0b")return"";const i=ja(n,e);return i===""?"":t+i}function Ua(n,e){var t;const i=n.substr(e).match(/^[0-7]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}function $a(n,e){const t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0o")return"";const i=Ua(n,e);return i===""?"":t+i}function Qa(n,e){var t;const i=n.substr(e).match(/^[0-9a-f]+/i);return(t=i&&i[0])!==null&&t!==void 0?t:""}function Ka(n,e){const t=n.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0x")return"";const i=Qa(n,e);return i===""?"":t+i}const qa=ur([Ha,$a,Ka]),Ya=ur([qa,Fa]);function Ga(n,e){const t=Ya(n,e);return e+=t.length,t===""?null:{evaluable:new La(t),cursor:e}}function Xa(n,e){const t=n.substr(e,1);if(e+=t.length,t!=="(")return null;const i=Co(n,e);if(!i)return null;e=i.cursor,e+=si(n,e).length;const r=n.substr(e,1);return e+=r.length,r!==")"?null:{evaluable:i.evaluable,cursor:e}}function Wa(n,e){var t;return(t=Ga(n,e))!==null&&t!==void 0?t:Xa(n,e)}function yo(n,e){const t=Wa(n,e);if(t)return t;const i=n.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;const r=yo(n,e);return r?(e=r.cursor,{cursor:e,evaluable:new Da(i,r.evaluable)}):null}function Za(n,e,t){t+=si(e,t).length;const i=n.filter(r=>e.startsWith(r,t))[0];return i?(t+=i.length,t+=si(e,t).length,{cursor:t,operator:i}):null}function Ja(n,e){return(t,i)=>{const r=n(t,i);if(!r)return null;i=r.cursor;let c=r.evaluable;for(;;){const v=Za(e,t,i);if(!v)break;i=v.cursor;const E=n(t,i);if(!E)return null;i=E.cursor,c=new Aa(v.operator,c,E.evaluable)}return c?{cursor:i,evaluable:c}:null}}const el=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((n,e)=>Ja(n,e),yo);function Co(n,e){return e+=si(n,e).length,el(n,e)}function tl(n){const e=Co(n,0);return!e||e.cursor+si(n,e.cursor).length!==n.length?null:e.evaluable}function Wt(n){var e;const t=tl(n);return(e=t==null?void 0:t.evaluate())!==null&&e!==void 0?e:null}function Eo(n){if(typeof n=="number")return n;if(typeof n=="string"){const e=Wt(n);if(!L(e))return e}return 0}function nl(n){return String(n)}function Je(n){return e=>e.toFixed(Math.max(Math.min(n,20),0))}const il=Je(0);function Di(n){return il(n)+"%"}function Po(n){return String(n)}function fr(n){return n}function ko(n,e){for(;n.length<e;)n.push(void 0)}function rl(n){const e=[];return ko(e,n),U(e)}function ol(n){const e=n.indexOf(void 0);return e<0?n:n.slice(0,e)}function sl(n,e){const t=[...ol(n),e];return t.length>n.length?t.splice(0,t.length-n.length):ko(t,n.length),t}function li({primary:n,secondary:e,forward:t,backward:i}){let r=!1;function c(v){r||(r=!0,v(),r=!1)}n.emitter.on("change",v=>{c(()=>{e.setRawValue(t(n,e),v.options)})}),e.emitter.on("change",v=>{c(()=>{n.setRawValue(i(n,e),v.options)}),c(()=>{e.setRawValue(t(n,e),v.options)})}),c(()=>{e.setRawValue(t(n,e),{forceEmit:!1,last:!0})})}function bt(n,e){const t=n*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+t:e.downKey?-t:0}function ci(n){return{altKey:n.altKey,downKey:n.key==="ArrowDown",shiftKey:n.shiftKey,upKey:n.key==="ArrowUp"}}function Zt(n){return{altKey:n.altKey,downKey:n.key==="ArrowLeft",shiftKey:n.shiftKey,upKey:n.key==="ArrowRight"}}function al(n){return n==="ArrowUp"||n==="ArrowDown"}function So(n){return al(n)||n==="ArrowLeft"||n==="ArrowRight"}function mr(n,e){var t,i;const r=e.ownerDocument.defaultView,c=e.getBoundingClientRect();return{x:n.pageX-(((t=r&&r.scrollX)!==null&&t!==void 0?t:0)+c.left),y:n.pageY-(((i=r&&r.scrollY)!==null&&i!==void 0?i:0)+c.top)}}class _n{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new D,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),(t=e.currentTarget)===null||t===void 0||t.focus();const i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(mr(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(mr(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(mr(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){const t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;const i=(t=e.targetTouches.item(0))!==null&&t!==void 0?t:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-r.left,y:i.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey})}}function Se(n,e,t,i,r){const c=(n-e)/(t-e);return i+c*(r-i)}function To(n){return String(n.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function $e(n,e,t){return Math.min(Math.max(n,e),t)}function Vo(n,e){return(n%e+e)%e}const Lt=V("txt");class ll{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Lt(),Lt(void 0,"num")),t.arrayPosition&&this.element.classList.add(Lt(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(Lt("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Lt()),this.inputElement.classList.add(Lt("i"));const r=e.createElement("div");r.classList.add(Lt("k")),this.element.appendChild(r),this.knobElement=r;const c=e.createElementNS(S,"svg");c.classList.add(Lt("g")),this.knobElement.appendChild(c);const v=e.createElementNS(S,"path");v.classList.add(Lt("gb")),c.appendChild(v),this.guideBodyElem_=v;const E=e.createElementNS(S,"path");E.classList.add(Lt("gh")),c.appendChild(E),this.guideHeadElem_=E;const F=e.createElement("div");F.classList.add(V("tt")()),this.knobElement.appendChild(F),this.tooltipElem_=F,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(Lt(void 0,"drg"));return}this.element.classList.add(Lt(void 0,"drg"));const t=e.rawValue/this.props_.get("draggingScale"),i=t+(t>0?-1:t<0?1:0),r=$e(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+r},0 L${i},4 L${i+r},8`,`M ${t},-1 L${t},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${t},4`);const c=this.props_.get("formatter");this.tooltipElem_.textContent=c(this.value.rawValue),this.tooltipElem_.style.left=`${t}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class di{constructor(e,t){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=t.baseStep,this.parser_=t.parser,this.props=t.props,this.sliderProps_=(i=t.sliderProps)!==null&&i!==void 0?i:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=U(null),this.view=new ll(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const r=new _n(this.view.knobElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,i;const r=(t=this.sliderProps_)===null||t===void 0?void 0:t.get("minValue"),c=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("maxValue");let v=e;return r!==void 0&&(v=Math.max(v,r)),c!==void 0&&(v=Math.min(v,c)),v}onInputChange_(e){const i=e.currentTarget.value,r=this.parser_(i);L(r)||(this.value.rawValue=this.constrainValue_(r)),this.view.refresh()}onInputKeyDown_(e){const t=bt(this.baseStep_,ci(e));t!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){bt(this.baseStep_,ci(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("draggingScale"))}onPointerMove_(e){const t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const vr=V("sld");class cl{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(vr()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(vr("t")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;const r=e.createElement("div");r.classList.add(vr("k")),this.trackElement.appendChild(r),this.knobElement=r,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){const e=$e(Se(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class dl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=t.baseStep,this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new cl(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){!e.point||this.value.setRawValue(Se($e(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=bt(this.baseStep_,Zt(e));t!==0&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){bt(this.baseStep_,Zt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const br=V("sldtxt");class pl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(br());const i=e.createElement("div");i.classList.add(br("s")),this.sliderView_=t.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(br("t")),this.textView_=t.textView,r.appendChild(this.textView_.element),this.element.appendChild(r)}}class gr{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new dl(e,{baseStep:t.baseStep,props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new di(e,{baseStep:t.baseStep,parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new pl(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function pi(n,e){n.write(e)}function Oi(n){const e=le;if(Array.isArray(n))return e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(n).value;if(typeof n=="object")return e.required.raw(n).value}function Lo(n){if(n==="inline"||n==="popup")return n}function on(n){const e=le;return e.required.object({max:e.optional.number,min:e.optional.number,step:e.optional.number})(n).value}function Mo(n){if(Array.isArray(n))return n;const e=[];return Object.keys(n).forEach(t=>{e.push({text:t,value:n[t]})}),e}function _r(n){return L(n)?null:new ri(Mo(n))}function wr(n){const e=n?Kt(n,ri):null;return e?e.options:null}function ul(n){const e=n?Kt(n,Ai):null;return e?e.step:null}function Ii(n,e){const t=n&&Kt(n,Ai);return t?To(t.step):Math.max(To(e),2)}function In(n){const e=ul(n);return e!=null?e:1}function Nn(n,e){var t;const i=n&&Kt(n,Ai),r=Math.abs((t=i==null?void 0:i.step)!==null&&t!==void 0?t:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}const Ni=V("ckb");class hl{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ni()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("label");i.classList.add(Ni("l")),this.element.appendChild(i);const r=e.createElement("input");r.classList.add(Ni("i")),r.type="checkbox",i.appendChild(r),this.inputElement=r,t.viewProps.bindDisabled(this.inputElement);const c=e.createElement("div");c.classList.add(Ni("w")),i.appendChild(c);const v=pe(e,"check");c.appendChild(v),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class fl{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new hl(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const t=e.currentTarget;this.value.rawValue=t.checked}}function ml(n){const e=[],t=_r(n.options);return t&&e.push(t),new ii(e)}const vl={id:"input-bool",type:"input",accept:(n,e)=>{if(typeof n!="boolean")return null;const i=ve(e,{options:le.optional.custom(Oi)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>_o,constraint:n=>ml(n.params),writer:n=>pi},controller:n=>{var e;const t=n.document,i=n.value,r=n.constraint;return r&&Kt(r,ri)?new oi(t,{props:C.fromObject({options:(e=wr(r))!==null&&e!==void 0?e:[]}),value:i,viewProps:n.viewProps}):new fl(t,{value:i,viewProps:n.viewProps})}},wn=V("col");class bl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(wn()),t.foldable.bindExpandedClass(this.element,wn(void 0,"expanded")),z(t.foldable,"completed",Fe(this.element,wn(void 0,"cpl")));const i=e.createElement("div");i.classList.add(wn("h")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(wn("s")),i.appendChild(r),this.swatchElement=r;const c=e.createElement("div");if(c.classList.add(wn("t")),i.appendChild(c),this.textElement=c,t.pickerLayout==="inline"){const v=e.createElement("div");v.classList.add(wn("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}function gl(n,e,t){const i=$e(n/255,0,1),r=$e(e/255,0,1),c=$e(t/255,0,1),v=Math.max(i,r,c),E=Math.min(i,r,c),F=v-E;let K=0,ue=0;const fe=(E+v)/2;return F!==0&&(ue=F/(1-Math.abs(v+E-1)),i===v?K=(r-c)/F:r===v?K=2+(c-i)/F:K=4+(i-r)/F,K=K/6+(K<0?1:0)),[K*360,ue*100,fe*100]}function _l(n,e,t){const i=(n%360+360)%360,r=$e(e/100,0,1),c=$e(t/100,0,1),v=(1-Math.abs(2*c-1))*r,E=v*(1-Math.abs(i/60%2-1)),F=c-v/2;let K,ue,fe;return i>=0&&i<60?[K,ue,fe]=[v,E,0]:i>=60&&i<120?[K,ue,fe]=[E,v,0]:i>=120&&i<180?[K,ue,fe]=[0,v,E]:i>=180&&i<240?[K,ue,fe]=[0,E,v]:i>=240&&i<300?[K,ue,fe]=[E,0,v]:[K,ue,fe]=[v,0,E],[(K+F)*255,(ue+F)*255,(fe+F)*255]}function wl(n,e,t){const i=$e(n/255,0,1),r=$e(e/255,0,1),c=$e(t/255,0,1),v=Math.max(i,r,c),E=Math.min(i,r,c),F=v-E;let K;F===0?K=0:v===i?K=60*(((r-c)/F%6+6)%6):v===r?K=60*((c-i)/F+2):K=60*((i-r)/F+4);const ue=v===0?0:F/v,fe=v;return[K,ue*100,fe*100]}function Ao(n,e,t){const i=Vo(n,360),r=$e(e/100,0,1),c=$e(t/100,0,1),v=c*r,E=v*(1-Math.abs(i/60%2-1)),F=c-v;let K,ue,fe;return i>=0&&i<60?[K,ue,fe]=[v,E,0]:i>=60&&i<120?[K,ue,fe]=[E,v,0]:i>=120&&i<180?[K,ue,fe]=[0,v,E]:i>=180&&i<240?[K,ue,fe]=[0,E,v]:i>=240&&i<300?[K,ue,fe]=[E,0,v]:[K,ue,fe]=[v,0,E],[(K+F)*255,(ue+F)*255,(fe+F)*255]}function xl(n,e,t){const i=t+e*(100-Math.abs(2*t-100))/200;return[n,i!==0?e*(100-Math.abs(2*t-100))/i:0,t+e*(100-Math.abs(2*t-100))/(2*100)]}function yl(n,e,t){const i=100-Math.abs(t*(200-e)/100-100);return[n,i!==0?e*t/i:0,t*(200-e)/(2*100)]}function xn(n){return[n[0],n[1],n[2]]}function Ro(n,e){return[n[0],n[1],n[2],e]}const Cl={hsl:{hsl:(n,e,t)=>[n,e,t],hsv:xl,rgb:_l},hsv:{hsl:yl,hsv:(n,e,t)=>[n,e,t],rgb:Ao},rgb:{hsl:gl,hsv:wl,rgb:(n,e,t)=>[n,e,t]}};function Bi(n,e){return[e==="float"?1:n==="rgb"?255:360,e==="float"?1:n==="rgb"?255:100,e==="float"?1:n==="rgb"?255:100]}function El(n,e,t){var i;const r=Bi(e,t);return[e==="rgb"?$e(n[0],0,r[0]):Vo(n[0],r[0]),$e(n[1],0,r[1]),$e(n[2],0,r[2]),$e((i=n[3])!==null&&i!==void 0?i:1,0,1)]}function Do(n,e,t,i){const r=Bi(e,t),c=Bi(e,i);return n.map((v,E)=>v/r[E]*c[E])}function Pl(n,e,t){const i=Do(n,e.mode,e.type,"int"),r=Cl[e.mode][t.mode](...i);return Do(r,t.mode,"int",t.type)}function zi(n,e){return typeof n!="object"||L(n)?!1:e in n&&typeof n[e]=="number"}class se{constructor(e,t,i="int"){this.mode=t,this.type=i,this.comps_=El(e,t,i)}static black(e="int"){return new se([0,0,0],"rgb",e)}static fromObject(e,t="int"){const i="a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b];return new se(i,"rgb",t)}static toRgbaObject(e,t="int"){return e.toRgbaObject(t)}static isRgbColorObject(e){return zi(e,"r")&&zi(e,"g")&&zi(e,"b")}static isRgbaColorObject(e){return this.isRgbColorObject(e)&&zi(e,"a")}static isColorObject(e){return this.isRgbColorObject(e)}static equals(e,t){if(e.mode!==t.mode)return!1;const i=e.comps_,r=t.comps_;for(let c=0;c<i.length;c++)if(i[c]!==r[c])return!1;return!0}getComponents(e,t="int"){return Ro(Pl(xn(this.comps_),{mode:this.mode,type:this.type},{mode:e!=null?e:this.mode,type:t}),this.comps_[3])}toRgbaObject(e="int"){const t=this.getComponents("rgb",e);return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const sn=V("colp");class kl{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(sn());const i=e.createElement("div");i.classList.add(sn("hsv"));const r=e.createElement("div");r.classList.add(sn("sv")),this.svPaletteView_=t.svPaletteView,r.appendChild(this.svPaletteView_.element),i.appendChild(r);const c=e.createElement("div");c.classList.add(sn("h")),this.hPaletteView_=t.hPaletteView,c.appendChild(this.hPaletteView_.element),i.appendChild(c),this.element.appendChild(i);const v=e.createElement("div");if(v.classList.add(sn("rgb")),this.textView_=t.textView,v.appendChild(this.textView_.element),this.element.appendChild(v),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};const E=e.createElement("div");E.classList.add(sn("a"));const F=e.createElement("div");F.classList.add(sn("ap")),F.appendChild(this.alphaViews_.palette.element),E.appendChild(F);const K=e.createElement("div");K.classList.add(sn("at")),K.appendChild(this.alphaViews_.text.element),E.appendChild(K),this.element.appendChild(E)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(t=>t.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function Sl(n){return n==="int"?"int":n==="float"?"float":void 0}function xr(n){const e=le;return ve(n,{alpha:e.optional.boolean,color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(Sl)}),expanded:e.optional.boolean,picker:e.optional.custom(Lo)})}function yn(n){return n?.1:1}function Cn(n){var e;return(e=n.color)===null||e===void 0?void 0:e.type}function Tl(n,e){return n.alpha===e.alpha&&n.mode===e.mode&&n.notation===e.notation&&n.type===e.type}function Mt(n,e){const t=n.match(/^(.+)%$/);return Math.min(t?parseFloat(t[1])*.01*e:parseFloat(n),e)}const Vl={deg:n=>n,grad:n=>n*360/400,rad:n=>n*360/(2*Math.PI),turn:n=>n*360};function Oo(n){const e=n.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(n);const t=parseFloat(e[1]),i=e[2];return Vl[i](t)}function Io(n){const e=n.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const t=[Mt(e[1],255),Mt(e[2],255),Mt(e[3],255)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function No(n){return e=>{const t=Io(e);return t?new se(t,"rgb",n):null}}function Bo(n){const e=n.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const t=[Mt(e[1],255),Mt(e[2],255),Mt(e[3],255),Mt(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function zo(n){return e=>{const t=Bo(e);return t?new se(t,"rgb",n):null}}function Fo(n){const e=n.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const t=[Oo(e[1]),Mt(e[2],100),Mt(e[3],100)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function jo(n){return e=>{const t=Fo(e);return t?new se(t,"hsl",n):null}}function Ho(n){const e=n.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const t=[Oo(e[1]),Mt(e[2],100),Mt(e[3],100),Mt(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function Uo(n){return e=>{const t=Ho(e);return t?new se(t,"hsl",n):null}}function $o(n){const e=n.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const t=n.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function Ll(n){const e=$o(n);return e?new se(e,"rgb","int"):null}function Qo(n){const e=n.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Se(parseInt(e[4]+e[4],16),0,255,0,1)];const t=n.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Se(parseInt(t[4],16),0,255,0,1)]:null}function Ml(n){const e=Qo(n);return e?new se(e,"rgb","int"):null}function Ko(n){const e=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}function qo(n){return e=>{const t=Ko(e);return t?new se(t,"rgb",n):null}}function Yo(n){const e=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}function Go(n){return e=>{const t=Yo(e);return t?new se(t,"rgb",n):null}}const Al=[{parser:$o,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Qo,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Io,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Bo,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Fo,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Ho,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Ko,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Yo,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Rl(n){return Al.reduce((e,{parser:t,result:i})=>e||(t(n)?i:null),null)}function yr(n,e="int"){const t=Rl(n);return t?t.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},t),{type:"int"}):t.notation==="func"?Object.assign(Object.assign({},t),{type:e}):null:null}const Xo={int:[Ll,Ml,No("int"),zo("int"),jo("int"),Uo("int"),qo("int"),Go("int")],float:[No("float"),zo("float"),jo("float"),Uo("float"),qo("float"),Go("float")]};function Dl(n){const e=Xo[n];return t=>{if(typeof t!="string")return se.black(n);const i=e.reduce((r,c)=>r||c(t),null);return i!=null?i:se.black(n)}}function Cr(n){const e=Xo[n];return t=>e.reduce((i,r)=>i||r(t),null)}function Wo(n){const e=$e(Math.floor(n),0,255).toString(16);return e.length===1?`0${e}`:e}function Zo(n,e="#"){const t=xn(n.getComponents("rgb")).map(Wo).join("");return`${e}${t}`}function Er(n,e="#"){const t=n.getComponents("rgb"),i=[t[0],t[1],t[2],t[3]*255].map(Wo).join("");return`${e}${i}`}function Jo(n,e){const t=Je(e==="float"?2:0);return`rgb(${xn(n.getComponents("rgb",e)).map(r=>t(r)).join(", ")})`}function Ol(n){return e=>Jo(e,n)}function Fi(n,e){const t=Je(2),i=Je(e==="float"?2:0);return`rgba(${n.getComponents("rgb",e).map((c,v)=>(v===3?t:i)(c)).join(", ")})`}function Il(n){return e=>Fi(e,n)}function Nl(n){const e=[Je(0),Di,Di];return`hsl(${xn(n.getComponents("hsl")).map((i,r)=>e[r](i)).join(", ")})`}function Bl(n){const e=[Je(0),Di,Di,Je(2)];return`hsla(${n.getComponents("hsl").map((i,r)=>e[r](i)).join(", ")})`}function es(n,e){const t=Je(e==="float"?2:0),i=["r","g","b"];return`{${xn(n.getComponents("rgb",e)).map((c,v)=>`${i[v]}: ${t(c)}`).join(", ")}}`}function zl(n){return e=>es(e,n)}function ts(n,e){const t=Je(2),i=Je(e==="float"?2:0),r=["r","g","b","a"];return`{${n.getComponents("rgb",e).map((v,E)=>{const F=E===3?t:i;return`${r[E]}: ${F(v)}`}).join(", ")}}`}function Fl(n){return e=>ts(e,n)}const jl=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Zo},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Er},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Nl},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Bl},...["int","float"].reduce((n,e)=>[...n,{format:{alpha:!1,mode:"rgb",notation:"func",type:e},stringifier:Ol(e)},{format:{alpha:!0,mode:"rgb",notation:"func",type:e},stringifier:Il(e)},{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:zl(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:Fl(e)}],[])];function Pr(n){return jl.reduce((e,t)=>e||(Tl(t.format,n)?t.stringifier:null),null)}const ui=V("apl");class Hl{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ui()),t.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(ui("b")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(ui("c")),i.appendChild(r),this.colorElem_=r;const c=e.createElement("div");c.classList.add(ui("m")),this.element.appendChild(c),this.markerElem_=c;const v=e.createElement("div");v.classList.add(ui("p")),this.markerElem_.appendChild(v),this.previewElem_=v,this.update_()}update_(){const e=this.value.rawValue,t=e.getComponents("rgb"),i=new se([t[0],t[1],t[2],0],"rgb"),r=new se([t[0],t[1],t[2],255],"rgb"),c=["to right",Fi(i),Fi(r)];this.colorElem_.style.background=`linear-gradient(${c.join(",")})`,this.previewElem_.style.backgroundColor=Fi(e);const v=Se(t[3],0,1,0,100);this.markerElem_.style.left=`${v}%`}onValueChange_(){this.update_()}}class Ul{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Hl(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const i=e.point.x/e.bounds.width,r=this.value.rawValue,[c,v,E]=r.getComponents("hsv");this.value.setRawValue(new se([c,v,E,i],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=bt(yn(!0),Zt(e));if(t===0)return;const i=this.value.rawValue,[r,c,v,E]=i.getComponents("hsv");this.value.setRawValue(new se([r,c,v,E+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){bt(yn(!0),Zt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Bn=V("coltxt");function $l(n){const e=n.createElement("select"),t=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return e.appendChild(t.reduce((i,r)=>{const c=n.createElement("option");return c.textContent=r.text,c.value=r.value,i.appendChild(c),i},n.createDocumentFragment())),e}class Ql{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Bn());const i=e.createElement("div");i.classList.add(Bn("m")),this.modeElem_=$l(e),this.modeElem_.classList.add(Bn("ms")),i.appendChild(this.modeSelectElement);const r=e.createElement("div");r.classList.add(Bn("mm")),r.appendChild(pe(e,"dropdown")),i.appendChild(r),this.element.appendChild(i);const c=e.createElement("div");c.classList.add(Bn("w")),this.element.appendChild(c),this.textsElem_=c,this.textViews_=t.textViews,this.applyTextViews_(),X(t.colorMode,v=>{this.modeElem_.value=v})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(e){this.textViews_=e,this.applyTextViews_()}applyTextViews_(){qe(this.textsElem_);const e=this.element.ownerDocument;this.textViews_.forEach(t=>{const i=e.createElement("div");i.classList.add(Bn("c")),i.appendChild(t.element),this.textsElem_.appendChild(i)})}}function Kl(n){return Je(n==="float"?2:0)}function ql(n,e,t){const i=Bi(n,e)[t];return new On({min:0,max:i})}function kr(n,e,t){return new di(n,{arrayPosition:t===0?"fst":t===3-1?"lst":"mid",baseStep:yn(!1),parser:e.parser,props:C.fromObject({draggingScale:e.colorType==="float"?.01:1,formatter:Kl(e.colorType)}),value:U(0,{constraint:ql(e.colorMode,e.colorType,t)}),viewProps:e.viewProps})}class Yl{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.parser_=t.parser,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=U(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new Ql(e,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const t={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},i=[kr(e,t,0),kr(e,t,1),kr(e,t,2)];return i.forEach((r,c)=>{li({primary:this.value,secondary:r.value,forward:v=>v.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[c],backward:(v,E)=>{const F=this.colorMode.rawValue,K=v.rawValue.getComponents(F,this.colorType_);return K[c]=E.rawValue,new se(Ro(xn(K),K[3]),F,this.colorType_)}})}),i}onModeSelectChange_(e){const t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Sr=V("hpl");class Gl{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Sr()),t.viewProps.bindTabIndex(this.element);const i=e.createElement("div");i.classList.add(Sr("c")),this.element.appendChild(i);const r=e.createElement("div");r.classList.add(Sr("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Jo(new se([t,100,100],"hsv"));const i=Se(t,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class Xl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Gl(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const i=Se($e(e.point.x,0,e.bounds.width),0,e.bounds.width,0,359),r=this.value.rawValue,[,c,v,E]=r.getComponents("hsv");this.value.setRawValue(new se([i,c,v,E],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=bt(yn(!1),Zt(e));if(t===0)return;const i=this.value.rawValue,[r,c,v,E]=i.getComponents("hsv");this.value.setRawValue(new se([r+t,c,v,E],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){bt(yn(!1),Zt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Tr=V("svp"),ns=64;class Wl{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Tr()),t.viewProps.bindTabIndex(this.element);const i=e.createElement("canvas");i.height=ns,i.width=ns,i.classList.add(Tr("c")),this.element.appendChild(i),this.canvasElement=i;const r=e.createElement("div");r.classList.add(Tr("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=W(this.canvasElement);if(!e)return;const i=this.value.rawValue.getComponents("hsv"),r=this.canvasElement.width,c=this.canvasElement.height,v=e.getImageData(0,0,r,c),E=v.data;for(let ue=0;ue<c;ue++)for(let fe=0;fe<r;fe++){const en=Se(fe,0,r,0,100),fi=Se(ue,0,c,100,0),mi=Ao(i[0],en,fi),Hn=(ue*r+fe)*4;E[Hn]=mi[0],E[Hn+1]=mi[1],E[Hn+2]=mi[2],E[Hn+3]=255}e.putImageData(v,0,0);const F=Se(i[1],0,100,0,100);this.markerElem_.style.left=`${F}%`;const K=Se(i[2],0,100,100,0);this.markerElem_.style.top=`${K}%`}onValueChange_(){this.update_()}}class Zl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Wl(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const i=Se(e.point.x,0,e.bounds.width,0,100),r=Se(e.point.y,0,e.bounds.height,100,0),[c,,,v]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new se([c,i,r,v],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){So(e.key)&&e.preventDefault();const[t,i,r,c]=this.value.rawValue.getComponents("hsv"),v=yn(!1),E=bt(v,Zt(e)),F=bt(v,ci(e));E===0&&F===0||this.value.setRawValue(new se([t,i+E,r+F,c],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const t=yn(!1),i=bt(t,Zt(e)),r=bt(t,ci(e));i===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Jl{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new Xl(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Zl(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new Ul(e,{value:this.value,viewProps:this.viewProps}),text:new di(e,{parser:Wt,baseStep:.1,props:C.fromObject({draggingScale:.01,formatter:Je(2)}),value:U(0,{constraint:new On({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&li({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.rawValue.getComponents()[3],backward:(i,r)=>{const c=i.rawValue.getComponents();return c[3]=r.rawValue,new se(c,i.rawValue.mode)}}),this.textC_=new Yl(e,{colorType:t.colorType,parser:Wt,value:this.value,viewProps:this.viewProps}),this.view=new kl(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Vr=V("colsw");class ec{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(Vr()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("div");i.classList.add(Vr("sw")),this.element.appendChild(i),this.swatchElem_=i;const r=e.createElement("button");r.classList.add(Vr("b")),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=Er(e)}onValueChange_(){this.update_()}}class tc{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new ec(e,{value:this.value,viewProps:this.viewProps})}}class Lr{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=rt.create(t.expanded),this.swatchC_=new tc(e,{value:this.value,viewProps:this.viewProps});const i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new Ri(e,{parser:t.parser,props:C.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new bl(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=t.pickerLayout==="popup"?new bo(e,{viewProps:this.viewProps}):null;const r=new Jl(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach(c=>{c.addEventListener("blur",this.onPopupChildBlur_),c.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(r.view.element),li({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:c=>c.rawValue,backward:(c,v)=>v.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ot(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,i=je(e);i&&t.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!M(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function nc(n,e){return se.isColorObject(n)?se.fromObject(n,e):se.black(e)}function ic(n){return xn(n.getComponents("rgb")).reduce((e,t)=>e<<8|Math.floor(t)&255,0)}function rc(n){return n.getComponents("rgb").reduce((e,t,i)=>{const r=Math.floor(i===3?t*255:t)&255;return e<<8|r},0)>>>0}function oc(n){return new se([n>>16&255,n>>8&255,n&255],"rgb")}function sc(n){return new se([n>>24&255,n>>16&255,n>>8&255,Se(n&255,0,255,0,1)],"rgb")}function ac(n){return typeof n!="number"?se.black():oc(n)}function lc(n){return typeof n!="number"?se.black():sc(n)}function cc(n){const e=Pr(n);return e?(t,i)=>{pi(t,e(i))}:null}function dc(n){const e=n?rc:ic;return(t,i)=>{pi(t,e(i))}}function pc(n,e,t){const i=e.toRgbaObject(t);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b),n.writeProperty("a",i.a)}function uc(n,e,t){const i=e.toRgbaObject(t);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b)}function hc(n,e){return(t,i)=>{n?pc(t,i,e):uc(t,i,e)}}function Mr(n){var e;return!!((n==null?void 0:n.alpha)||((e=n==null?void 0:n.color)===null||e===void 0?void 0:e.alpha))}function fc(n){return n?e=>Er(e,"0x"):e=>Zo(e,"0x")}function mc(n){return"color"in n||"view"in n&&n.view==="color"}const vc={id:"input-color-number",type:"input",accept:(n,e)=>{if(typeof n!="number"||!mc(e))return null;const t=xr(e);return t?{initialValue:n,params:t}:null},binding:{reader:n=>Mr(n.params)?lc:ac,equals:se.equals,writer:n=>dc(Mr(n.params))},controller:n=>{const e=Mr(n.params),t="expanded"in n.params?n.params.expanded:void 0,i="picker"in n.params?n.params.picker:void 0;return new Lr(n.document,{colorType:"int",expanded:t!=null?t:!1,formatter:fc(e),parser:Cr("int"),pickerLayout:i!=null?i:"popup",supportsAlpha:e,value:n.value,viewProps:n.viewProps})}};function bc(n){return se.isRgbaColorObject(n)}function gc(n){return e=>nc(e,n)}function _c(n,e){return t=>n?ts(t,e):es(t,e)}const wc={id:"input-color-object",type:"input",accept:(n,e)=>{if(!se.isColorObject(n))return null;const t=xr(e);return t?{initialValue:n,params:t}:null},binding:{reader:n=>gc(Cn(n.params)),equals:se.equals,writer:n=>hc(bc(n.initialValue),Cn(n.params))},controller:n=>{var e;const t=se.isRgbaColorObject(n.initialValue),i="expanded"in n.params?n.params.expanded:void 0,r="picker"in n.params?n.params.picker:void 0,c=(e=Cn(n.params))!==null&&e!==void 0?e:"int";return new Lr(n.document,{colorType:c,expanded:i!=null?i:!1,formatter:_c(t,c),parser:Cr(c),pickerLayout:r!=null?r:"popup",supportsAlpha:t,value:n.value,viewProps:n.viewProps})}},xc={id:"input-color-string",type:"input",accept:(n,e)=>{if(typeof n!="string"||"view"in e&&e.view==="text")return null;const t=yr(n,Cn(e));if(!t||!Pr(t))return null;const r=xr(e);return r?{initialValue:n,params:r}:null},binding:{reader:n=>{var e;return Dl((e=Cn(n.params))!==null&&e!==void 0?e:"int")},equals:se.equals,writer:n=>{const e=yr(n.initialValue,Cn(n.params));if(!e)throw x.shouldNeverHappen();const t=cc(e);if(!t)throw x.notBindable();return t}},controller:n=>{const e=yr(n.initialValue,Cn(n.params));if(!e)throw x.shouldNeverHappen();const t=Pr(e);if(!t)throw x.shouldNeverHappen();const i="expanded"in n.params?n.params.expanded:void 0,r="picker"in n.params?n.params.picker:void 0;return new Lr(n.document,{colorType:e.type,expanded:i!=null?i:!1,formatter:t,parser:Cr(e.type),pickerLayout:r!=null?r:"popup",supportsAlpha:e.alpha,value:n.value,viewProps:n.viewProps})}};class an{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const t=this.asm_.toComponents(e).map((i,r)=>{var c,v;return(v=(c=this.components[r])===null||c===void 0?void 0:c.constrain(i))!==null&&v!==void 0?v:i});return this.asm_.fromComponents(t)}}const is=V("pndtxt");class yc{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(is()),this.textViews.forEach(i=>{const r=e.createElement("div");r.classList.add(is("a")),r.appendChild(i.element),this.element.appendChild(r)})}}function Cc(n,e,t){return new di(n,{arrayPosition:t===0?"fst":t===e.axes.length-1?"lst":"mid",baseStep:e.axes[t].baseStep,parser:e.parser,props:e.axes[t].textProps,value:U(0,{constraint:e.axes[t].constraint}),viewProps:e.viewProps})}class Ar{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map((i,r)=>Cc(e,t,r)),this.acs_.forEach((i,r)=>{li({primary:this.value,secondary:i.value,forward:c=>t.assembly.toComponents(c.rawValue)[r],backward:(c,v)=>{const E=t.assembly.toComponents(c.rawValue);return E[r]=v.rawValue,t.assembly.fromComponents(E)}})}),this.view=new yc(e,{textViews:this.acs_.map(i=>i.view)})}}function rs(n,e){return"step"in n&&!L(n.step)?new Ai(n.step,e):null}function os(n){return"max"in n&&!L(n.max)||"min"in n&&!L(n.min)?new On({max:n.max,min:n.min}):null}function Ec(n,e){const t=[],i=rs(n,e);i&&t.push(i);const r=os(n);r&&t.push(r);const c=_r(n.options);return c&&t.push(c),new ii(t)}function Pc(n){const e=n?Kt(n,On):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}function kc(n){const[e,t]=Pc(n);return[e!=null?e:0,t!=null?t:100]}const Sc={id:"input-number",type:"input",accept:(n,e)=>{if(typeof n!="number")return null;const t=le,i=ve(e,{format:t.optional.function,max:t.optional.number,min:t.optional.number,options:t.optional.custom(Oi),step:t.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Eo,constraint:n=>Ec(n.params,n.initialValue),writer:n=>pi},controller:n=>{var e,t;const i=n.value,r=n.constraint;if(r&&Kt(r,ri))return new oi(n.document,{props:C.fromObject({options:(e=wr(r))!==null&&e!==void 0?e:[]}),value:i,viewProps:n.viewProps});const c=(t="format"in n.params?n.params.format:void 0)!==null&&t!==void 0?t:Je(Ii(r,i.rawValue));if(r&&Kt(r,On)){const[v,E]=kc(r);return new gr(n.document,{baseStep:In(r),parser:Wt,sliderProps:C.fromObject({maxValue:E,minValue:v}),textProps:C.fromObject({draggingScale:Nn(r,i.rawValue),formatter:c}),value:i,viewProps:n.viewProps})}return new di(n.document,{baseStep:In(r),parser:Wt,props:C.fromObject({draggingScale:Nn(r,i.rawValue),formatter:c}),value:i,viewProps:n.viewProps})}};class ln{constructor(e=0,t=0){this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(L(e))return!1;const t=e.x,i=e.y;return!(typeof t!="number"||typeof i!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}}const ss={toComponents:n=>n.getComponents(),fromComponents:n=>new ln(...n)},zn=V("p2d");class Tc{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(zn()),t.viewProps.bindClassModifiers(this.element),X(t.expanded,Fe(this.element,zn(void 0,"expanded")));const i=e.createElement("div");i.classList.add(zn("h")),this.element.appendChild(i);const r=e.createElement("button");r.classList.add(zn("b")),r.appendChild(pe(e,"p2dpad")),t.viewProps.bindDisabled(r),i.appendChild(r),this.buttonElement=r;const c=e.createElement("div");if(c.classList.add(zn("t")),i.appendChild(c),this.textElement=c,t.pickerLayout==="inline"){const v=e.createElement("div");v.classList.add(zn("p")),this.element.appendChild(v),this.pickerElement=v}else this.pickerElement=null}}const cn=V("p2dp");class Vc{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=t.invertsY,this.maxValue_=t.maxValue,this.element=e.createElement("div"),this.element.classList.add(cn()),t.layout==="popup"&&this.element.classList.add(cn(void 0,"p"));const i=e.createElement("div");i.classList.add(cn("p")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;const r=e.createElementNS(S,"svg");r.classList.add(cn("g")),this.padElement.appendChild(r),this.svgElem_=r;const c=e.createElementNS(S,"line");c.classList.add(cn("ax")),c.setAttributeNS(null,"x1","0"),c.setAttributeNS(null,"y1","50%"),c.setAttributeNS(null,"x2","100%"),c.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(c);const v=e.createElementNS(S,"line");v.classList.add(cn("ax")),v.setAttributeNS(null,"x1","50%"),v.setAttributeNS(null,"y1","0"),v.setAttributeNS(null,"x2","50%"),v.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(v);const E=e.createElementNS(S,"line");E.classList.add(cn("l")),E.setAttributeNS(null,"x1","50%"),E.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(E),this.lineElem_=E;const F=e.createElement("div");F.classList.add(cn("m")),this.padElement.appendChild(F),this.markerElem_=F,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,t]=this.value.rawValue.getComponents(),i=this.maxValue_,r=Se(e,-i,+i,0,100),c=Se(t,-i,+i,0,100),v=this.invertsY_?100-c:c;this.lineElem_.setAttributeNS(null,"x2",`${r}%`),this.lineElem_.setAttributeNS(null,"y2",`${v}%`),this.markerElem_.style.left=`${r}%`,this.markerElem_.style.top=`${v}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function as(n,e,t){return[bt(e[0],Zt(n)),bt(e[1],ci(n))*(t?1:-1)]}class Lc{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.baseSteps_=t.baseSteps,this.maxValue_=t.maxValue,this.invertsY_=t.invertsY,this.view=new Vc(e,{invertsY:this.invertsY_,layout:t.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _n(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const i=this.maxValue_,r=Se(e.point.x,0,e.bounds.width,-i,+i),c=Se(this.invertsY_?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new ln(r,c),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){So(e.key)&&e.preventDefault();const[t,i]=as(e,this.baseSteps_,this.invertsY_);t===0&&i===0||this.value.setRawValue(new ln(this.value.rawValue.x+t,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[t,i]=as(e,this.baseSteps_,this.invertsY_);t===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Mc{constructor(e,t){var i,r;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=rt.create(t.expanded),this.popC_=t.pickerLayout==="popup"?new bo(e,{viewProps:this.viewProps}):null;const c=new Lc(e,{baseSteps:[t.axes[0].baseStep,t.axes[1].baseStep],invertsY:t.invertsY,layout:t.pickerLayout,maxValue:t.maxValue,value:this.value,viewProps:this.viewProps});c.view.allFocusableElements.forEach(v=>{v.addEventListener("blur",this.onPopupChildBlur_),v.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=c,this.textC_=new Ar(e,{assembly:ss,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new Tc(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),li({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:v=>v.rawValue,backward:(v,E)=>E.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ot(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,i=je(e);i&&t.contains(i)||i&&i===this.view.buttonElement&&!M(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function Ac(n){return ln.isObject(n)?new ln(n.x,n.y):new ln}function Rc(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y)}function Jt(n,e){if(!n)return;const t=[],i=rs(n,e);i&&t.push(i);const r=os(n);return r&&t.push(r),new ii(t)}function Dc(n,e){return new an({assembly:ss,components:[Jt("x"in n?n.x:void 0,e.x),Jt("y"in n?n.y:void 0,e.y)]})}function ls(n,e){var t,i;const r=n&&Kt(n,On);if(r)return Math.max(Math.abs((t=r.minValue)!==null&&t!==void 0?t:0),Math.abs((i=r.maxValue)!==null&&i!==void 0?i:0));const c=In(n);return Math.max(Math.abs(c)*10,Math.abs(e)*10)}function Oc(n,e){const t=e instanceof an?e.components[0]:void 0,i=e instanceof an?e.components[1]:void 0,r=ls(t,n.x),c=ls(i,n.y);return Math.max(r,c)}function cs(n,e){return{baseStep:In(e),constraint:e,textProps:C.fromObject({draggingScale:Nn(e,n),formatter:Je(Ii(e,n))})}}function Ic(n){if(!("y"in n))return!1;const e=n.y;return e&&"inverted"in e?!!e.inverted:!1}const Nc={id:"input-point2d",type:"input",accept:(n,e)=>{if(!ln.isObject(n))return null;const t=le,i=ve(e,{expanded:t.optional.boolean,picker:t.optional.custom(Lo),x:t.optional.custom(on),y:t.optional.object({inverted:t.optional.boolean,max:t.optional.number,min:t.optional.number,step:t.optional.number})});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Ac,constraint:n=>Dc(n.params,n.initialValue),equals:ln.equals,writer:n=>Rc},controller:n=>{const e=n.document,t=n.value,i=n.constraint;if(!(i instanceof an))throw x.shouldNeverHappen();const r="expanded"in n.params?n.params.expanded:void 0,c="picker"in n.params?n.params.picker:void 0;return new Mc(e,{axes:[cs(t.rawValue.x,i.components[0]),cs(t.rawValue.y,i.components[1])],expanded:r!=null?r:!1,invertsY:Ic(n.params),maxValue:Oc(t.rawValue,i),parser:Wt,pickerLayout:c!=null?c:"popup",value:t,viewProps:n.viewProps})}};class Fn{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(L(e))return!1;const t=e.x,i=e.y,r=e.z;return!(typeof t!="number"||typeof i!="number"||typeof r!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const ds={toComponents:n=>n.getComponents(),fromComponents:n=>new Fn(...n)};function Bc(n){return Fn.isObject(n)?new Fn(n.x,n.y,n.z):new Fn}function zc(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y),n.writeProperty("z",e.z)}function Fc(n,e){return new an({assembly:ds,components:[Jt("x"in n?n.x:void 0,e.x),Jt("y"in n?n.y:void 0,e.y),Jt("z"in n?n.z:void 0,e.z)]})}function Rr(n,e){return{baseStep:In(e),constraint:e,textProps:C.fromObject({draggingScale:Nn(e,n),formatter:Je(Ii(e,n))})}}const jc={id:"input-point3d",type:"input",accept:(n,e)=>{if(!Fn.isObject(n))return null;const t=le,i=ve(e,{x:t.optional.custom(on),y:t.optional.custom(on),z:t.optional.custom(on)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Bc,constraint:n=>Fc(n.params,n.initialValue),equals:Fn.equals,writer:n=>zc},controller:n=>{const e=n.value,t=n.constraint;if(!(t instanceof an))throw x.shouldNeverHappen();return new Ar(n.document,{assembly:ds,axes:[Rr(e.rawValue.x,t.components[0]),Rr(e.rawValue.y,t.components[1]),Rr(e.rawValue.z,t.components[2])],parser:Wt,value:e,viewProps:n.viewProps})}};class jn{constructor(e=0,t=0,i=0,r=0){this.x=e,this.y=t,this.z=i,this.w=r}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(L(e))return!1;const t=e.x,i=e.y,r=e.z,c=e.w;return!(typeof t!="number"||typeof i!="number"||typeof r!="number"||typeof c!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const ps={toComponents:n=>n.getComponents(),fromComponents:n=>new jn(...n)};function Hc(n){return jn.isObject(n)?new jn(n.x,n.y,n.z,n.w):new jn}function Uc(n,e){n.writeProperty("x",e.x),n.writeProperty("y",e.y),n.writeProperty("z",e.z),n.writeProperty("w",e.w)}function $c(n,e){return new an({assembly:ps,components:[Jt("x"in n?n.x:void 0,e.x),Jt("y"in n?n.y:void 0,e.y),Jt("z"in n?n.z:void 0,e.z),Jt("w"in n?n.w:void 0,e.w)]})}function Qc(n,e){return{baseStep:In(e),constraint:e,textProps:C.fromObject({draggingScale:Nn(e,n),formatter:Je(Ii(e,n))})}}const Kc={id:"input-point4d",type:"input",accept:(n,e)=>{if(!jn.isObject(n))return null;const t=le,i=ve(e,{x:t.optional.custom(on),y:t.optional.custom(on),z:t.optional.custom(on),w:t.optional.custom(on)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Hc,constraint:n=>$c(n.params,n.initialValue),equals:jn.equals,writer:n=>Uc},controller:n=>{const e=n.value,t=n.constraint;if(!(t instanceof an))throw x.shouldNeverHappen();return new Ar(n.document,{assembly:ps,axes:e.rawValue.getComponents().map((i,r)=>Qc(i,t.components[r])),parser:Wt,value:e,viewProps:n.viewProps})}};function qc(n){const e=[],t=_r(n.options);return t&&e.push(t),new ii(e)}const Yc={id:"input-string",type:"input",accept:(n,e)=>{if(typeof n!="string")return null;const i=ve(e,{options:le.optional.custom(Oi)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Po,constraint:n=>qc(n.params),writer:n=>pi},controller:n=>{var e;const t=n.document,i=n.value,r=n.constraint;return r&&Kt(r,ri)?new oi(t,{props:C.fromObject({options:(e=wr(r))!==null&&e!==void 0?e:[]}),value:i,viewProps:n.viewProps}):new Ri(t,{parser:c=>c,props:C.fromObject({formatter:fr}),value:i,viewProps:n.viewProps})}},hi={monitor:{defaultInterval:200,defaultLineCount:3}},us=V("mll");class Gc{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(us()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("textarea");i.classList.add(us("i")),i.style.height=`calc(var(--bld-us) * ${t.lineCount})`,i.readOnly=!0,t.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(r=>{r!==void 0&&i.push(this.formatter_(r))}),e.textContent=i.join(`
`),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Dr{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Gc(e,{formatter:t.formatter,lineCount:t.lineCount,value:this.value,viewProps:this.viewProps})}}const hs=V("sgl");class Xc{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(hs()),t.viewProps.bindClassModifiers(this.element);const i=e.createElement("input");i.classList.add(hs("i")),i.readOnly=!0,i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=t!==void 0?this.formatter_(t):""}onValueUpdate_(){this.update_()}}class Or{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Xc(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}}const Wc={id:"monitor-bool",type:"monitor",accept:(n,e)=>{if(typeof n!="boolean")return null;const i=ve(e,{lineCount:le.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>_o},controller:n=>{var e;return n.value.rawValue.length===1?new Or(n.document,{formatter:wo,value:n.value,viewProps:n.viewProps}):new Dr(n.document,{formatter:wo,lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:hi.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}},dn=V("grl");class Zc{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(dn()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const i=e.createElementNS(S,"svg");i.classList.add(dn("g")),i.style.height=`calc(var(--bld-us) * ${t.lineCount})`,this.element.appendChild(i),this.svgElem_=i;const r=e.createElementNS(S,"polyline");this.svgElem_.appendChild(r),this.lineElem_=r;const c=e.createElement("div");c.classList.add(dn("t"),V("tt")()),this.element.appendChild(c),this.tooltipElem_=c,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),t=this.value.rawValue.length-1,i=this.props_.get("minValue"),r=this.props_.get("maxValue"),c=[];this.value.rawValue.forEach((ue,fe)=>{if(ue===void 0)return;const en=Se(fe,0,t,0,e.width),fi=Se(ue,i,r,e.height,0);c.push([en,fi].join(","))}),this.lineElem_.setAttributeNS(null,"points",c.join(" "));const v=this.tooltipElem_,E=this.value.rawValue[this.cursor_.rawValue];if(E===void 0){v.classList.remove(dn("t","a"));return}const F=Se(this.cursor_.rawValue,0,t,0,e.width),K=Se(E,i,r,e.height,0);v.style.left=`${F}px`,v.style.top=`${K}px`,v.textContent=`${this.formatter_(E)}`,v.classList.contains(dn("t","a"))||(v.classList.add(dn("t","a"),dn("t","in")),R(v),v.classList.remove(dn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Jc{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=U(-1),this.view=new Zc(e,{cursor:this.cursor_,formatter:t.formatter,lineCount:t.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!M(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const i=new _n(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const t=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Se(e.offsetX,0,t.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Se(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Ir(n){return"format"in n&&!L(n.format)?n.format:Je(2)}function ed(n){var e;return n.value.rawValue.length===1?new Or(n.document,{formatter:Ir(n.params),value:n.value,viewProps:n.viewProps}):new Dr(n.document,{formatter:Ir(n.params),lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:hi.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}function td(n){var e,t,i;return new Jc(n.document,{formatter:Ir(n.params),lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:hi.monitor.defaultLineCount,props:C.fromObject({maxValue:(t="max"in n.params?n.params.max:null)!==null&&t!==void 0?t:100,minValue:(i="min"in n.params?n.params.min:null)!==null&&i!==void 0?i:0}),value:n.value,viewProps:n.viewProps})}function fs(n){return"view"in n&&n.view==="graph"}const nd={id:"monitor-number",type:"monitor",accept:(n,e)=>{if(typeof n!="number")return null;const t=le,i=ve(e,{format:t.optional.function,lineCount:t.optional.number,max:t.optional.number,min:t.optional.number,view:t.optional.string});return i?{initialValue:n,params:i}:null},binding:{defaultBufferSize:n=>fs(n)?64:1,reader:n=>Eo},controller:n=>fs(n.params)?td(n):ed(n)},id={id:"monitor-string",type:"monitor",accept:(n,e)=>{if(typeof n!="string")return null;const t=le,i=ve(e,{lineCount:t.optional.number,multiline:t.optional.boolean});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Po},controller:n=>{var e;const t=n.value;return t.rawValue.length>1||"multiline"in n.params&&n.params.multiline?new Dr(n.document,{formatter:fr,lineCount:(e=n.params.lineCount)!==null&&e!==void 0?e:hi.monitor.defaultLineCount,value:t,viewProps:n.viewProps}):new Or(n.document,{formatter:fr,value:t,viewProps:n.viewProps})}};class rd{constructor(e){this.onValueChange_=this.onValueChange_.bind(this),this.reader=e.reader,this.writer=e.writer,this.emitter=new D,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}read(){const e=this.target.read();e!==void 0&&(this.value.rawValue=this.reader(e))}write_(e){this.writer(this.target,e)}onValueChange_(e){this.write_(e.rawValue),this.emitter.emit("change",{options:e.options,rawValue:e.rawValue,sender:this})}}function od(n,e){const t=n.accept(e.target.read(),e.params);if(L(t))return null;const i=le,r={target:e.target,initialValue:t.initialValue,params:t.params},c=n.binding.reader(r),v=n.binding.constraint?n.binding.constraint(r):void 0,E=U(c(t.initialValue),{constraint:v,equals:n.binding.equals}),F=new rd({reader:c,target:e.target,value:E,writer:n.binding.writer(r)}),K=i.optional.boolean(e.params.disabled).value,ue=i.optional.boolean(e.params.hidden).value,fe=n.controller({constraint:v,document:e.document,initialValue:t.initialValue,params:t.params,value:F.value,viewProps:vt.create({disabled:K,hidden:ue})}),en=i.optional.string(e.params.label).value;return new Xe(e.document,{binding:F,blade:Ne(),props:C.fromObject({label:en!=null?en:e.target.key}),valueController:fe})}class sd{constructor(e){this.onTick_=this.onTick_.bind(this),this.reader_=e.reader,this.target=e.target,this.emitter=new D,this.value=e.value,this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const e=this.target.read();if(e===void 0)return;const t=this.value.rawValue,i=this.reader_(e);this.value.rawValue=sl(t,i),this.emitter.emit("update",{rawValue:i,sender:this})}onTick_(e){this.read()}}function ad(n,e){return e===0?new Ea:new Pa(n,e!=null?e:hi.monitor.defaultInterval)}function ld(n,e){var t,i,r;const c=le,v=n.accept(e.target.read(),e.params);if(L(v))return null;const E={target:e.target,initialValue:v.initialValue,params:v.params},F=n.binding.reader(E),K=(i=(t=c.optional.number(e.params.bufferSize).value)!==null&&t!==void 0?t:n.binding.defaultBufferSize&&n.binding.defaultBufferSize(v.params))!==null&&i!==void 0?i:1,ue=c.optional.number(e.params.interval).value,fe=new sd({reader:F,target:e.target,ticker:ad(e.document,ue),value:rl(K)}),en=c.optional.boolean(e.params.disabled).value,fi=c.optional.boolean(e.params.hidden).value,mi=n.controller({document:e.document,params:v.params,value:fe.value,viewProps:vt.create({disabled:en,hidden:fi})}),Hn=(r=c.optional.string(e.params.label).value)!==null&&r!==void 0?r:e.target.key;return new We(e.document,{binding:fe,blade:Ne(),props:C.fromObject({label:Hn}),valueController:mi})}class cd{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e){e.type==="blade"?this.pluginsMap_.blades.unshift(e):e.type==="input"?this.pluginsMap_.inputs.unshift(e):e.type==="monitor"&&this.pluginsMap_.monitors.unshift(e)}createInput(e,t,i){const r=t.read();if(L(r))throw new x({context:{key:t.key},type:"nomatchingcontroller"});const c=this.pluginsMap_.inputs.reduce((v,E)=>v!=null?v:od(E,{document:e,target:t,params:i}),null);if(c)return c;throw new x({context:{key:t.key},type:"nomatchingcontroller"})}createMonitor(e,t,i){const r=this.pluginsMap_.monitors.reduce((c,v)=>c!=null?c:ld(v,{document:e,params:i,target:t}),null);if(r)return r;throw new x({context:{key:t.key},type:"nomatchingcontroller"})}createBlade(e,t){const i=this.pluginsMap_.blades.reduce((r,c)=>r!=null?r:Ca(c,{document:e,params:t}),null);if(!i)throw new x({type:"nomatchingview",context:{params:t}});return i}createBladeApi(e){if(e instanceof Xe)return new ft(e);if(e instanceof We)return new $t(e);if(e instanceof Ee)return new _(e,this);const t=this.pluginsMap_.blades.reduce((i,r)=>i!=null?i:r.api({controller:e,pool:this}),null);if(!t)throw x.shouldNeverHappen();return t}}function dd(){const n=new cd;return[Nc,jc,Kc,Yc,Sc,xc,wc,vc,vl,Wc,id,nd,Ge,Me,ti,mo].forEach(e=>{n.register(e)}),n}class ms extends a{constructor(e){super(e),this.emitter_=new D,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new f(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get options(){return this.controller_.valueController.props.get("options")}set options(e){this.controller_.valueController.props.set("options",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}}class vs extends a{constructor(e){super(e),this.emitter_=new D,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new f(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(e){this.controller_.valueController.sliderController.props.set("maxValue",e)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(e){this.controller_.valueController.sliderController.props.set("minValue",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}}class bs extends a{constructor(e){super(e),this.emitter_=new D,this.controller_.valueController.value.emitter.on("change",t=>{this.emitter_.emit("change",{event:new f(this,t.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(e){this.controller_.props.set("label",e)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(e){this.controller_.valueController.props.set("formatter",e)}get value(){return this.controller_.valueController.value.rawValue}set value(e){this.controller_.valueController.value.rawValue=e}on(e,t){const i=t.bind(this);return this.emitter_.on(e,r=>{i(r.event)}),this}}const pd=function(){return{id:"list",type:"blade",accept(n){const e=le,t=ve(n,{options:e.required.custom(Oi),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return t?{params:t}:null},controller(n){const e=new oi(n.document,{props:C.fromObject({options:Mo(n.params.options)}),value:U(n.params.value),viewProps:n.viewProps});return new yt(n.document,{blade:n.blade,props:C.fromObject({label:n.params.label}),valueController:e})},api(n){return!(n.controller instanceof yt)||!(n.controller.valueController instanceof oi)?null:new ms(n.controller)}}}();function ud(n){return n.reduce((e,t)=>Object.assign(e,{[t.presetKey]:t.read()}),{})}function hd(n,e){n.forEach(t=>{const i=e[t.presetKey];i!==void 0&&t.write(i)})}class fd extends O{constructor(e,t){super(e,t)}get element(){return this.controller_.view.element}importPreset(e){const t=this.controller_.rackController.rack.find(Xe).map(i=>i.binding.target);hd(t,e),this.refresh()}exportPreset(){const e=this.controller_.rackController.rack.find(Xe).map(t=>t.binding.target);return ud(e)}refresh(){this.controller_.rackController.rack.find(Xe).forEach(e=>{e.binding.read()}),this.controller_.rackController.rack.find(We).forEach(e=>{e.binding.read()})}}class md extends xe{constructor(e,t){super(e,{expanded:t.expanded,blade:t.blade,props:t.props,root:!0,viewProps:t.viewProps})}}const vd={id:"slider",type:"blade",accept(n){const e=le,t=ve(n,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return t?{params:t}:null},controller(n){var e,t;const i=(e=n.params.value)!==null&&e!==void 0?e:0,r=new gr(n.document,{baseStep:1,parser:Wt,sliderProps:C.fromObject({maxValue:n.params.max,minValue:n.params.min}),textProps:C.fromObject({draggingScale:Nn(void 0,i),formatter:(t=n.params.format)!==null&&t!==void 0?t:nl}),value:U(i),viewProps:n.viewProps});return new yt(n.document,{blade:n.blade,props:C.fromObject({label:n.params.label}),valueController:r})},api(n){return!(n.controller instanceof yt)||!(n.controller.valueController instanceof gr)?null:new vs(n.controller)}},bd=function(){return{id:"text",type:"blade",accept(n){const e=le,t=ve(n,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return t?{params:t}:null},controller(n){var e;const t=new Ri(n.document,{parser:n.params.parse,props:C.fromObject({formatter:(e=n.params.format)!==null&&e!==void 0?e:i=>String(i)}),value:U(n.params.value),viewProps:n.viewProps});return new yt(n.document,{blade:n.blade,props:C.fromObject({label:n.params.label}),valueController:t})},api(n){return!(n.controller instanceof yt)||!(n.controller.valueController instanceof Ri)?null:new bs(n.controller)}}}();function gd(n){const e=n.createElement("div");return e.classList.add(V("dfw")()),n.body&&n.body.appendChild(e),e}function gs(n,e,t){if(n.querySelector(`style[data-tp-style=${e}]`))return;const i=n.createElement("style");i.dataset.tpStyle=e,i.textContent=t,n.head.appendChild(i)}class _d extends fd{constructor(e){var t,i;const r=e!=null?e:{},c=(t=r.document)!==null&&t!==void 0?t:Q(),v=dd(),E=new md(c,{expanded:r.expanded,blade:Ne(),props:C.fromObject({title:r.title}),viewProps:vt.create()});super(E,v),this.pool_=v,this.containerElem_=(i=r.container)!==null&&i!==void 0?i:gd(c),this.containerElem_.appendChild(this.element),this.doc_=c,this.usesDefaultWrapper_=!r.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw x.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw x.alreadyDisposed();if(this.usesDefaultWrapper_){const t=e.parentElement;t&&t.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(i=>{this.pool_.register(i),this.embedPluginStyle_(i)})}embedPluginStyle_(e){e.css&&gs(this.document,`plugin-${e.id}`,e.css)}setUpDefaultPlugins_(){gs(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230deg, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230deg, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230deg, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230deg, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230deg, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(e=>{this.embedPluginStyle_(e)}),this.registerPlugin({plugins:[vd,pd,mo,bd]})}}const wd=new s("3.1.1");l.BladeApi=a,l.ButtonApi=J,l.FolderApi=O,l.InputBindingApi=ft,l.ListApi=ms,l.MonitorBindingApi=$t,l.Pane=_d,l.SeparatorApi=Qt,l.SliderApi=vs,l.TabApi=uo,l.TabPageApi=po,l.TextApi=bs,l.TpChangeEvent=f,l.VERSION=wd,Object.defineProperty(l,"__esModule",{value:!0})})})(Qr,Qr.exports);const Ks=new Qr.exports.Pane;class Zd{constructor(o){Re(this,"canvas");Re(this,"size");Re(this,"scene");Re(this,"camera");Re(this,"renderer");Re(this,"sunLight");Re(this,"ambientLight");this.canvas=o,this.size=this.setSize(),this.scene=new Ed,this.camera=this.setCamera(),this.renderer=this.setRenderer(),this.sunLight=this.setSunLight(),this.ambientLight=this.setAmbientLight(),this.init()}init(){this.scene.add(this.camera),this.scene.add(this.sunLight),this.scene.add(this.ambientLight),this.buildPane(),this.buildHelper()}updateSize(){this.size=this.setSize(),this.camera.left=-this.size.aspect*this.size.frustum/2,this.camera.right=this.size.aspect*this.size.frustum/2,this.camera.top=this.size.frustum/2,this.camera.bottom=-this.size.frustum/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.size.width,this.size.height),this.renderer.setPixelRatio(this.size.pixelRatio)}render(){this.camera.updateMatrixWorld(),this.renderer.render(this.scene,this.camera)}buildPane(){const o=Ks.addFolder({title:"camera"}),l=o.addFolder({title:"position",expanded:!1});l.addInput(this.camera.position,"x",{min:-10,max:20,step:.01}),l.addInput(this.camera.position,"y",{min:-10,max:20,step:.01}),l.addInput(this.camera.position,"z",{min:-10,max:20,step:.01});const s=o.addFolder({title:"rotation",expanded:!1});s.addInput(this.camera.rotation,"x",{min:-1,max:1,step:.01}),s.addInput(this.camera.rotation,"y",{min:-1,max:1,step:.01}),s.addInput(this.camera.rotation,"z",{min:-1,max:1,step:.01})}buildHelper(){const o=new Pd(30);this.scene.add(o);const l=new kd(100,30,2894892,8947848);this.scene.add(l)}setSize(){const o=window.innerWidth,l=window.innerHeight;return{width:o,height:l,aspect:o/l,pixelRatio:Math.min(window.devicePixelRatio,2),frustum:5}}setCamera(){const o=new Sd(-this.size.aspect*this.size.frustum/2,this.size.aspect*this.size.frustum/2,this.size.frustum/2,-this.size.frustum/2,-50,50);return o.position.y=7.1,o.position.z=10,o.rotation.x=-Math.PI/5,o}setRenderer(){const o=new Td({antialias:!0,canvas:this.canvas});return o.physicallyCorrectLights=!0,o.outputEncoding=Vd,o.toneMapping=Ld,o.toneMappingExposure=1.75,o.shadowMap.enabled=!0,o.shadowMap.type=Md,o.setSize(this.size.width,this.size.height),o.setPixelRatio(this.size.pixelRatio),o}setSunLight(){const o=new Ad("#ffffff",3);return o.castShadow=!0,o.shadow.camera.far=20,o.shadow.mapSize.set(2048,2048),o.shadow.normalBias=.05,o.position.set(-1.5,7,3),o}setAmbientLight(){return new Rd("#ffffff",1)}}class Jd{constructor(o){Re(this,"body");Re(this,"children");Re(this,"mixer");this.children={},this.body=this.setBody(o),this.mixer=this.setMixer(o),this.init()}init(){this.onMousemove(),this.buildPane(),$s.on(no.Tick,o=>{const l=o.getDelta();this.mixer.update(l)})}setBody(o){const s=o.modelRoom.scene;return s.scale.set(.11,.11,.11),s.children.forEach(a=>{if(a.castShadow=!0,a.receiveShadow=!0,a instanceof Fs&&a.children.forEach(f=>{f.castShadow=!0,f.receiveShadow=!0}),a.name==="Aquarium"){const f=a.children[0];if(f instanceof or){const u=new Dd;u.roughness=0,u.color.set(5545426),u.ior=3,u.transmission=1,u.opacity=1,f.material=u}}if(a.name==="Computer"){const f=a.children[1];f instanceof or&&(f.material=new Od({map:o.textureKda}))}a.name==="Mini_Floor"&&(a.position.x=-.289521,a.position.z=8.83572),a.name==="Cube"&&(a.position.set(0,-1,0),a.rotation.y=Math.PI/4);const d=a.name.toLowerCase();this.children[d]=a,a.scale.set(0,0,0)}),s}setMixer(o){const l=new Id(this.body);return l.clipAction(o.modelRoom.animations[0]).play(),l}buildPane(){const o=Ks.addFolder({title:"room"}),l=o.addFolder({title:"position",expanded:!1});l.addInput(this.body.position,"x",{min:-10,max:20,step:.01}),l.addInput(this.body.position,"y",{min:-10,max:20,step:.01}),l.addInput(this.body.position,"z",{min:-10,max:20,step:.01});const s=o.addFolder({title:"rotation",expanded:!1});s.addInput(this.body.rotation,"x",{min:-1,max:1,step:.01}),s.addInput(this.body.rotation,"y",{min:-1,max:1,step:.01}),s.addInput(this.body.rotation,"z",{min:-1,max:1,step:.01})}onMousemove(){window.addEventListener("mousemove",o=>{const s=(o.clientX-window.innerWidth/2)*2/window.innerWidth*.05;this.body.rotation.y=s})}}class ep{constructor(){Re(this,"body");Re(this,"background");Re(this,"circlePink");Re(this,"circleBlue");Re(this,"circleGreen");this.body=new Fs,this.background=this.setBackground(),this.circlePink=this.setCircle(15049130,new Nr(0,-.29,0)),this.circleBlue=this.setCircle(8623565,new Nr(2,-.28,0)),this.circleGreen=this.setCircle(8048812,new Nr(0,-.27,0)),this.body.add(this.background),this.body.add(this.circlePink),this.body.add(this.circleBlue),this.body.add(this.circleGreen)}setBackground(){const o=new Nd(100,100),l=new ws({color:16770722,side:Bd}),s=new or(o,l);return s.rotation.x=Math.PI/2,s.position.y=-.3,s.receiveShadow=!0,s}setCircle(o,l){const s=new zd(5,64),a=new ws({color:o}),d=new or(s,a);return d.position.set(l.x,l.y,l.z),d.scale.set(0,0,0),d.rotation.x=-Math.PI/2,d.receiveShadow=!0,d}}function ys(p,o){for(var l=0;l<o.length;l++){var s=o[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(p,s.key,s)}}function tp(p,o,l){return o&&ys(p.prototype,o),l&&ys(p,l),p}/*!
 * Observer 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var st,Kr,Pt,un,hn,Zn,qs,Pn,yi,Ys,nn,Nt,Gs=function(){return st||typeof window<"u"&&(st=window.gsap)&&st.registerPlugin&&st},Xs=1,Yn=[],de=[],Xt=[],Ci=Date.now,qr=function(o,l){return l},np=function(){var o=yi.core,l=o.bridge||{},s=o._scrollers,a=o._proxies;s.push.apply(s,de),a.push.apply(a,Xt),de=s,Xt=a,qr=function(f,u){return l[f](u)}},mn=function(o,l){return~Xt.indexOf(o)&&Xt[Xt.indexOf(o)+1][l]},Ei=function(o){return!!~Ys.indexOf(o)},gt=function(o,l,s,a,d){return o.addEventListener(l,s,{passive:!a,capture:!!d})},lt=function(o,l,s,a){return o.removeEventListener(l,s,!!a)},ji="scrollLeft",Hi="scrollTop",Yr=function(){return nn&&nn.isPressed||de.cache++},sr=function(o,l){var s=function a(d){if(d||d===0){Xs&&(Pt.history.scrollRestoration="manual");var f=nn&&nn.isPressed;d=a.v=Math.round(d)||(nn&&nn.iOS?1:0),o(d),a.cacheID=de.cache,f&&qr("ss",d)}else(l||de.cache!==a.cacheID||qr("ref"))&&(a.cacheID=de.cache,a.v=o());return a.v+a.offset};return s.offset=0,o&&s},pt={s:ji,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:sr(function(p){return arguments.length?Pt.scrollTo(p,Qe.sc()):Pt.pageXOffset||un[ji]||hn[ji]||Zn[ji]||0})},Qe={s:Hi,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:pt,sc:sr(function(p){return arguments.length?Pt.scrollTo(pt.sc(),p):Pt.pageYOffset||un[Hi]||hn[Hi]||Zn[Hi]||0})},_t=function(o){return st.utils.toArray(o)[0]||(typeof o=="string"&&st.config().nullTargetWarn!==!1?console.warn("Element not found:",o):null)},vn=function(o,l){var s=l.s,a=l.sc;Ei(o)&&(o=un.scrollingElement||hn);var d=de.indexOf(o),f=a===Qe.sc?1:2;!~d&&(d=de.push(o)-1),de[d+f]||o.addEventListener("scroll",Yr);var u=de[d+f],k=u||(de[d+f]=sr(mn(o,s),!0)||(Ei(o)?a:sr(function(P){return arguments.length?o[s]=P:o[s]})));return k.target=o,u||(k.smooth=st.getProperty(o,"scrollBehavior")==="smooth"),k},Gr=function(o,l,s){var a=o,d=o,f=Ci(),u=f,k=l||50,P=Math.max(500,k*3),I=function(x,ee){var J=Ci();ee||J-f>k?(d=a,a=x,u=f,f=J):s?a+=x:a=d+(x-d)/(J-u)*(f-u)},L=function(){d=a=s?0:a,u=f=0},A=function(x){var ee=u,J=d,D=Ci();return(x||x===0)&&x!==a&&I(x),f===u||D-u>P?0:(a+(s?J:-J))/((s?D:f)-ee)*1e3};return{update:I,reset:L,getVelocity:A}},vi=function(o,l){return l&&!o._gsapAllow&&o.preventDefault(),o.changedTouches?o.changedTouches[0]:o},Cs=function(o){var l=Math.max.apply(Math,o),s=Math.min.apply(Math,o);return Math.abs(l)>=Math.abs(s)?l:s},Ws=function(){yi=st.core.globals().ScrollTrigger,yi&&yi.core&&np()},Zs=function(o){return st=o||Gs(),st&&typeof document<"u"&&document.body&&(Pt=window,un=document,hn=un.documentElement,Zn=un.body,Ys=[Pt,un,hn,Zn],st.utils.clamp,Pn="onpointerenter"in Zn?"pointer":"mouse",qs=He.isTouch=Pt.matchMedia&&Pt.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Pt||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Nt=He.eventTypes=("ontouchstart"in hn?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in hn?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Xs=0},500),Ws(),Kr=1),Kr};pt.op=Qe;de.cache=0;var He=function(){function p(l){this.init(l)}var o=p.prototype;return o.init=function(s){Kr||Zs(st)||console.warn("Please gsap.registerPlugin(Observer)"),yi||Ws();var a=s.tolerance,d=s.dragMinimum,f=s.type,u=s.target,k=s.lineHeight,P=s.debounce,I=s.preventDefault,L=s.onStop,A=s.onStopDelay,y=s.ignore,x=s.wheelSpeed,ee=s.event,J=s.onDragStart,D=s.onDragEnd,me=s.onDrag,V=s.onPress,q=s.onRelease,_e=s.onRight,X=s.onLeft,z=s.onUp,Ke=s.onDown,Fe=s.onChangeX,Y=s.onChangeY,ie=s.onChange,re=s.onToggleX,nt=s.onToggleY,Ve=s.onHover,Ie=s.onHoverEnd,U=s.onMove,C=s.ignoreCheck,oe=s.isNormalizer,B=s.onGestureStart,g=s.onGestureEnd,ye=s.onWheel,it=s.onEnable,le=s.onDisable,ve=s.onClick,kt=s.scrollSpeed,be=s.capture,w=s.allowClicks,h=s.lockAxis,m=s.onLockAxis;this.target=u=_t(u)||hn,this.vars=s,y&&(y=st.utils.toArray(y)),a=a||1e-9,d=d||0,x=x||1,kt=kt||1,f=f||"wheel,touch,pointer",P=P!==!1,k||(k=parseFloat(Pt.getComputedStyle(Zn).lineHeight)||22);var S,R,T,M,H,Q,W,b=this,pe=0,te=0,Ue=vn(u,pt),qe=vn(u,Qe),Ft=Ue(),je=qe(),wt=~f.indexOf("touch")&&!~f.indexOf("pointer")&&Nt[0]==="pointerdown",jt=Ei(u),Ce=u.ownerDocument||un,Ye=[0,0,0],Ge=[0,0,0],St=0,Ne=function(){return St=Ci()},rt=function(_,O){return(b.event=_)&&y&&~y.indexOf(_.target)||O&&wt&&_.pointerType!=="touch"||C&&C(_,O)},bn=function(){b._vx.reset(),b._vy.reset(),R.pause(),L&&L(b)},Dt=function(){var _=b.deltaX=Cs(Ye),O=b.deltaY=Cs(Ge),N=Math.abs(_)>=a,$=Math.abs(O)>=a;ie&&(N||$)&&ie(b,_,O,Ye,Ge),N&&(_e&&b.deltaX>0&&_e(b),X&&b.deltaX<0&&X(b),Fe&&Fe(b),re&&b.deltaX<0!=pe<0&&re(b),pe=b.deltaX,Ye[0]=Ye[1]=Ye[2]=0),$&&(Ke&&b.deltaY>0&&Ke(b),z&&b.deltaY<0&&z(b),Y&&Y(b),nt&&b.deltaY<0!=te<0&&nt(b),te=b.deltaY,Ge[0]=Ge[1]=Ge[2]=0),(M||T)&&(U&&U(b),T&&(me(b),T=!1),M=!1),Q&&!(Q=!1)&&m&&m(b),H&&(ye(b),H=!1),S=0},Ot=function(_,O,N){Ye[N]+=_,Ge[N]+=O,b._vx.update(_),b._vy.update(O),P?S||(S=requestAnimationFrame(Dt)):Dt()},Ht=function(_,O){h&&!W&&(b.axis=W=Math.abs(_)>Math.abs(O)?"x":"y",Q=!0),W!=="y"&&(Ye[2]+=_,b._vx.update(_,!0)),W!=="x"&&(Ge[2]+=O,b._vy.update(O,!0)),P?S||(S=requestAnimationFrame(Dt)):Dt()},he=function(_){if(!rt(_,1)){_=vi(_,I);var O=_.clientX,N=_.clientY,$=O-b.x,Be=N-b.y,G=b.isDragging;b.x=O,b.y=N,(G||Math.abs(b.startX-O)>=d||Math.abs(b.startY-N)>=d)&&(me&&(T=!0),G||(b.isDragging=!0),Ht($,Be),G||J&&J(b))}},Ut=b.onPress=function(ae){rt(ae,1)||(b.axis=W=null,R.pause(),b.isPressed=!0,ae=vi(ae),pe=te=0,b.startX=b.x=ae.clientX,b.startY=b.y=ae.clientY,b._vx.reset(),b._vy.reset(),gt(oe?u:Ce,Nt[1],he,I,!0),b.deltaX=b.deltaY=0,V&&V(b))},at=function(_){if(!rt(_,1)){lt(oe?u:Ce,Nt[1],he,!0);var O=b.isDragging&&(Math.abs(b.x-b.startX)>3||Math.abs(b.y-b.startY)>3),N=vi(_);O||(b._vx.reset(),b._vy.reset(),I&&w&&st.delayedCall(.08,function(){if(Ci()-St>300&&!_.defaultPrevented){if(_.target.click)_.target.click();else if(Ce.createEvent){var $=Ce.createEvent("MouseEvents");$.initMouseEvent("click",!0,!0,Pt,1,N.screenX,N.screenY,N.clientX,N.clientY,!1,!1,!1,!1,0,null),_.target.dispatchEvent($)}}})),b.isDragging=b.isGesturing=b.isPressed=!1,L&&!oe&&R.restart(!0),D&&O&&D(b),q&&q(b,O)}},xt=function(_){return _.touches&&_.touches.length>1&&(b.isGesturing=!0)&&B(_,b.isDragging)},ht=function(){return(b.isGesturing=!1)||g(b)},ft=function(_){if(!rt(_)){var O=Ue(),N=qe();Ot((O-Ft)*kt,(N-je)*kt,1),Ft=O,je=N,L&&R.restart(!0)}},Xe=function(_){if(!rt(_)){_=vi(_,I),ye&&(H=!0);var O=(_.deltaMode===1?k:_.deltaMode===2?Pt.innerHeight:1)*x;Ot(_.deltaX*O,_.deltaY*O,0),L&&!oe&&R.restart(!0)}},$t=function(_){if(!rt(_)){var O=_.clientX,N=_.clientY,$=O-b.x,Be=N-b.y;b.x=O,b.y=N,M=!0,($||Be)&&Ht($,Be)}},We=function(_){b.event=_,Ve(b)},gn=function(_){b.event=_,Ie(b)},It=function(_){return rt(_)||vi(_,I)&&ve(b)};R=b._dc=st.delayedCall(A||.25,bn).pause(),b.deltaX=b.deltaY=0,b._vx=Gr(0,50,!0),b._vy=Gr(0,50,!0),b.scrollX=Ue,b.scrollY=qe,b.isDragging=b.isGesturing=b.isPressed=!1,b.enable=function(ae){return b.isEnabled||(gt(jt?Ce:u,"scroll",Yr),f.indexOf("scroll")>=0&&gt(jt?Ce:u,"scroll",ft,I,be),f.indexOf("wheel")>=0&&gt(u,"wheel",Xe,I,be),(f.indexOf("touch")>=0&&qs||f.indexOf("pointer")>=0)&&(gt(u,Nt[0],Ut,I,be),gt(Ce,Nt[2],at),gt(Ce,Nt[3],at),w&&gt(u,"click",Ne,!1,!0),ve&&gt(u,"click",It),B&&gt(Ce,"gesturestart",xt),g&&gt(Ce,"gestureend",ht),Ve&&gt(u,Pn+"enter",We),Ie&&gt(u,Pn+"leave",gn),U&&gt(u,Pn+"move",$t)),b.isEnabled=!0,ae&&ae.type&&Ut(ae),it&&it(b)),b},b.disable=function(){b.isEnabled&&(Yn.filter(function(ae){return ae!==b&&Ei(ae.target)}).length||lt(jt?Ce:u,"scroll",Yr),b.isPressed&&(b._vx.reset(),b._vy.reset(),lt(oe?u:Ce,Nt[1],he,!0)),lt(jt?Ce:u,"scroll",ft,be),lt(u,"wheel",Xe,be),lt(u,Nt[0],Ut,be),lt(Ce,Nt[2],at),lt(Ce,Nt[3],at),lt(u,"click",Ne,!0),lt(u,"click",It),lt(Ce,"gesturestart",xt),lt(Ce,"gestureend",ht),lt(u,Pn+"enter",We),lt(u,Pn+"leave",gn),lt(u,Pn+"move",$t),b.isEnabled=b.isPressed=b.isDragging=!1,le&&le(b))},b.kill=function(){b.disable();var ae=Yn.indexOf(b);ae>=0&&Yn.splice(ae,1),nn===b&&(nn=0)},Yn.push(b),oe&&Ei(u)&&(nn=b),b.enable(ee)},tp(p,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),p}();He.version="3.11.3";He.create=function(p){return new He(p)};He.register=Zs;He.getAll=function(){return Yn.slice()};He.getById=function(p){return Yn.filter(function(o){return o.vars.id===p})[0]};Gs()&&st.registerPlugin(He);/*!
 * ScrollTrigger 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var j,Kn,ce,Te,Yt,De,Js,ar,lr,Gn,Zi,Ui,ot,dr,Xr,ct,Es,Ps,qn,ea,Br,ta,Ct,na,ia,ra,pn,Wr,io,zr,$i=1,dt=Date.now,Fr=dt(),Rt=0,Qi=0,ks=function(){return dr=1},Ss=function(){return dr=0},qt=function(o){return o},_i=function(o){return Math.round(o*1e5)/1e5||0},oa=function(){return typeof window<"u"},sa=function(){return j||oa()&&(j=window.gsap)&&j.registerPlugin&&j},Mn=function(o){return!!~Js.indexOf(o)},aa=function(o){return mn(o,"getBoundingClientRect")||(Mn(o)?function(){return rr.width=ce.innerWidth,rr.height=ce.innerHeight,rr}:function(){return tn(o)})},ip=function(o,l,s){var a=s.d,d=s.d2,f=s.a;return(f=mn(o,"getBoundingClientRect"))?function(){return f()[a]}:function(){return(l?ce["inner"+d]:o["client"+d])||0}},rp=function(o,l){return!l||~Xt.indexOf(o)?aa(o):function(){return rr}},fn=function(o,l){var s=l.s,a=l.d2,d=l.d,f=l.a;return(s="scroll"+a)&&(f=mn(o,s))?f()-aa(o)()[d]:Mn(o)?(Yt[s]||De[s])-(ce["inner"+a]||Yt["client"+a]||De["client"+a]):o[s]-o["offset"+a]},Ki=function(o,l){for(var s=0;s<qn.length;s+=3)(!l||~l.indexOf(qn[s+1]))&&o(qn[s],qn[s+1],qn[s+2])},Bt=function(o){return typeof o=="string"},ut=function(o){return typeof o=="function"},wi=function(o){return typeof o=="number"},Ji=function(o){return typeof o=="object"},bi=function(o,l,s){return o&&o.progress(l?0:1)&&s&&o.pause()},jr=function(o,l){if(o.enabled){var s=l(o);s&&s.totalTime&&(o.callbackAnimation=s)}},$n=Math.abs,la="left",ca="top",ro="right",oo="bottom",Tn="width",Vn="height",Pi="Right",ki="Left",Si="Top",Ti="Bottom",ze="padding",At="margin",ei="Width",so="Height",et="px",Gt=function(o){return ce.getComputedStyle(o)},op=function(o){var l=Gt(o).position;o.style.position=l==="absolute"||l==="fixed"?l:"relative"},Ts=function(o,l){for(var s in l)s in o||(o[s]=l[s]);return o},tn=function(o,l){var s=l&&Gt(o)[Xr]!=="matrix(1, 0, 0, 1, 0, 0)"&&j.to(o,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=o.getBoundingClientRect();return s&&s.progress(0).kill(),a},Zr=function(o,l){var s=l.d2;return o["offset"+s]||o["client"+s]||0},da=function(o){var l=[],s=o.labels,a=o.duration(),d;for(d in s)l.push(s[d]/a);return l},sp=function(o){return function(l){return j.utils.snap(da(o),l)}},ao=function(o){var l=j.utils.snap(o),s=Array.isArray(o)&&o.slice(0).sort(function(a,d){return a-d});return s?function(a,d,f){f===void 0&&(f=.001);var u;if(!d)return l(a);if(d>0){for(a-=f,u=0;u<s.length;u++)if(s[u]>=a)return s[u];return s[u-1]}else for(u=s.length,a+=f;u--;)if(s[u]<=a)return s[u];return s[0]}:function(a,d,f){f===void 0&&(f=.001);var u=l(a);return!d||Math.abs(u-a)<f||u-a<0==d<0?u:l(d<0?a-o:a+o)}},ap=function(o){return function(l,s){return ao(da(o))(l,s.direction)}},qi=function(o,l,s,a){return s.split(",").forEach(function(d){return o(l,d,a)})},tt=function(o,l,s,a,d){return o.addEventListener(l,s,{passive:!a,capture:!!d})},Ze=function(o,l,s,a){return o.removeEventListener(l,s,!!a)},Yi=function(o,l,s){return s&&s.wheelHandler&&o(l,"wheel",s)},Vs={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Gi={toggleActions:"play",anticipatePin:0},cr={top:0,left:0,center:.5,bottom:1,right:1},er=function(o,l){if(Bt(o)){var s=o.indexOf("="),a=~s?+(o.charAt(s-1)+1)*parseFloat(o.substr(s+1)):0;~s&&(o.indexOf("%")>s&&(a*=l/100),o=o.substr(0,s-1)),o=a+(o in cr?cr[o]*l:~o.indexOf("%")?parseFloat(o)*l/100:parseFloat(o)||0)}return o},Xi=function(o,l,s,a,d,f,u,k){var P=d.startColor,I=d.endColor,L=d.fontSize,A=d.indent,y=d.fontWeight,x=Te.createElement("div"),ee=Mn(s)||mn(s,"pinType")==="fixed",J=o.indexOf("scroller")!==-1,D=ee?De:s,me=o.indexOf("start")!==-1,V=me?P:I,q="border-color:"+V+";font-size:"+L+";color:"+V+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return q+="position:"+((J||k)&&ee?"fixed;":"absolute;"),(J||k||!ee)&&(q+=(a===Qe?ro:oo)+":"+(f+parseFloat(A))+"px;"),u&&(q+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),x._isStart=me,x.setAttribute("class","gsap-marker-"+o+(l?" marker-"+l:"")),x.style.cssText=q,x.innerText=l||l===0?o+"-"+l:o,D.children[0]?D.insertBefore(x,D.children[0]):D.appendChild(x),x._offset=x["offset"+a.op.d2],tr(x,0,a,me),x},tr=function(o,l,s,a){var d={display:"block"},f=s[a?"os2":"p2"],u=s[a?"p2":"os2"];o._isFlipped=a,d[s.a+"Percent"]=a?-100:0,d[s.a]=a?"1px":0,d["border"+f+ei]=1,d["border"+u+ei]=0,d[s.p]=l+"px",j.set(o,d)},ne=[],Jr={},Vi,Ls=function(){return dt()-Rt>34&&(Vi||(Vi=requestAnimationFrame(Dn)))},Qn=function(){(!Ct||!Ct.isPressed||Ct.startX>De.clientWidth)&&(de.cache++,Ct?Vi||(Vi=requestAnimationFrame(Dn)):Dn(),Rt||Rn("scrollStart"),Rt=dt())},Hr=function(){ra=ce.innerWidth,ia=ce.innerHeight},xi=function(){de.cache++,!ot&&!ta&&!Te.fullscreenElement&&!Te.webkitFullscreenElement&&(!na||ra!==ce.innerWidth||Math.abs(ce.innerHeight-ia)>ce.innerHeight*.25)&&ar.restart(!0)},An={},lp=[],pa=function p(){return Ze(Z,"scrollEnd",p)||Sn(!0)},Rn=function(o){return An[o]&&An[o].map(function(l){return l()})||lp},Et=[],ua=function(o){for(var l=0;l<Et.length;l+=5)(!o||Et[l+4]&&Et[l+4].query===o)&&(Et[l].style.cssText=Et[l+1],Et[l].getBBox&&Et[l].setAttribute("transform",Et[l+2]||""),Et[l+3].uncache=1)},lo=function(o,l){var s;for(ct=0;ct<ne.length;ct++)s=ne[ct],s&&(!l||s._ctx===l)&&(o?s.kill(1):s.revert(!0,!0));l&&ua(l),l||Rn("revert")},ha=function(o,l){de.cache++,(l||!zt)&&de.forEach(function(s){return ut(s)&&s.cacheID++&&(s.rec=0)}),Bt(o)&&(ce.history.scrollRestoration=io=o)},zt,Ln=0,Ms,cp=function(){if(Ms!==Ln){var o=Ms=Ln;requestAnimationFrame(function(){return o===Ln&&Sn(!0)})}},Sn=function(o,l){if(Rt&&!o){tt(Z,"scrollEnd",pa);return}zt=Z.isRefreshing=!0,de.forEach(function(a){return ut(a)&&a.cacheID++&&(a.rec=a())});var s=Rn("refreshInit");ea&&Z.sort(),l||lo(),de.forEach(function(a){ut(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),ne.slice(0).forEach(function(a){return a.refresh()}),ne.forEach(function(a,d){if(a._subPinOffset&&a.pin){var f=a.vars.horizontal?"offsetWidth":"offsetHeight",u=a.pin[f];a.revert(!0,1),a.adjustPinSpacing(a.pin[f]-u),a.revert(!1,1)}}),ne.forEach(function(a){return a.vars.end==="max"&&a.setPositions(a.start,Math.max(a.start+1,fn(a.scroller,a._dir)))}),s.forEach(function(a){return a&&a.render&&a.render(-1)}),de.forEach(function(a){ut(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),ha(io,1),ar.pause(),Ln++,Dn(2),ne.forEach(function(a){return ut(a.vars.onRefresh)&&a.vars.onRefresh(a)}),zt=Z.isRefreshing=!1,Rn("refresh")},As=0,nr=1,kn,Dn=function(o){if(!zt||o===2){Z.isUpdating=!0,kn&&kn.update(0);var l=ne.length,s=dt(),a=s-Fr>=50,d=l&&ne[0].scroll();if(nr=As>d?-1:1,As=d,a&&(Rt&&!dr&&s-Rt>200&&(Rt=0,Rn("scrollEnd")),Zi=Fr,Fr=s),nr<0){for(ct=l;ct-- >0;)ne[ct]&&ne[ct].update(0,a);nr=1}else for(ct=0;ct<l;ct++)ne[ct]&&ne[ct].update(0,a);Z.isUpdating=!1}Vi=0},eo=[la,ca,oo,ro,At+Ti,At+Pi,At+Si,At+ki,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ir=eo.concat([Tn,Vn,"boxSizing","max"+ei,"max"+so,"position",At,ze,ze+Si,ze+Pi,ze+Ti,ze+ki]),dp=function(o,l,s){Jn(s);var a=o._gsap;if(a.spacerIsNative)Jn(a.spacerState);else if(o._gsap.swappedIn){var d=l.parentNode;d&&(d.insertBefore(o,l),d.removeChild(l))}o._gsap.swappedIn=!1},Ur=function(o,l,s,a){if(!o._gsap.swappedIn){for(var d=eo.length,f=l.style,u=o.style,k;d--;)k=eo[d],f[k]=s[k];f.position=s.position==="absolute"?"absolute":"relative",s.display==="inline"&&(f.display="inline-block"),u[oo]=u[ro]="auto",f.flexBasis=s.flexBasis||"auto",f.overflow="visible",f.boxSizing="border-box",f[Tn]=Zr(o,pt)+et,f[Vn]=Zr(o,Qe)+et,f[ze]=u[At]=u[ca]=u[la]="0",Jn(a),u[Tn]=u["max"+ei]=s[Tn],u[Vn]=u["max"+so]=s[Vn],u[ze]=s[ze],o.parentNode!==l&&(o.parentNode.insertBefore(l,o),l.appendChild(o)),o._gsap.swappedIn=!0}},pp=/([A-Z])/g,Jn=function(o){if(o){var l=o.t.style,s=o.length,a=0,d,f;for((o.t._gsap||j.core.getCache(o.t)).uncache=1;a<s;a+=2)f=o[a+1],d=o[a],f?l[d]=f:l[d]&&l.removeProperty(d.replace(pp,"-$1").toLowerCase())}},Wi=function(o){for(var l=ir.length,s=o.style,a=[],d=0;d<l;d++)a.push(ir[d],s[ir[d]]);return a.t=o,a},up=function(o,l,s){for(var a=[],d=o.length,f=s?8:0,u;f<d;f+=2)u=o[f],a.push(u,u in l?l[u]:o[f+1]);return a.t=o.t,a},rr={left:0,top:0},Rs=function(o,l,s,a,d,f,u,k,P,I,L,A,y){ut(o)&&(o=o(k)),Bt(o)&&o.substr(0,3)==="max"&&(o=A+(o.charAt(4)==="="?er("0"+o.substr(3),s):0));var x=y?y.time():0,ee,J,D;if(y&&y.seek(0),wi(o))u&&tr(u,s,a,!0);else{ut(l)&&(l=l(k));var me=(o||"0").split(" "),V,q,_e,X;D=_t(l)||De,V=tn(D)||{},(!V||!V.left&&!V.top)&&Gt(D).display==="none"&&(X=D.style.display,D.style.display="block",V=tn(D),X?D.style.display=X:D.style.removeProperty("display")),q=er(me[0],V[a.d]),_e=er(me[1]||"0",s),o=V[a.p]-P[a.p]-I+q+d-_e,u&&tr(u,_e,a,s-_e<20||u._isStart&&_e>20),s-=s-_e}if(f){var z=o+s,Ke=f._isStart;ee="scroll"+a.d2,tr(f,z,a,Ke&&z>20||!Ke&&(L?Math.max(De[ee],Yt[ee]):f.parentNode[ee])<=z+1),L&&(P=tn(u),L&&(f.style[a.op.p]=P[a.op.p]-a.op.m-f._offset+et))}return y&&D&&(ee=tn(D),y.seek(A),J=tn(D),y._caScrollDist=ee[a.p]-J[a.p],o=o/y._caScrollDist*A),y&&y.seek(x),y?o:Math.round(o)},hp=/(webkit|moz|length|cssText|inset)/i,Ds=function(o,l,s,a){if(o.parentNode!==l){var d=o.style,f,u;if(l===De){o._stOrig=d.cssText,u=Gt(o);for(f in u)!+f&&!hp.test(f)&&u[f]&&typeof d[f]=="string"&&f!=="0"&&(d[f]=u[f]);d.top=s,d.left=a}else d.cssText=o._stOrig;j.core.getCache(o).uncache=1,l.appendChild(o)}},Os=function(o,l){var s=vn(o,l),a="_scroll"+l.p2,d,f,u=function k(P,I,L,A,y){var x=k.tween,ee=I.onComplete,J={};return L=L||s(),y=A&&y||0,A=A||P-L,x&&x.kill(),d=Math.round(L),I[a]=P,I.modifiers=J,J[a]=function(D){return D=Math.round(s()),D!==d&&D!==f&&Math.abs(D-d)>3&&Math.abs(D-f)>3?(x.kill(),k.tween=0):D=L+A*x.ratio+y*x.ratio*x.ratio,f=d,d=Math.round(D)},I.onComplete=function(){k.tween=0,ee&&ee.call(x)},x=k.tween=j.to(o,I),x};return o[a]=s,s.wheelHandler=function(){return u.tween&&u.tween.kill()&&(u.tween=0)},tt(o,"wheel",s.wheelHandler),u},Z=function(){function p(l,s){Kn||p.register(j)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(l,s)}var o=p.prototype;return o.init=function(s,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Qi){this.update=this.refresh=this.kill=qt;return}s=Ts(Bt(s)||wi(s)||s.nodeType?{trigger:s}:s,Gi);var d=s,f=d.onUpdate,u=d.toggleClass,k=d.id,P=d.onToggle,I=d.onRefresh,L=d.scrub,A=d.trigger,y=d.pin,x=d.pinSpacing,ee=d.invalidateOnRefresh,J=d.anticipatePin,D=d.onScrubComplete,me=d.onSnapComplete,V=d.once,q=d.snap,_e=d.pinReparent,X=d.pinSpacer,z=d.containerAnimation,Ke=d.fastScrollEnd,Fe=d.preventOverlaps,Y=s.horizontal||s.containerAnimation&&s.horizontal!==!1?pt:Qe,ie=!L&&L!==0,re=_t(s.scroller||ce),nt=j.core.getCache(re),Ve=Mn(re),Ie=("pinType"in s?s.pinType:mn(re,"pinType")||Ve&&"fixed")==="fixed",U=[s.onEnter,s.onLeave,s.onEnterBack,s.onLeaveBack],C=ie&&s.toggleActions.split(" "),oe="markers"in s?s.markers:Gi.markers,B=Ve?0:parseFloat(Gt(re)["border"+Y.p2+ei])||0,g=this,ye=s.onRefreshInit&&function(){return s.onRefreshInit(g)},it=ip(re,Ve,Y),le=rp(re,Ve),ve=0,kt=0,be=vn(re,Y),w,h,m,S,R,T,M,H,Q,W,b,pe,te,Ue,qe,Ft,je,wt,jt,Ce,Ye,Ge,St,Ne,rt,bn,Dt,Ot,Ht,he,Ut,at,xt,ht,ft,Xe,$t,We;if(Wr(g),g._dir=Y,J*=45,g.scroller=re,g.scroll=z?z.time.bind(z):be,S=be(),g.vars=s,a=a||s.animation,"refreshPriority"in s&&(ea=1,s.refreshPriority===-9999&&(kn=g)),nt.tweenScroll=nt.tweenScroll||{top:Os(re,Qe),left:Os(re,pt)},g.tweenTo=w=nt.tweenScroll[Y.p],g.scrubDuration=function(_){Ut=wi(_)&&_,Ut?he?he.duration(_):he=j.to(a,{ease:"expo",totalProgress:"+=0.001",duration:Ut,paused:!0,onComplete:function(){return D&&D(g)}}):(he&&he.progress(1).kill(),he=0)},a&&(a.vars.lazy=!1,a._initted||a.vars.immediateRender!==!1&&s.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),g.animation=a.pause(),a.scrollTrigger=g,g.scrubDuration(L),Ot=0,k||(k=a.vars.id)),ne.push(g),q&&((!Ji(q)||q.push)&&(q={snapTo:q}),"scrollBehavior"in De.style&&j.set(Ve?[De,Yt]:re,{scrollBehavior:"auto"}),de.forEach(function(_){return ut(_)&&_.target===(Ve?Te.scrollingElement||Yt:re)&&(_.smooth=!1)}),m=ut(q.snapTo)?q.snapTo:q.snapTo==="labels"?sp(a):q.snapTo==="labelsDirectional"?ap(a):q.directional!==!1?function(_,O){return ao(q.snapTo)(_,dt()-kt<500?0:O.direction)}:j.utils.snap(q.snapTo),at=q.duration||{min:.1,max:2},at=Ji(at)?Gn(at.min,at.max):Gn(at,at),xt=j.delayedCall(q.delay||Ut/2||.1,function(){var _=be(),O=dt()-kt<500,N=w.tween;if((O||Math.abs(g.getVelocity())<10)&&!N&&!dr&&ve!==_){var $=(_-T)/te,Be=a&&!ie?a.totalProgress():$,G=O?0:(Be-Ht)/(dt()-Zi)*1e3||0,Le=j.utils.clamp(-$,1-$,$n(G/2)*G/.185),we=$+(q.inertia===!1?0:Le),Tt=Gn(0,1,m(we,g)),ge=Math.round(T+Tt*te),Ee=q,mt=Ee.onStart,Pe=Ee.onInterrupt,xe=Ee.onComplete;if(_<=M&&_>=T&&ge!==_){if(N&&!N._initted&&N.data<=$n(ge-_))return;q.inertia===!1&&(Le=Tt-$),w(ge,{duration:at($n(Math.max($n(we-Be),$n(Tt-Be))*.185/G/.05||0)),ease:q.ease||"power3",data:$n(ge-_),onInterrupt:function(){return xt.restart(!0)&&Pe&&Pe(g)},onComplete:function(){g.update(),ve=be(),Ot=Ht=a&&!ie?a.totalProgress():g.progress,me&&me(g),xe&&xe(g)}},_,Le*te,ge-_-Le*te),mt&&mt(g,w.tween)}}else g.isActive&&ve!==_&&xt.restart(!0)}).pause()),k&&(Jr[k]=g),A=g.trigger=_t(A||y),We=A&&A._gsap&&A._gsap.stRevert,We&&(We=We(g)),y=y===!0?A:_t(y),Bt(u)&&(u={targets:A,className:u}),y&&(x===!1||x===At||(x=!x&&y.parentNode&&y.parentNode.style&&Gt(y.parentNode).display==="flex"?!1:ze),g.pin=y,h=j.core.getCache(y),h.spacer?Ue=h.pinState:(X&&(X=_t(X),X&&!X.nodeType&&(X=X.current||X.nativeElement),h.spacerIsNative=!!X,X&&(h.spacerState=Wi(X))),h.spacer=je=X||Te.createElement("div"),je.classList.add("pin-spacer"),k&&je.classList.add("pin-spacer-"+k),h.pinState=Ue=Wi(y)),s.force3D!==!1&&j.set(y,{force3D:!0}),g.spacer=je=h.spacer,Dt=Gt(y),St=Dt[x+Y.os2],jt=j.getProperty(y),Ce=j.quickSetter(y,Y.a,et),Ur(y,je,Dt),Ft=Wi(y)),oe){pe=Ji(oe)?Ts(oe,Vs):Vs,W=Xi("scroller-start",k,re,Y,pe,0),b=Xi("scroller-end",k,re,Y,pe,0,W),wt=W["offset"+Y.op.d2];var gn=_t(mn(re,"content")||re);H=this.markerStart=Xi("start",k,gn,Y,pe,wt,0,z),Q=this.markerEnd=Xi("end",k,gn,Y,pe,wt,0,z),z&&($t=j.quickSetter([H,Q],Y.a,et)),!Ie&&!(Xt.length&&mn(re,"fixedMarkers")===!0)&&(op(Ve?De:re),j.set([W,b],{force3D:!0}),rt=j.quickSetter(W,Y.a,et),bn=j.quickSetter(b,Y.a,et))}if(z){var It=z.vars.onUpdate,ae=z.vars.onUpdateParams;z.eventCallback("onUpdate",function(){g.update(0,0,1),It&&It.apply(ae||[])})}g.previous=function(){return ne[ne.indexOf(g)-1]},g.next=function(){return ne[ne.indexOf(g)+1]},g.revert=function(_,O){if(!O)return g.kill(!0);var N=_!==!1||!g.enabled,$=ot;N!==g.isReverted&&(N&&(ft=Math.max(be(),g.scroll.rec||0),ht=g.progress,Xe=a&&a.progress()),H&&[H,Q,W,b].forEach(function(Be){return Be.style.display=N?"none":"block"}),N&&(ot=1,g.update(N)),y&&(N?dp(y,je,Ue):(!_e||!g.isActive)&&Ur(y,je,Gt(y),Ne)),N||g.update(N),ot=$,g.isReverted=N)},g.refresh=function(_,O){if(!((ot||!g.enabled)&&!O)){if(y&&_&&Rt){tt(p,"scrollEnd",pa);return}!zt&&ye&&ye(g),ot=1,kt=dt(),w.tween&&(w.tween.kill(),w.tween=0),he&&he.pause(),ee&&a&&a.revert({kill:!1}).invalidate(),g.isReverted||g.revert(!0,!0),g._subPinOffset=!1;for(var N=it(),$=le(),Be=z?z.duration():fn(re,Y),G=0,Le=0,we=s.end,Tt=s.endTrigger||A,ge=s.start||(s.start===0||!A?0:y?"0 0":"0 100%"),Ee=g.pinnedContainer=s.pinnedContainer&&_t(s.pinnedContainer),mt=A&&Math.max(0,ne.indexOf(g))||0,Pe=mt,xe,Me,yt,Qt,Ae,ke,Vt,ti,Li,rn;Pe--;)ke=ne[Pe],ke.end||ke.refresh(0,1)||(ot=1),Vt=ke.pin,Vt&&(Vt===A||Vt===y)&&!ke.isReverted&&(rn||(rn=[]),rn.unshift(ke),ke.revert(!0,!0)),ke!==ne[Pe]&&(mt--,Pe--);for(ut(ge)&&(ge=ge(g)),T=Rs(ge,A,N,Y,be(),H,W,g,$,B,Ie,Be,z)||(y?-.001:0),ut(we)&&(we=we(g)),Bt(we)&&!we.indexOf("+=")&&(~we.indexOf(" ")?we=(Bt(ge)?ge.split(" ")[0]:"")+we:(G=er(we.substr(2),N),we=Bt(ge)?ge:T+G,Tt=A)),M=Math.max(T,Rs(we||(Tt?"100% 0":Be),Tt,N,Y,be()+G,Q,b,g,$,B,Ie,Be,z))||-.001,te=M-T||(T-=.01)&&.001,G=0,Pe=mt;Pe--;)ke=ne[Pe],Vt=ke.pin,Vt&&ke.start-ke._pinPush<=T&&!z&&ke.end>0&&(xe=ke.end-ke.start,(Vt===A&&ke.start-ke._pinPush<T||Vt===Ee)&&!wi(ge)&&(G+=xe*(1-ke.progress)),Vt===y&&(Le+=xe));if(T+=G,M+=G,g._pinPush=Le,H&&G&&(xe={},xe[Y.a]="+="+G,Ee&&(xe[Y.p]="-="+be()),j.set([H,Q],xe)),y)xe=Gt(y),Qt=Y===Qe,yt=be(),Ye=parseFloat(jt(Y.a))+Le,!Be&&M>1&&((Ve?De:re).style["overflow-"+Y.a]="scroll"),Ur(y,je,xe),Ft=Wi(y),Me=tn(y,!0),ti=Ie&&vn(re,Qt?pt:Qe)(),x&&(Ne=[x+Y.os2,te+Le+et],Ne.t=je,Pe=x===ze?Zr(y,Y)+te+Le:0,Pe&&Ne.push(Y.d,Pe+et),Jn(Ne),Ee&&ne.forEach(function(vt){vt.pin===Ee&&vt.vars.pinSpacing!==!1&&(vt._subPinOffset=!0)}),Ie&&be(ft)),Ie&&(Ae={top:Me.top+(Qt?yt-T:ti)+et,left:Me.left+(Qt?ti:yt-T)+et,boxSizing:"border-box",position:"fixed"},Ae[Tn]=Ae["max"+ei]=Math.ceil(Me.width)+et,Ae[Vn]=Ae["max"+so]=Math.ceil(Me.height)+et,Ae[At]=Ae[At+Si]=Ae[At+Pi]=Ae[At+Ti]=Ae[At+ki]="0",Ae[ze]=xe[ze],Ae[ze+Si]=xe[ze+Si],Ae[ze+Pi]=xe[ze+Pi],Ae[ze+Ti]=xe[ze+Ti],Ae[ze+ki]=xe[ze+ki],qe=up(Ue,Ae,_e),zt&&be(0)),a?(Li=a._initted,Br(1),a.render(a.duration(),!0,!0),Ge=jt(Y.a)-Ye+te+Le,te!==Ge&&Ie&&qe.splice(qe.length-2,2),a.render(0,!0,!0),Li||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),Br(0)):Ge=te;else if(A&&be()&&!z)for(Me=A.parentNode;Me&&Me!==De;)Me._pinOffset&&(T-=Me._pinOffset,M-=Me._pinOffset),Me=Me.parentNode;rn&&rn.forEach(function(vt){return vt.revert(!1,!0)}),g.start=T,g.end=M,S=R=zt?ft:be(),!z&&!zt&&(S<ft&&be(ft),g.scroll.rec=0),g.revert(!1,!0),xt&&(ve=-1,g.isActive&&be(T+te*ht),xt.restart(!0)),ot=0,a&&ie&&(a._initted||Xe)&&a.progress()!==Xe&&a.progress(Xe,!0).render(a.time(),!0,!0),(ht!==g.progress||z)&&(a&&!ie&&a.totalProgress(ht,!0),g.progress=(S-T)/te===ht?0:ht),y&&x&&(je._pinOffset=Math.round(g.progress*Ge)),I&&!zt&&I(g)}},g.getVelocity=function(){return(be()-R)/(dt()-Zi)*1e3||0},g.endAnimation=function(){bi(g.callbackAnimation),a&&(he?he.progress(1):a.paused()?ie||bi(a,g.direction<0,1):bi(a,a.reversed()))},g.labelToScroll=function(_){return a&&a.labels&&(T||g.refresh()||T)+a.labels[_]/a.duration()*te||0},g.getTrailing=function(_){var O=ne.indexOf(g),N=g.direction>0?ne.slice(0,O).reverse():ne.slice(O+1);return(Bt(_)?N.filter(function($){return $.vars.preventOverlaps===_}):N).filter(function($){return g.direction>0?$.end<=T:$.start>=M})},g.update=function(_,O,N){if(!(z&&!N&&!_)){var $=zt?ft:g.scroll(),Be=_?0:($-T)/te,G=Be<0?0:Be>1?1:Be||0,Le=g.progress,we,Tt,ge,Ee,mt,Pe,xe,Me;if(O&&(R=S,S=z?be():$,q&&(Ht=Ot,Ot=a&&!ie?a.totalProgress():G)),J&&!G&&y&&!ot&&!$i&&Rt&&T<$+($-R)/(dt()-Zi)*J&&(G=1e-4),G!==Le&&g.enabled){if(we=g.isActive=!!G&&G<1,Tt=!!Le&&Le<1,Pe=we!==Tt,mt=Pe||!!G!=!!Le,g.direction=G>Le?1:-1,g.progress=G,mt&&!ot&&(ge=G&&!Le?0:G===1?1:Le===1?2:3,ie&&(Ee=!Pe&&C[ge+1]!=="none"&&C[ge+1]||C[ge],Me=a&&(Ee==="complete"||Ee==="reset"||Ee in a))),Fe&&(Pe||Me)&&(Me||L||!a)&&(ut(Fe)?Fe(g):g.getTrailing(Fe).forEach(function(ke){return ke.endAnimation()})),ie||(he&&!ot&&!$i?((z||kn&&kn!==g)&&he.render(he._dp._time-he._start),he.resetTo?he.resetTo("totalProgress",G,a._tTime/a._tDur):(he.vars.totalProgress=G,he.invalidate().restart())):a&&a.totalProgress(G,!!ot)),y){if(_&&x&&(je.style[x+Y.os2]=St),!Ie)Ce(_i(Ye+Ge*G));else if(mt){if(xe=!_&&G>Le&&M+1>$&&$+1>=fn(re,Y),_e)if(!_&&(we||xe)){var yt=tn(y,!0),Qt=$-T;Ds(y,De,yt.top+(Y===Qe?Qt:0)+et,yt.left+(Y===Qe?0:Qt)+et)}else Ds(y,je);Jn(we||xe?qe:Ft),Ge!==te&&G<1&&we||Ce(Ye+(G===1&&!xe?Ge:0))}}q&&!w.tween&&!ot&&!$i&&xt.restart(!0),u&&(Pe||V&&G&&(G<1||!zr))&&lr(u.targets).forEach(function(ke){return ke.classList[we||V?"add":"remove"](u.className)}),f&&!ie&&!_&&f(g),mt&&!ot?(ie&&(Me&&(Ee==="complete"?a.pause().totalProgress(1):Ee==="reset"?a.restart(!0).pause():Ee==="restart"?a.restart(!0):a[Ee]()),f&&f(g)),(Pe||!zr)&&(P&&Pe&&jr(g,P),U[ge]&&jr(g,U[ge]),V&&(G===1?g.kill(!1,1):U[ge]=0),Pe||(ge=G===1?1:3,U[ge]&&jr(g,U[ge]))),Ke&&!we&&Math.abs(g.getVelocity())>(wi(Ke)?Ke:2500)&&(bi(g.callbackAnimation),he?he.progress(1):bi(a,Ee==="reverse"?1:!G,1))):ie&&f&&!ot&&f(g)}if(bn){var Ae=z?$/z.duration()*(z._caScrollDist||0):$;rt(Ae+(W._isFlipped?1:0)),bn(Ae)}$t&&$t(-$/z.duration()*(z._caScrollDist||0))}},g.enable=function(_,O){g.enabled||(g.enabled=!0,tt(re,"resize",xi),tt(Ve?Te:re,"scroll",Qn),ye&&tt(p,"refreshInit",ye),_!==!1&&(g.progress=ht=0,S=R=ve=be()),O!==!1&&g.refresh())},g.getTween=function(_){return _&&w?w.tween:he},g.setPositions=function(_,O){y&&(Ye+=_-T,Ge+=O-_-te,x===ze&&g.adjustPinSpacing(O-_-te)),g.start=T=_,g.end=M=O,te=O-_,g.update()},g.adjustPinSpacing=function(_){if(Ne){var O=Ne.indexOf(Y.d)+1;Ne[O]=parseFloat(Ne[O])+_+et,Ne[1]=parseFloat(Ne[1])+_+et,Jn(Ne)}},g.disable=function(_,O){if(g.enabled&&(_!==!1&&g.revert(!0,!0),g.enabled=g.isActive=!1,O||he&&he.pause(),ft=0,h&&(h.uncache=1),ye&&Ze(p,"refreshInit",ye),xt&&(xt.pause(),w.tween&&w.tween.kill()&&(w.tween=0)),!Ve)){for(var N=ne.length;N--;)if(ne[N].scroller===re&&ne[N]!==g)return;Ze(re,"resize",xi),Ze(re,"scroll",Qn)}},g.kill=function(_,O){g.disable(_,O),he&&!O&&he.kill(),k&&delete Jr[k];var N=ne.indexOf(g);N>=0&&ne.splice(N,1),N===ct&&nr>0&&ct--,N=0,ne.forEach(function($){return $.scroller===g.scroller&&(N=1)}),N||zt||(g.scroll.rec=0),a&&(a.scrollTrigger=null,_&&a.revert({kill:!1}),O||a.kill()),H&&[H,Q,W,b].forEach(function($){return $.parentNode&&$.parentNode.removeChild($)}),kn===g&&(kn=0),y&&(h&&(h.uncache=1),N=0,ne.forEach(function($){return $.pin===y&&N++}),N||(h.spacer=0)),s.onKill&&s.onKill(g)},g.enable(!1,!1),We&&We(g),!a||!a.add||te?g.refresh():j.delayedCall(.01,function(){return T||M||g.refresh()})&&(te=.01)&&(T=M=0),y&&cp()},p.register=function(s){return Kn||(j=s||sa(),oa()&&window.document&&p.enable(),Kn=Qi),Kn},p.defaults=function(s){if(s)for(var a in s)Gi[a]=s[a];return Gi},p.disable=function(s,a){Qi=0,ne.forEach(function(f){return f[a?"kill":"disable"](s)}),Ze(ce,"wheel",Qn),Ze(Te,"scroll",Qn),clearInterval(Ui),Ze(Te,"touchcancel",qt),Ze(De,"touchstart",qt),qi(Ze,Te,"pointerdown,touchstart,mousedown",ks),qi(Ze,Te,"pointerup,touchend,mouseup",Ss),ar.kill(),Ki(Ze);for(var d=0;d<de.length;d+=3)Yi(Ze,de[d],de[d+1]),Yi(Ze,de[d],de[d+2])},p.enable=function(){if(ce=window,Te=document,Yt=Te.documentElement,De=Te.body,j&&(lr=j.utils.toArray,Gn=j.utils.clamp,Wr=j.core.context||qt,Br=j.core.suppressOverwrites||qt,io=ce.history.scrollRestoration||"auto",j.core.globals("ScrollTrigger",p),De)){Qi=1,He.register(j),p.isTouch=He.isTouch,pn=He.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),tt(ce,"wheel",Qn),Js=[ce,Te,Yt,De],j.matchMedia?(p.matchMedia=function(k){var P=j.matchMedia(),I;for(I in k)P.add(I,k[I]);return P},j.addEventListener("matchMediaInit",function(){return lo()}),j.addEventListener("matchMediaRevert",function(){return ua()}),j.addEventListener("matchMedia",function(){Sn(0,1),Rn("matchMedia")}),j.matchMedia("(orientation: portrait)",function(){return Hr(),Hr})):console.warn("Requires GSAP 3.11.0 or later"),Hr(),tt(Te,"scroll",Qn);var s=De.style,a=s.borderTopStyle,d=j.core.Animation.prototype,f,u;for(d.revert||Object.defineProperty(d,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",f=tn(De),Qe.m=Math.round(f.top+Qe.sc())||0,pt.m=Math.round(f.left+pt.sc())||0,a?s.borderTopStyle=a:s.removeProperty("border-top-style"),Ui=setInterval(Ls,250),j.delayedCall(.5,function(){return $i=0}),tt(Te,"touchcancel",qt),tt(De,"touchstart",qt),qi(tt,Te,"pointerdown,touchstart,mousedown",ks),qi(tt,Te,"pointerup,touchend,mouseup",Ss),Xr=j.utils.checkPrefix("transform"),ir.push(Xr),Kn=dt(),ar=j.delayedCall(.2,Sn).pause(),qn=[Te,"visibilitychange",function(){var k=ce.innerWidth,P=ce.innerHeight;Te.hidden?(Es=k,Ps=P):(Es!==k||Ps!==P)&&xi()},Te,"DOMContentLoaded",Sn,ce,"load",Sn,ce,"resize",xi],Ki(tt),ne.forEach(function(k){return k.enable(0,1)}),u=0;u<de.length;u+=3)Yi(Ze,de[u],de[u+1]),Yi(Ze,de[u],de[u+2])}},p.config=function(s){"limitCallbacks"in s&&(zr=!!s.limitCallbacks);var a=s.syncInterval;a&&clearInterval(Ui)||(Ui=a)&&setInterval(Ls,a),"ignoreMobileResize"in s&&(na=p.isTouch===1&&s.ignoreMobileResize),"autoRefreshEvents"in s&&(Ki(Ze)||Ki(tt,s.autoRefreshEvents||"none"),ta=(s.autoRefreshEvents+"").indexOf("resize")===-1)},p.scrollerProxy=function(s,a){var d=_t(s),f=de.indexOf(d),u=Mn(d);~f&&de.splice(f,u?6:2),a&&(u?Xt.unshift(ce,a,De,a,Yt,a):Xt.unshift(d,a))},p.clearMatchMedia=function(s){ne.forEach(function(a){return a._ctx&&a._ctx.query===s&&a._ctx.kill(!0,!0)})},p.isInViewport=function(s,a,d){var f=(Bt(s)?_t(s):s).getBoundingClientRect(),u=f[d?Tn:Vn]*a||0;return d?f.right-u>0&&f.left+u<ce.innerWidth:f.bottom-u>0&&f.top+u<ce.innerHeight},p.positionInViewport=function(s,a,d){Bt(s)&&(s=_t(s));var f=s.getBoundingClientRect(),u=f[d?Tn:Vn],k=a==null?u/2:a in cr?cr[a]*u:~a.indexOf("%")?parseFloat(a)*u/100:parseFloat(a)||0;return d?(f.left+k)/ce.innerWidth:(f.top+k)/ce.innerHeight},p.killAll=function(s){if(ne.forEach(function(d){return d.vars.id!=="ScrollSmoother"&&d.kill()}),s!==!0){var a=An.killAll||[];An={},a.forEach(function(d){return d()})}},p}();Z.version="3.11.3";Z.saveStyles=function(p){return p?lr(p).forEach(function(o){if(o&&o.style){var l=Et.indexOf(o);l>=0&&Et.splice(l,5),Et.push(o,o.style.cssText,o.getBBox&&o.getAttribute("transform"),j.core.getCache(o),Wr())}}):Et};Z.revert=function(p,o){return lo(!p,o)};Z.create=function(p,o){return new Z(p,o)};Z.refresh=function(p){return p?xi():(Kn||Z.register())&&Sn(!0)};Z.update=Dn;Z.clearScrollMemory=ha;Z.maxScroll=function(p,o){return fn(p,o?pt:Qe)};Z.getScrollFunc=function(p,o){return vn(_t(p),o?pt:Qe)};Z.getById=function(p){return Jr[p]};Z.getAll=function(){return ne.filter(function(p){return p.vars.id!=="ScrollSmoother"})};Z.isScrolling=function(){return!!Rt};Z.snapDirectional=ao;Z.addEventListener=function(p,o){var l=An[p]||(An[p]=[]);~l.indexOf(o)||l.push(o)};Z.removeEventListener=function(p,o){var l=An[p],s=l&&l.indexOf(o);s>=0&&l.splice(s,1)};Z.batch=function(p,o){var l=[],s={},a=o.interval||.016,d=o.batchMax||1e9,f=function(P,I){var L=[],A=[],y=j.delayedCall(a,function(){I(L,A),L=[],A=[]}).pause();return function(x){L.length||y.restart(!0),L.push(x.trigger),A.push(x),d<=L.length&&y.progress(1)}},u;for(u in o)s[u]=u.substr(0,2)==="on"&&ut(o[u])&&u!=="onRefreshInit"?f(u,o[u]):o[u];return ut(d)&&(d=d(),tt(Z,"refresh",function(){return d=o.batchMax()})),lr(p).forEach(function(k){var P={};for(u in s)P[u]=s[u];P.trigger=k,l.push(Z.create(P))}),l};var Is=function(o,l,s,a){return l>a?o(a):l<0&&o(0),s>a?(a-l)/(s-l):s<0?l/(l-s):1},$r=function p(o,l){l===!0?o.style.removeProperty("touch-action"):o.style.touchAction=l===!0?"auto":l?"pan-"+l+(He.isTouch?" pinch-zoom":""):"none",o===Yt&&p(De,l)},Ns={auto:1,scroll:1},fp=function(o){var l=o.event,s=o.target,a=o.axis,d=(l.changedTouches?l.changedTouches[0]:l).target,f=d._gsap||j.core.getCache(d),u=dt(),k;if(!f._isScrollT||u-f._isScrollT>2e3){for(;d&&d.scrollHeight<=d.clientHeight;)d=d.parentNode;f._isScroll=d&&!Mn(d)&&d!==s&&(Ns[(k=Gt(d)).overflowY]||Ns[k.overflowX]),f._isScrollT=u}(f._isScroll||a==="x")&&(l.stopPropagation(),l._gsapAllow=!0)},fa=function(o,l,s,a){return He.create({target:o,capture:!0,debounce:!1,lockAxis:!0,type:l,onWheel:a=a&&fp,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return s&&tt(Te,He.eventTypes[0],zs,!1,!0)},onDisable:function(){return Ze(Te,He.eventTypes[0],zs,!0)}})},mp=/(input|label|select|textarea)/i,Bs,zs=function(o){var l=mp.test(o.target.tagName);(l||Bs)&&(o._gsapAllow=!0,Bs=l)},vp=function(o){Ji(o)||(o={}),o.preventDefault=o.isNormalizer=o.allowClicks=!0,o.type||(o.type="wheel,touch"),o.debounce=!!o.debounce,o.id=o.id||"normalizer";var l=o,s=l.normalizeScrollX,a=l.momentum,d=l.allowNestedScroll,f,u,k=_t(o.target)||Yt,P=j.core.globals().ScrollSmoother,I=P&&P.get(),L=pn&&(o.content&&_t(o.content)||I&&o.content!==!1&&!I.smooth()&&I.content()),A=vn(k,Qe),y=vn(k,pt),x=1,ee=(He.isTouch&&ce.visualViewport?ce.visualViewport.scale*ce.visualViewport.width:ce.outerWidth)/ce.innerWidth,J=0,D=ut(a)?function(){return a(f)}:function(){return a||2.8},me,V,q=fa(k,o.type,!0,d),_e=function(){return V=!1},X=qt,z=qt,Ke=function(){u=fn(k,Qe),z=Gn(pn?1:0,u),s&&(X=Gn(0,fn(k,pt))),me=Ln},Fe=function(){L._gsap.y=_i(parseFloat(L._gsap.y)+A.offset)+"px",L.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(L._gsap.y)+", 0, 1)",A.offset=A.cacheID=0},Y=function(){if(V){requestAnimationFrame(_e);var C=_i(f.deltaY/2),oe=z(A.v-C);if(L&&oe!==A.v+A.offset){A.offset=oe-A.v;var B=_i((parseFloat(L&&L._gsap.y)||0)-A.offset);L.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",L._gsap.y=B+"px",A.cacheID=de.cache,Dn()}return!0}A.offset&&Fe(),V=!0},ie,re,nt,Ve,Ie=function(){Ke(),ie.isActive()&&ie.vars.scrollY>u&&(A()>u?ie.progress(1)&&A(u):ie.resetTo("scrollY",u))};return L&&j.set(L,{y:"+=0"}),o.ignoreCheck=function(U){return pn&&U.type==="touchmove"&&Y()||x>1.05&&U.type!=="touchstart"||f.isGesturing||U.touches&&U.touches.length>1},o.onPress=function(){var U=x;x=_i((ce.visualViewport&&ce.visualViewport.scale||1)/ee),ie.pause(),U!==x&&$r(k,x>1.01?!0:s?!1:"x"),re=y(),nt=A(),Ke(),me=Ln},o.onRelease=o.onGestureStart=function(U,C){if(A.offset&&Fe(),!C)Ve.restart(!0);else{de.cache++;var oe=D(),B,g;s&&(B=y(),g=B+oe*.05*-U.velocityX/.227,oe*=Is(y,B,g,fn(k,pt)),ie.vars.scrollX=X(g)),B=A(),g=B+oe*.05*-U.velocityY/.227,oe*=Is(A,B,g,fn(k,Qe)),ie.vars.scrollY=z(g),ie.invalidate().duration(oe).play(.01),(pn&&ie.vars.scrollY>=u||B>=u-1)&&j.to({},{onUpdate:Ie,duration:oe})}},o.onWheel=function(){ie._ts&&ie.pause(),dt()-J>1e3&&(me=0,J=dt())},o.onChange=function(U,C,oe,B,g){if(Ln!==me&&Ke(),C&&s&&y(X(B[2]===C?re+(U.startX-U.x):y()+C-B[1])),oe){A.offset&&Fe();var ye=g[2]===oe,it=ye?nt+U.startY-U.y:A()+oe-g[1],le=z(it);ye&&it!==le&&(nt+=le-it),A(le)}(oe||C)&&Dn()},o.onEnable=function(){$r(k,s?!1:"x"),Z.addEventListener("refresh",Ie),tt(ce,"resize",Ie),A.smooth&&(A.target.style.scrollBehavior="auto",A.smooth=y.smooth=!1),q.enable()},o.onDisable=function(){$r(k,!0),Ze(ce,"resize",Ie),Z.removeEventListener("refresh",Ie),q.kill()},o.lockAxis=o.lockAxis!==!1,f=new He(o),f.iOS=pn,pn&&!A()&&A(1),pn&&j.ticker.add(qt),Ve=f._dc,ie=j.to(f,{ease:"power4",paused:!0,scrollX:s?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:Ve.vars.onComplete}),f};Z.sort=function(p){return ne.sort(p||function(o,l){return(o.vars.refreshPriority||0)*-1e6+o.start-(l.start+(l.vars.refreshPriority||0)*-1e6)})};Z.observe=function(p){return new He(p)};Z.normalizeScroll=function(p){if(typeof p>"u")return Ct;if(p===!0&&Ct)return Ct.enable();if(p===!1)return Ct&&Ct.kill();var o=p instanceof He?p:vp(p);return Ct&&Ct.target===o.target&&Ct.kill(),Mn(o.target)&&(Ct=o),o};Z.core={_getVelocityProp:Gr,_inputObserver:fa,_scrollers:de,_proxies:Xt,bridge:{ss:function(){Rt||Rn("scrollStart"),Rt=dt()},ref:function(){return ot}}};sa()&&j.registerPlugin(Z);var ma={exports:{}};(function(p,o){(function(s,a){p.exports=a()})(self,function(){return function(){var l={672:function(f){const u={html:document.documentElement,body:document.body,window:{w:window.innerWidth,h:window.innerHeight}};f.exports=u},336:function(f){f.exports=function(k,P){let I=null;return function(){clearTimeout(I);const L=arguments,A=this;I=setTimeout(function(){k.apply(A,L)},P)}}}},s={};function a(f){var u=s[f];if(u!==void 0)return u.exports;var k=s[f]={exports:{}};return l[f](k,k.exports,a),k.exports}(function(){a.n=function(f){var u=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(u,{a:u}),u}})(),function(){a.d=function(f,u){for(var k in u)a.o(u,k)&&!a.o(f,k)&&Object.defineProperty(f,k,{enumerable:!0,get:u[k]})}}(),function(){a.o=function(f,u){return Object.prototype.hasOwnProperty.call(f,u)}}();var d={};return function(){a.d(d,{default:function(){return be}});var f=a(336),u=a.n(f),k=a(672),P=a.n(k);function I(){if(!(this instanceof I))return new I;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var L=window.document.documentElement,A=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector;I.prototype.matchesSelector=function(w,h){return A.call(w,h)},I.prototype.querySelectorAll=function(w,h){return h.querySelectorAll(w)},I.prototype.indexes=[];var y=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;I.prototype.indexes.push({name:"ID",selector:function(h){var m;if(m=h.match(y))return m[0].slice(1)},element:function(h){if(h.id)return[h.id]}});var x=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;I.prototype.indexes.push({name:"CLASS",selector:function(h){var m;if(m=h.match(x))return m[0].slice(1)},element:function(h){var m=h.className;if(m){if(typeof m=="string")return m.split(/\s/);if(typeof m=="object"&&"baseVal"in m)return m.baseVal.split(/\s/)}}});var ee=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;I.prototype.indexes.push({name:"TAG",selector:function(h){var m;if(m=h.match(ee))return m[0].toUpperCase()},element:function(h){return[h.nodeName.toUpperCase()]}}),I.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var J;typeof window.Map=="function"?J=window.Map:J=function(){function w(){this.map={}}return w.prototype.get=function(h){return this.map[h+" "]},w.prototype.set=function(h,m){this.map[h+" "]=m},w}();var D=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function me(w,h){w=w.slice(0).concat(w.default);var m=w.length,S,R,T,M,H=h,Q,W,b=[];do if(D.exec(""),(T=D.exec(H))&&(H=T[3],T[2]||!H)){for(S=0;S<m;S++)if(W=w[S],Q=W.selector(T[1])){for(R=b.length,M=!1;R--;)if(b[R].index===W&&b[R].key===Q){M=!0;break}M||b.push({index:W,key:Q});break}}while(T);return b}function V(w,h){var m,S,R;for(m=0,S=w.length;m<S;m++)if(R=w[m],h.isPrototypeOf(R))return R}I.prototype.logDefaultIndexUsed=function(){},I.prototype.add=function(w,h){var m,S,R,T,M,H,Q,W,b=this.activeIndexes,pe=this.selectors,te=this.selectorObjects;if(typeof w=="string"){for(m={id:this.uid++,selector:w,data:h},te[m.id]=m,Q=me(this.indexes,w),S=0;S<Q.length;S++)W=Q[S],T=W.key,R=W.index,M=V(b,R),M||(M=Object.create(R),M.map=new J,b.push(M)),R===this.indexes.default&&this.logDefaultIndexUsed(m),H=M.map.get(T),H||(H=[],M.map.set(T,H)),H.push(m);this.size++,pe.push(w)}},I.prototype.remove=function(w,h){if(typeof w=="string"){var m,S,R,T,M,H,Q,W,b=this.activeIndexes,pe=this.selectors=[],te=this.selectorObjects,Ue={},qe=arguments.length===1;for(m=me(this.indexes,w),R=0;R<m.length;R++)for(S=m[R],T=b.length;T--;)if(H=b[T],S.index.isPrototypeOf(H)){if(Q=H.map.get(S.key),Q)for(M=Q.length;M--;)W=Q[M],W.selector===w&&(qe||W.data===h)&&(Q.splice(M,1),Ue[W.id]=!0);break}for(R in Ue)delete te[R],this.size--;for(R in te)pe.push(te[R].selector)}};function q(w,h){return w.id-h.id}I.prototype.queryAll=function(w){if(!this.selectors.length)return[];var h={},m=[],S=this.querySelectorAll(this.selectors.join(", "),w),R,T,M,H,Q,W,b,pe;for(R=0,M=S.length;R<M;R++)for(Q=S[R],W=this.matches(Q),T=0,H=W.length;T<H;T++)pe=W[T],h[pe.id]?b=h[pe.id]:(b={id:pe.id,selector:pe.selector,data:pe.data,elements:[]},h[pe.id]=b,m.push(b)),b.elements.push(Q);return m.sort(q)},I.prototype.matches=function(w){if(!w)return[];var h,m,S,R,T,M,H,Q,W,b,pe,te=this.activeIndexes,Ue={},qe=[];for(h=0,R=te.length;h<R;h++)if(H=te[h],Q=H.element(w),Q){for(m=0,T=Q.length;m<T;m++)if(W=H.map.get(Q[m]))for(S=0,M=W.length;S<M;S++)b=W[S],pe=b.id,!Ue[pe]&&this.matchesSelector(w,b.selector)&&(Ue[pe]=!0,qe.push(b))}return qe.sort(q)};const _e={},X={},z=["mouseenter","mouseleave","pointerenter","pointerleave"];function Ke(w){X[w]===void 0&&(X[w]=[])}function Fe(w,h){if(X[w])for(let m=0;m<X[w].length;m++)X[w][m](...h)}function Y(w){return typeof w=="string"?document.querySelectorAll(w):w}function ie(w){let h=re(_e[w.type],w.target);if(h.length)for(let m=0;m<h.length;m++)for(let S=0;S<h[m].stack.length;S++)z.indexOf(w.type)!==-1?(nt(w,h[m].delegatedTarget),w.target===h[m].delegatedTarget&&h[m].stack[S].data(w)):(nt(w,h[m].delegatedTarget),h[m].stack[S].data(w))}function re(w,h){const m=[];let S=h;do{if(S.nodeType!==1)break;const R=w.matches(S);R.length&&m.push({delegatedTarget:S,stack:R})}while(S=S.parentElement);return m}function nt(w,h){Object.defineProperty(w,"currentTarget",{configurable:!0,enumerable:!0,get:()=>h})}function Ve(w){return JSON.parse(JSON.stringify(w))}class Ie{bindAll(h,m){m||(m=Object.getOwnPropertyNames(Object.getPrototypeOf(h)));for(let S=0;S<m.length;S++)h[m[S]]=h[m[S]].bind(h)}on(h,m,S,R){const T=h.split(" ");for(let M=0;M<T.length;M++){if(typeof m=="function"&&S===void 0){Ke(T[M]),X[T[M]].push(m);continue}if(m.nodeType&&m.nodeType===1||m===window||m===document){m.addEventListener(T[M],S,R);continue}m=Y(m);for(let H=0;H<m.length;H++)m[H].addEventListener(T[M],S,R)}}delegate(h,m,S){const R=h.split(" ");for(let T=0;T<R.length;T++){let M=_e[R[T]];M===void 0&&(M=new I,_e[R[T]]=M,z.indexOf(R[T])!==-1?document.addEventListener(R[T],ie,!0):document.addEventListener(R[T],ie)),M.add(m,S)}}off(h,m,S,R){const T=h.split(" ");for(let M=0;M<T.length;M++){if(m===void 0){X[T[M]]=[];continue}if(typeof m=="function"){Ke(T[M]);for(let Q=0;Q<X[T[M]].length;Q++)X[T[M]][Q]===m&&X[T[M]].splice(Q,1);continue}const H=_e[T[M]];if(H!==void 0&&(H.remove(m,S),H.size===0)){delete _e[T[M]],z.indexOf(T[M])!==-1?document.removeEventListener(T[M],ie,!0):document.removeEventListener(T[M],ie);continue}if(m.removeEventListener!==void 0){m.removeEventListener(T[M],S,R);continue}m=Y(m);for(let Q=0;Q<m.length;Q++)m[Q].removeEventListener(T[M],S,R)}}emit(h,...m){Fe(h,m)}debugDelegated(){return Ve(_e)}debugBus(){return Ve(X)}}var C=new Ie;function oe(w,h,m){return h in w?Object.defineProperty(w,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):w[h]=m,w}class B{constructor(h={}){oe(this,"onRaf",()=>{C.emit(B.INTERNALRAF),!this.options.disableRaf&&requestAnimationFrame(this.onRaf)}),this.options=h,this.addEvents()}addEvents(){this.options.disableRaf||requestAnimationFrame(this.onRaf),this.options.disableResize||C.on("resize",window,u()(()=>{this.onResize()},150)),this.onScroll(),"ontouchstart"in document.documentElement&&(P().isTouch=!0,this.detectMouse())}onScroll(){C.on("wheel",window,h=>{C.emit(B.WHEEL,{event:h})},{passive:!1}),C.on("scroll",window,h=>{C.emit(B.INTERNALSCROLL,{event:h})},{passive:!0})}onResize({width:h,height:m}={}){P().window.w=h||window.innerWidth,P().window.h=m||window.innerHeight,C.emit(B.RESIZE)}detectMouse(){window.addEventListener("mousemove",function h(m){(Math.abs(m.movementX)>0||Math.abs(m.movementY)>0)&&(P().isTouch=!1,C.emit(B.MOUSEDETECTED),window.removeEventListener("mousemove",h))})}}oe(B,"INTERNALRAF","raf:internal"),oe(B,"EXTERNALRAF","raf:external"),oe(B,"WHEEL","wheel"),oe(B,"INTERNALSCROLL","scroll:internal"),oe(B,"EXTERNALSCROLL","scroll:external"),oe(B,"RESIZE","resize"),oe(B,"MOUSEDETECTED","mouseDetected"),oe(B,"SCROLLEND","scrollEnd");function g(w,h,m){return h in w?Object.defineProperty(w,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):w[h]=m,w}class ye{constructor(h){g(this,"onMouseMove",m=>{!this.mouseDown||(this.mousePos=m.clientY,this.position-=this.prevMousePos-this.mousePos,this.position=Math.min(Math.max(this.position,0),this.maxY),this.prevMousePos=this.mousePos,this.controller.targetPos=this.position/this.maxY*this.controller.maxScroll,this.controller.clamp(),this.controller.syncScroll=!0,this.transform(),C.emit(B.EXTERNALSCROLL,-this.controller.targetPos))}),g(this,"onMouseDown",m=>{this.mousePos=this.prevMousePos=m.clientY,this.mouseDown=!0,P().body.style.userSelect="none",this.el.classList.add("active")}),g(this,"onMouseUp",()=>{this.mouseDown=!1,P().body.style.removeProperty("user-select"),this.el.classList.remove("active")}),this.controller=h,this.addHTML(),this.el=document.querySelector(this.controller.options.scrollbarEl),this.handle=document.querySelector(this.controller.options.scrollbarHandleEl),this.position=0,this.mousePos=0,this.prevMousePos=0,this.addStyles(),this.addEvents()}transform(){let h;this.mouseDown?h=this.position:(h=-this.controller.targetPos/-this.controller.maxScroll*(P().window.h-this.handleHeight),this.position=h),this.handle.style.transform=`translate3d(0, ${h}px, 0)`}show(){this.el.classList.add("show")}hide(){this.el.classList.remove("show")}addEvents(){C.on("mousedown",this.handle,this.onMouseDown),C.on("mousemove",window,this.onMouseMove),C.on("mouseup",window,this.onMouseUp)}onResize(){if(this.scale=(-this.controller.maxScroll+P().window.h)/P().window.h,this.scale<=1){this.handle.style.height=0;return}this.trueSize=P().window.h/this.scale,this.handleHeight=Math.max(this.trueSize,40),this.handle.style.height=`${this.handleHeight}px`,this.maxY=P().window.h-this.handleHeight}addHTML(){if(document.querySelector(this.controller.options.scrollbarEl))return;const h=document.createElement("div");h.classList.add(this.controller.options.scrollbarEl.substring(1)),h.innerHTML=`<div class="${this.controller.options.scrollbarHandleEl.substring(1)}"><div></div></div>`,document.body.appendChild(h)}addStyles(){if(!this.controller.options.disableNativeScrollbar&&!this.controller.options.scrollbarStyles)return;let h="";this.controller.options.disableNativeScrollbar&&(h+="html{scrollbar-width:none;}body{-ms-overflow-style:none;}body::-webkit-scrollbar{width:0;height:0;}"),this.controller.options.scrollbarStyles&&(h+=`${this.controller.options.scrollbarEl} {position:fixed;top:0;right:0;width:20px;height:100%;z-index:900;}.is-touch ${this.controller.options.scrollbarEl} {display:none;}${this.controller.options.scrollbarEl} > div {padding:6px 0;width:10px;height:0;margin:0 auto;visibility:hidden;}${this.controller.options.scrollbarEl} > div > div {width:100%;height:100%;border-radius:10px;opacity:0.3;background-color:#000;}${this.controller.options.scrollbarEl} > div > div:hover {opacity:0.9;}${this.controller.options.scrollbarEl}:hover > div, ${this.controller.options.scrollbarEl}.show > div, ${this.controller.options.scrollbarEl}.active > div {visibility:visible;}${this.controller.options.scrollbarEl}.active > div > div {opacity:0.9;}`);const m=document.createElement("style");m.styleSheet?m.styleSheet.cssText=h:m.appendChild(document.createTextNode(h)),document.getElementsByTagName("head")[0].appendChild(m)}destroy(){C.off("mousedown",this.handle,this.onMouseDown),C.off("mousemove",window,this.onMouseMove),C.off("mouseup",window,this.onMouseUp)}}function it(w,h,m){return h in w?Object.defineProperty(w,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):w[h]=m,w}class le{constructor(h={}){it(this,"onScroll",({event:m})=>{this.scrolling||(this.toggleIframes(),this.scrolling=!0);const S=this.targetPos;if(!P().isTouch&&m.type==="wheel")m.preventDefault(),this.syncScroll=!0,this.wheeling=!0,this.targetPos+=m.deltaY*-1;else{if(this.preventResizeScroll){this.preventResizeScroll=!1;return}if(this.wheeling)return;P().isTouch&&this.options.touchScrollType==="scrollTop"?this.targetPos=this.horizontalScroll?-this.containerElement.scrollLeft:-this.containerElement.scrollTop:P().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI?this.targetPos=this.horizontalScroll?-document.body.scrollLeft:-document.body.scrollTop:this.targetPos=-window.scrollY,P().isTouch&&this.options.touchScrollType!=="transform"&&(this.currentPos=this.targetPos)}this.clamp(),S!==this.targetPos&&(C.emit(B.EXTERNALSCROLL,-this.targetPos),this.options.customScrollbar&&this.scrollbar.show()),this.options.customScrollbar&&this.scrollbar.transform()}),it(this,"onRAF",()=>{if(this.testFps&&this.options.limitLerpRate&&(this.time=performance.now()*.001,this.delta=Math.min((this.time-this.startTime)*60,1),this.startTime=this.time),!this.render)return;Math.abs(this.targetPos-this.currentPos)<.5?(this.currentPos=this.targetPos,this.scrolling&&!this.syncScroll&&(this.scrolling=!1,this.options.customScrollbar&&this.scrollbar.hide(),this.toggleIframes(!0),C.emit(B.SCROLLEND,-this.targetPos)),this.syncScroll&&(window.scrollTo(0,-this.targetPos),this.syncScroll=!1,this.wheeling=!1)):this.currentPos+=(this.targetPos-this.currentPos)*this.ease*this.delta;const m=this.horizontalScroll?this.currentPos:0,S=this.horizontalScroll?0:this.currentPos;this.applyTransform(m,S),C.emit(B.EXTERNALRAF,{targetPos:-this.targetPos,currentPos:-this.currentPos})}),it(this,"onResize",()=>{if(this.scrollElementsLength>1){const S=this.scrollElements[this.scrollElementsLength-1],R=window.getComputedStyle(S),T=parseFloat(this.horizontalScroll?R.marginRight:R.marginBottom),M=S.getBoundingClientRect(),H=this.horizontalScroll?M.right:M.bottom;this.scrollLength=H+T-this.currentPos}else this.scrollLength=this.horizontalScroll?this.scrollElements[0].scrollWidth:this.scrollElements[0].scrollHeight;const m=this.horizontalScroll?P().window.w:P().window.h;this.maxScroll=this.scrollLength>m?-(this.scrollLength-m):0,this.clamp(),this.firstResize||(this.preventResizeScroll=!0),P().isTouch&&this.options.lockIOSBrowserUI?this.containerElement.style.height=this.scrollLength+"px":P().body.style.height=this.scrollLength+"px",this.options.customScrollbar&&this.scrollbar.onResize(),this.firstResize=!1}),it(this,"toggleFixedContainer",()=>{this.containerElement.style.position="static";const m=this.currentPos;this.applyTransform(0,0),requestAnimationFrame(()=>{this.containerElement.style.position="fixed";const S=this.horizontalScroll?m:0,R=this.horizontalScroll?0:m;this.applyTransform(S,R)})}),this.options=h,this.targetPos=this.currentPos=this.prevScrollPos=this.maxScroll=0,this.enabled=!1,this.render=!1,this.scrolling=!1,this.wheeling=!1,this.syncScroll=!1,this.horizontalScroll=!1,this.firstResize=!0,this.preventResizeScroll=!1,this.nativeScroll=!0,this.ease=P().isTouch?this.options.touchEase:this.options.ease,this.originalScrollbarSetting=this.options.customScrollbar,this.testFps=!0,this.delta=1,this.time=this.startTime=performance.now(),this.setElements(),P().isTouch?(this.options.customScrollbar=!1,this.options.touchScrollType==="transform"?this.setupSmoothScroll():this.options.touchScrollType==="scrollTop"&&(document.documentElement.classList.add("asscroll-touch"),this.addTouchStyles(),C.on("scroll",this.containerElement,m=>{C.emit(B.INTERNALSCROLL,{event:m})},{passive:!0}))):this.setupSmoothScroll(),this.addEvents()}setElements(){this.containerElement=typeof this.options.containerElement=="string"?document.querySelector(this.options.containerElement):this.options.containerElement,this.containerElement===null&&console.error("ASScroll: could not find container element"),this.containerElement.setAttribute("asscroll-container",""),this.scrollElements=typeof this.options.scrollElements=="string"?document.querySelectorAll(this.options.scrollElements):this.options.scrollElements,this.scrollElements.length&&(this.scrollElements=[...this.scrollElements]),this.scrollElements=this.scrollElements.length?this.scrollElements:[this.containerElement.firstElementChild],this.scrollElementsLength=this.scrollElements.length,this.scrollElements.forEach(h=>h.setAttribute("asscroll",""))}setupSmoothScroll(){this.nativeScroll=!1,P().isTouch&&this.options.lockIOSBrowserUI?(Object.assign(document.body.style,{position:"fixed",width:"100%",height:"100%",overflowY:"auto"}),P().html.style.overflow="hidden",this.scrollElements.forEach(h=>{h.style.position="fixed"}),C.on("scroll",document.body,h=>{C.emit(B.INTERNALSCROLL,{event:h})})):Object.assign(this.containerElement.style,{position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%",contain:"content"}),this.options.customScrollbar&&(this.scrollbar=new ye(this)),C.on(B.INTERNALRAF,this.onRAF),C.on(B.RESIZE,this.onResize),this.options.limitLerpRate&&setTimeout(()=>{this.testFps=!1,this.delta=Math.round(this.delta*10)*.1},2e3)}applyTransform(h,m){for(let S=0;S<this.scrollElementsLength;S++)this.scrollElements[S].style.transform=`translate3d(${h}px, ${m}px, 0px)`}enable({newScrollElements:h=!1,reset:m=!1,restore:S=!1,horizontalScroll:R=!1}={}){this.enabled||(this.enabled=!0,this.render=!0,this.horizontalScroll=R,h&&(this.scrollElements=h.length?[...h]:[h],this.scrollElementsLength=this.scrollElements.length,this.scrollElements.forEach(T=>T.setAttribute("asscroll","")),P().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&this.scrollElements.forEach(T=>{T.style.position="fixed"})),this.iframes=this.containerElement.querySelectorAll("iframe"),P().isTouch&&this.options.touchScrollType!=="transform"?(this.options.touchScrollType==="scrollTop"&&this.containerElement.style.removeProperty("overflow"),this.maxScroll=-this.containerElement.scrollHeight,m&&(this.targetPos=this.currentPos=0,this.scrollTo(0,!1))):(this.firstResize=!0,m&&(this.targetPos=this.currentPos=0,this.applyTransform(0,0)),this.onResize()),P().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&(P().body.style.overflowY="auto",m&&document.body.scrollTo(0,0)),S&&this.scrollTo(this.prevScrollPos,!1),C.on(B.WHEEL,this.onScroll),C.on(B.INTERNALSCROLL,this.onScroll))}disable({inputOnly:h=!1}={}){!this.enabled||(this.enabled=!1,h||(this.render=!1),C.off(B.WHEEL,this.onScroll),C.off(B.INTERNALSCROLL,this.onScroll),this.prevScrollPos=this.targetPos,P().isTouch?this.options.touchScrollType==="scrollTop"?this.containerElement.style.overflow="hidden":this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&(P().body.style.overflowY="hidden"):P().body.style.height="0px")}clamp(){this.targetPos=Math.max(Math.min(this.targetPos,0),this.maxScroll)}scrollTo(h,m=!0){this.targetPos=h,P().isTouch&&this.options.touchScrollType!=="transform"&&(this.options.touchScrollType==="scrollTop"?this.horizontalScroll?this.containerElement.scrollTo(-this.targetPos,0):this.containerElement.scrollTo(0,-this.targetPos):window.scrollTo(0,-this.targetPos)),this.clamp(),this.syncScroll=!0,m&&C.emit(B.EXTERNALSCROLL,-this.targetPos)}toggleIframes(h){for(let m=0;m<this.iframes.length;m++)this.iframes[m].style.pointerEvents=h?"auto":"none"}blockScrollEvent(h){h.stopPropagation()}addEvents(){C.on(B.MOUSEDETECTED,()=>{this.options.touchScrollType!=="transform"&&(this.options.customScrollbar=this.originalScrollbarSetting,this.ease=this.options.ease,this.setupSmoothScroll(),this.onResize())}),P().isTouch||(C.on("mouseleave",document,()=>{window.scrollTo(0,-this.targetPos)}),C.on("keydown",window,h=>{(h.key==="ArrowUp"||h.key==="ArrowDown"||h.key==="PageUp"||h.key==="PageDown"||h.key==="Home"||h.key==="End"||h.key==="Tab")&&window.scrollTo(0,-this.targetPos),h.key==="Tab"&&this.toggleFixedContainer()}),C.delegate("click",'a[href^="#"]',this.toggleFixedContainer),C.delegate("wheel",this.options.blockScrollClass,this.blockScrollEvent))}addTouchStyles(){const h=".asscroll-touch [asscroll-container] {position:absolute;top:0;left:0;right:0;bottom:-0.1px;overflow-y: auto;} .asscroll-touch [asscroll] {margin-bottom:0.1px;}",m=document.createElement("style");m.styleSheet?m.styleSheet.cssText=h:m.appendChild(document.createTextNode(h)),document.getElementsByTagName("head")[0].appendChild(m)}}function ve(w,h,m){return h in w?Object.defineProperty(w,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):w[h]=m,w}class kt{constructor(h={}){ve(this,"update",()=>{this.events.onRaf()}),ve(this,"resize",wt=>{this.events.onResize(wt)});const{containerElement:m="[asscroll-container]",scrollElements:S="[asscroll]",ease:R=.075,touchEase:T=1,touchScrollType:M="none",lockIOSBrowserUI:H=!1,scrollbarEl:Q=".asscrollbar",scrollbarHandleEl:W=".asscrollbar__handle",customScrollbar:b=!0,scrollbarStyles:pe=!0,disableNativeScrollbar:te=!0,disableRaf:Ue=!1,disableResize:qe=!1,limitLerpRate:Ft=!0,blockScrollClass:je=".asscroll-block"}=h;this.events=new B({disableRaf:Ue,disableResize:qe}),this.controller=new le({containerElement:m,scrollElements:S,ease:R,touchEase:T,customScrollbar:b,lockIOSBrowserUI:H,scrollbarEl:Q,scrollbarHandleEl:W,scrollbarStyles:pe,disableNativeScrollbar:te,touchScrollType:M,limitLerpRate:Ft,blockScrollClass:je})}enable(h){h!==void 0&&typeof h!="object"&&console.warn("ASScroll: Please pass an object with your parameters. Since 2.0"),this.controller.enable(h)}disable(h){h!==void 0&&typeof h!="object"&&console.warn("ASScroll: Please pass an object with your parameters. Since 2.0"),this.controller.disable(h)}on(h,m){if(typeof m!="function"){console.error("ASScroll: Function not provided as second parameter");return}if(h==="scroll"){C.on(B.EXTERNALSCROLL,m);return}if(h==="update"){C.on(B.EXTERNALRAF,m);return}if(h==="scrollEnd"){C.on(B.SCROLLEND,m);return}console.warn(`ASScroll: "${h}" is not a valid event`)}off(h,m){if(typeof m!="function"){console.error("ASScroll: Function not provided as second parameter");return}if(h==="scroll"){C.off(B.EXTERNALSCROLL,m);return}if(h==="update"){C.off(B.EXTERNALRAF,m);return}if(h==="scrollEnd"){C.off(B.SCROLLEND,m);return}console.warn(`ASScroll: "${h}" is not a valid event`)}scrollTo(h,m=!0){this.controller.scrollTo(-h,m)}get targetPos(){return-this.controller.targetPos}get currentPos(){return-this.controller.currentPos}set currentPos(h){this.controller.targetPos=this.controller.currentPos=-h}get maxScroll(){return-this.controller.maxScroll}get containerElement(){return this.controller.containerElement}get scrollElements(){return this.controller.scrollElements}get isHorizontal(){return this.controller.horizontalScroll}get isScrollJacking(){return!this.controller.nativeScroll&&this.controller.enabled}get scrollPos(){}get smoothScrollPos(){}onRaf(){}onResize(){}}var be=kt}(),d=d.default,d}()})})(ma);const bp=Wd(ma.exports);class gp{constructor(o,l,s){Re(this,"timeline");Re(this,"world");Re(this,"room");Re(this,"floor");Re(this,"cube");this.timeline=Un.timeline(),this.world=o,this.room=l,this.floor=s,this.cube=l.children.cube}showWelcome(){this.timeline.set(".animate-word",{y:0,yPercent:100}),this.timeline.to(".loading",{opacity:0,onComplete(){var l;const o=document.querySelector(".loading");(l=o==null?void 0:o.parentNode)==null||l.removeChild(o)}}).to(this.cube.scale,{x:1.4,y:1.4,z:1.4,ease:"back.out(2.5)",duration:.7}).to(this.room.body.position,{x:-.87,ease:"power1.out",duration:.7}).to(".arrow-down",{opacity:1},"<").to(".toggle-bar",{opacity:1},"<").to(".welcome-text .animate-word",{yPercent:0,stagger:.05,ease:"back.out(1.7)",onComplete:()=>{this.showRoom()}},"<")}showRoom(){let o=l=>{l.deltaY<=0||(window.removeEventListener("wheel",o),this.timeline.to(".welcome-text .animate-word",{yPercent:100,stagger:.05,ease:"back.out(1.7)"}).to(".arrow-down",{opacity:0},"same").to(this.room.body.position,{x:0,y:0,z:0,ease:"power1.out"},"same").to(this.cube.rotation,{y:2*Math.PI+Math.PI/4},"same").to(this.cube.scale,{x:10,y:10,z:10},"same").to(this.world.camera.position,{y:8},"same").to(this.room.children.cube.position,{x:.638711,y:8.5618,z:1.3243},"same").set(this.room.children.body.scale,{x:1,y:1,z:1}).to(this.room.children.cube.scale,{x:0,y:0,z:0,duration:1},"introtext").to(".hero-main-title .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".hero-main-description .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".first-sub .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".second-sub .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(this.room.children.aquarium.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.5").to(this.room.children.clock.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.4").to(this.room.children.shelves.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.3").to(this.room.children.floor_items.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.2").to(this.room.children.desks.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.1").to(this.room.children.table_stuff.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.1").to(this.room.children.computer.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5}).set(this.room.children.mini_floor.scale,{x:1,y:1,z:1}).to(this.room.children.chair.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},"chair").to(this.room.children.fish.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},"chair").to(this.room.children.chair.rotation,{y:4*Math.PI+Math.PI/4,ease:"power2.out",duration:1,onComplete:()=>{this.enableScroll()}},"chair"))};window.addEventListener("wheel",o)}enableScroll(){const o=document.querySelector(".page");o instanceof HTMLElement&&(o.style.overflow="visible"),Un.registerPlugin(Z);const l=new bp({ease:.5,disableRaf:!0});Un.ticker.add(l.update),Z.defaults({scroller:l.containerElement}),Z.scrollerProxy(l.containerElement,{scrollTop(s){if(arguments.length){l.currentPos=s;return}return l.currentPos},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}}}),l.on("update",Z.update),Z.addEventListener("refresh",l.resize),l.enable(),Z.matchMedia({all:()=>{Un.timeline({scrollTrigger:{trigger:".first-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.room.body.position,{x:this.world.size.width*.0014}).to(this.floor.circlePink.scale,{x:3,y:3,z:3},"<"),Un.timeline({scrollTrigger:{trigger:".second-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.floor.circleBlue.scale,{x:3,y:3,z:3}).to(this.room.body.position,{x:1,z:this.world.size.height*.0032},"<").to(this.room.body.scale,{x:.4,y:.7,z:.4},"<"),Un.timeline({scrollTrigger:{trigger:".third-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.floor.circleGreen,{x:3,y:3,z:3}).to(this.room.body.position,{x:4.02,z:-4.5},"<")}})}}const _p={},wp={class:"loading"},xp=Oe("div",{class:"dots"},[Oe("div",{class:"circle"}),Oe("div",{class:"circle"}),Oe("div",{class:"circle"})],-1),yp=[xp];function Cp(p,o){return Xn(),Wn("div",wp,yp)}const Ep=to(_p,[["render",Cp]]);const va=p=>(js("data-v-46a49a97"),p=p(),Hs(),p),Pp={class:"toggle-bar"},kp=va(()=>Oe("div",{class:"sun-wrapper"},[Oe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[Oe("path",{fill:"currentColor",d:"M12 5Q11.575 5 11.288 4.712Q11 4.425 11 4V2Q11 1.575 11.288 1.287Q11.575 1 12 1Q12.425 1 12.713 1.287Q13 1.575 13 2V4Q13 4.425 12.713 4.712Q12.425 5 12 5ZM16.95 7.05Q16.675 6.775 16.675 6.362Q16.675 5.95 16.95 5.65L18.35 4.225Q18.65 3.925 19.062 3.925Q19.475 3.925 19.775 4.225Q20.05 4.5 20.05 4.925Q20.05 5.35 19.775 5.625L18.35 7.05Q18.075 7.325 17.65 7.325Q17.225 7.325 16.95 7.05ZM20 13Q19.575 13 19.288 12.712Q19 12.425 19 12Q19 11.575 19.288 11.287Q19.575 11 20 11H22Q22.425 11 22.712 11.287Q23 11.575 23 12Q23 12.425 22.712 12.712Q22.425 13 22 13ZM12 23Q11.575 23 11.288 22.712Q11 22.425 11 22V20Q11 19.575 11.288 19.288Q11.575 19 12 19Q12.425 19 12.713 19.288Q13 19.575 13 20V22Q13 22.425 12.713 22.712Q12.425 23 12 23ZM5.65 7.05 4.225 5.65Q3.925 5.35 3.925 4.925Q3.925 4.5 4.225 4.225Q4.5 3.95 4.925 3.95Q5.35 3.95 5.625 4.225L7.05 5.65Q7.325 5.925 7.325 6.35Q7.325 6.775 7.05 7.05Q6.75 7.325 6.35 7.325Q5.95 7.325 5.65 7.05ZM18.35 19.775 16.95 18.35Q16.675 18.05 16.675 17.638Q16.675 17.225 16.95 16.95Q17.225 16.675 17.638 16.675Q18.05 16.675 18.35 16.95L19.775 18.35Q20.075 18.625 20.062 19.05Q20.05 19.475 19.775 19.775Q19.475 20.075 19.05 20.075Q18.625 20.075 18.35 19.775ZM2 13Q1.575 13 1.288 12.712Q1 12.425 1 12Q1 11.575 1.288 11.287Q1.575 11 2 11H4Q4.425 11 4.713 11.287Q5 11.575 5 12Q5 12.425 4.713 12.712Q4.425 13 4 13ZM4.225 19.775Q3.95 19.5 3.95 19.075Q3.95 18.65 4.225 18.375L5.65 16.95Q5.925 16.675 6.338 16.675Q6.75 16.675 7.05 16.95Q7.35 17.25 7.35 17.663Q7.35 18.075 7.05 18.375L5.65 19.775Q5.35 20.075 4.925 20.075Q4.5 20.075 4.225 19.775ZM12 18Q9.5 18 7.75 16.25Q6 14.5 6 12Q6 9.5 7.75 7.75Q9.5 6 12 6Q14.5 6 16.25 7.75Q18 9.5 18 12Q18 14.5 16.25 16.25Q14.5 18 12 18ZM12 16Q13.65 16 14.825 14.825Q16 13.65 16 12Q16 10.35 14.825 9.175Q13.65 8 12 8Q10.35 8 9.175 9.175Q8 10.35 8 12Q8 13.65 9.175 14.825Q10.35 16 12 16Z"})])],-1)),Sp=va(()=>Oe("div",{class:"moon-wrapper"},[Oe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[Oe("path",{fill:"currentColor",d:"M12 21Q8.25 21 5.625 18.375Q3 15.75 3 12Q3 8.25 5.625 5.625Q8.25 3 12 3Q12.35 3 12.688 3.025Q13.025 3.05 13.35 3.1Q12.325 3.825 11.713 4.987Q11.1 6.15 11.1 7.5Q11.1 9.75 12.675 11.325Q14.25 12.9 16.5 12.9Q17.875 12.9 19.025 12.287Q20.175 11.675 20.9 10.65Q20.95 10.975 20.975 11.312Q21 11.65 21 12Q21 15.75 18.375 18.375Q15.75 21 12 21ZM12 19Q14.2 19 15.95 17.788Q17.7 16.575 18.5 14.625Q18 14.75 17.5 14.825Q17 14.9 16.5 14.9Q13.425 14.9 11.262 12.738Q9.1 10.575 9.1 7.5Q9.1 7 9.175 6.5Q9.25 6 9.375 5.5Q7.425 6.3 6.213 8.05Q5 9.8 5 12Q5 14.9 7.05 16.95Q9.1 19 12 19ZM11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Z"})])],-1)),Tp={__name:"ToggleBar",props:{modelValue:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(p,{emit:o}){const l=p,s=()=>{o("update:modelValue",!l.modelValue)};return(a,d)=>(Xn(),Wn("div",Pp,[kp,Oe("button",{class:"toggle-button",style:xs({background:p.modelValue?"white":"var(--color-pink)"}),onClick:s},[Oe("div",{class:"toggle-circle",style:xs({left:p.modelValue?"31px":"4px"})},null,4)],4),Sp]))}},Vp=to(Tp,[["__scopeId","data-v-46a49a97"]]);const Lp={class:"animate-text"},gi={__name:"AnimateText",props:{text:{type:String,default:""}},setup(p){const o=p,l=jd(()=>o.text.split(""));return(s,a)=>(Xn(),Wn("div",Lp,[(Xn(!0),Wn(Hd,null,Ud(Qd(l),(d,f)=>(Xn(),Wn("span",{class:Us(["animate-word",{empty:d===" "}]),key:f},$d(d),3))),128))]))}};var ba={exports:{}};(function(p,o){(function(l,s){p.exports=s()})(Qs,function(){var l=function(){function s(y){return f.appendChild(y.dom),y}function a(y){for(var x=0;x<f.children.length;x++)f.children[x].style.display=x===y?"block":"none";d=y}var d=0,f=document.createElement("div");f.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",f.addEventListener("click",function(y){y.preventDefault(),a(++d%f.children.length)},!1);var u=(performance||Date).now(),k=u,P=0,I=s(new l.Panel("FPS","#0ff","#002")),L=s(new l.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var A=s(new l.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:f,addPanel:s,showPanel:a,begin:function(){u=(performance||Date).now()},end:function(){P++;var y=(performance||Date).now();if(L.update(y-u,200),y>k+1e3&&(I.update(1e3*P/(y-k),100),k=y,P=0,A)){var x=performance.memory;A.update(x.usedJSHeapSize/1048576,x.jsHeapSizeLimit/1048576)}return y},update:function(){u=this.end()},domElement:f,setMode:a}};return l.Panel=function(s,a,d){var f=1/0,u=0,k=Math.round,P=k(window.devicePixelRatio||1),I=80*P,L=48*P,A=3*P,y=2*P,x=3*P,ee=15*P,J=74*P,D=30*P,me=document.createElement("canvas");me.width=I,me.height=L,me.style.cssText="width:80px;height:48px";var V=me.getContext("2d");return V.font="bold "+9*P+"px Helvetica,Arial,sans-serif",V.textBaseline="top",V.fillStyle=d,V.fillRect(0,0,I,L),V.fillStyle=a,V.fillText(s,A,y),V.fillRect(x,ee,J,D),V.fillStyle=d,V.globalAlpha=.9,V.fillRect(x,ee,J,D),{dom:me,update:function(q,_e){f=Math.min(f,q),u=Math.max(u,q),V.fillStyle=d,V.globalAlpha=1,V.fillRect(0,0,I,ee),V.fillStyle=a,V.fillText(k(q)+" "+s+" ("+k(f)+"-"+k(u)+")",A,y),V.drawImage(me,x+P,ee,J-P,D,x,ee,J-P,D),V.fillRect(x+J-P,ee,P,D),V.fillStyle=d,V.globalAlpha=.9,V.fillRect(x+J-P,ee,P,k((1-q/_e)*D))}}},l})})(ba);const Mp=ba.exports;const ga=p=>(js("data-v-2bba11e3"),p=p(),Hs(),p),Ap=ga(()=>Oe("canvas",{id:"canvas"},null,-1)),Rp=ga(()=>Oe("div",{class:"arrow-down"},[Oe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[Oe("path",{fill:"currentColor",d:"M12 14.95q-.2 0-.375-.063-.175-.062-.325-.212L6.675 10.05q-.275-.275-.262-.688.012-.412.287-.687.275-.275.7-.275.425 0 .7.275l3.9 3.9 3.925-3.925q.275-.275.688-.263.412.013.687.288.275.275.275.7 0 .425-.275.7l-4.6 4.6q-.15.15-.325.212-.175.063-.375.063Z"})])],-1)),Dp={class:"page","asscroll-container":""},Op={class:"page-wrapper",asscroll:""},Ip={class:"hero"},Np={class:"hero-wrapper"},Bp={class:"hero-main"},zp={class:"hero-second"},Fp=Yd('<div class="first-move section-margin" data-v-2bba11e3>first move</div><section class="first-section section left" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-left" data-v-2bba11e3><div class="progress-bar" data-v-2bba11e3></div></div><div class="section-intro-wrapper" data-v-2bba11e3><h1 class="section-title" data-v-2bba11e3><span class="section-title-text" data-v-2bba11e3>About Me</span><div class="section-title-decoration styleOne" data-v-2bba11e3></div><div class="section-title-decoration styleTwo" data-v-2bba11e3></div><div class="section-title-decoration styleThree" data-v-2bba11e3></div></h1><span class="section-number" data-v-2bba11e3>01</span></div><div class="section-detail-wrapper" data-v-2bba11e3><p class="section-text" data-v-2bba11e3>Hi there \u{1F44B}! I&#39;m a third-year digital media student from UK currently studying in Germany. My dream is to work for Disney or Pixar one day.</p><p class="section-text" data-v-2bba11e3> I love creating art and playing with my cats! I also like drinking bubble tea and going for hikes! Totally hippie lol \u270C\uFE0F. Welcome to my portfolio!</p></div></section><div class="second-move section-margin" data-v-2bba11e3>second move</div><section class="second-section section right" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-right" data-v-2bba11e3><div class="progress-bar blue-background" data-v-2bba11e3></div></div><div class="section-intro-wrapper blue-text blue-border" data-v-2bba11e3><h1 class="section-title blue-text blue-border" data-v-2bba11e3><span class="section-title-text blue-text" data-v-2bba11e3>My Work</span><div class="section-title-decoration styleOne blue-border" data-v-2bba11e3></div><div class="section-title-decoration styleTwo blue-border" data-v-2bba11e3></div><div class="section-title-decoration styleThree blue-background blue-border" data-v-2bba11e3></div></h1><span class="section-number blue-text" data-v-2bba11e3>02</span></div><div class="section-detail-wrapper" data-v-2bba11e3><h3 class="section-heading" data-v-2bba11e3>Candycane Village</h3><p class="section-text" data-v-2bba11e3>This project is in progress but it&#39;s about a super colorful village where the entire world including the people are candies. So far the story is that they are set out to explore their &quot;space&quot; only to realize it&#39;s a human that will try to destroy them.</p><h3 class="section-heading" data-v-2bba11e3>Rebecca&#39;s Reddish Radishes</h3><p class="section-text" data-v-2bba11e3>Oh what&#39;s that? Why, it&#39;s a red radish! Oop, another one! In this playful and comedy animation, Rebecca, a young farmer, decided to plant radishes for the first time, but there is a big twist!</p><h3 class="section-heading" data-v-2bba11e3>Flora</h3><p class="section-text" data-v-2bba11e3>A heartwarming story about a little orphan girl who tries to find her way back home.</p></div></section><div class="third-move section-margin" data-v-2bba11e3>third move</div><section class="third-section section left" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-left" data-v-2bba11e3><div class="progress-bar green-background" data-v-2bba11e3></div></div><div class="section-intro-wrapper green-text green-border" data-v-2bba11e3><h1 class="section-title green-text green-border" data-v-2bba11e3><span class="section-title-text green-text" data-v-2bba11e3>Contact Me</span><div class="section-title-decoration styleOne green-border" data-v-2bba11e3></div><div class="section-title-decoration styleTwo green-border" data-v-2bba11e3></div><div class="section-title-decoration styleThree green-background green-border" data-v-2bba11e3></div></h1><span class="section-number green-text" data-v-2bba11e3>03</span></div><div class="section-detail-wrapper" data-v-2bba11e3><h3 class="section-heading" data-v-2bba11e3>ArtStation</h3><p class="section-text" data-v-2bba11e3>I post all my work here. I don&#39;t want to link it yet because I want to sort it out a little bit!</p><h3 class="section-heading" data-v-2bba11e3>Instagram</h3><p class="section-text" data-v-2bba11e3>Check out my personal instagram for travel pics and food and stuff.</p><h3 class="section-heading" data-v-2bba11e3>LinkedIn</h3><p class="section-text" data-v-2bba11e3>Career updates and so much more!</p></div></section>',6),jp={__name:"index",setup(p){const o=Kd({dark:!1});return qd(()=>{const l=new Mp;l.showPanel(0),document.body.appendChild(l.dom);const s=document.querySelector("#canvas"),a=new Zd(s),d=new Cd;d.load(Xd),d.onLoadEnd(()=>{const f=new ep;a.scene.add(f.body);const u=new Jd(d.resources);a.scene.add(u.body),new gp(a,u,f).showWelcome();const P=new Fd,I=()=>{l.begin(),$s.emit(no.Tick,P),a.render(),l.end(),window.requestAnimationFrame(I)};I()}),window.addEventListener("resize",()=>{a.updateSize()})}),(l,s)=>(Xn(),Wn("div",{class:Us([o.dark?"dark-theme":"light-theme"])},[Ap,En(Ep),En(Vp,{modelValue:o.dark,"onUpdate:modelValue":s[0]||(s[0]=a=>o.dark=a)},null,8,["modelValue"]),Rp,Oe("div",Dp,[Oe("div",Op,[Oe("section",Ip,[Oe("div",Np,[En(gi,{text:"Welcome to my portfolio!",class:"welcome-text"}),Oe("div",Bp,[En(gi,{text:"Abigail Bloom",class:"hero-main-title"}),En(gi,{text:"Digital Media Student | 3D Artist",class:"hero-main-description"})]),Oe("div",zp,[En(gi,{text:"AbigailBloom",class:"hero-second-subheading first-sub"}),En(gi,{text:"Portfolio",class:"hero-second-subheading second-sub"})])])]),Fp])])],2))}},qp=to(jp,[["__scopeId","data-v-2bba11e3"]]);export{qp as default};
