var Da=Object.defineProperty;var Ma=(s,t,e)=>t in s?Da(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var Et=(s,t,e)=>(Ma(s,typeof t!="symbol"?t+"":t,e),e);import{j as Wn,V as re,k as Fa,L as Oa,l as Er,F as ba,T as Ni,R as ci,m as pi,n as di,o as $n,p as Ea,q as Ht,s as Ze,E as Ia,r as Z,b as _i,t as mi,u as Fn,v as Qn,O as La,w as Ra,x as gi,y as Lt,z as za,D as Ba,H as Ua,M as Va,I as Xa,J as Ga,K as ja,a as Na,N as yn,Q as we,U as Ya,X as Wa,Y as qa,Z as Kt,_ as Ha,$ as wn,a0 as Za,a1 as Ka,a2 as $a,a3 as vi}from"./three.module.aa667966.js";import{D as Qa,G as Ja}from"./DRACOLoader.2af43901.js";/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var yi={},hr=function(s){return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))},Yi=function(s){return new Worker(s)};try{URL.revokeObjectURL(hr(""))}catch{hr=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)},Yi=function(t){return new Worker(t,{type:"module"})}}var to=function(s,t,e,n,r){var i=Yi(yi[t]||(yi[t]=hr(s)));return i.onerror=function(a){return r(a.error,null)},i.onmessage=function(a){return r(null,a.data)},i.postMessage(e,n),i},L=Uint8Array,rt=Uint16Array,Nt=Uint32Array,Ue=new L([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ve=new L([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nn=new L([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wi=function(s,t){for(var e=new rt(31),n=0;n<31;++n)e[n]=t+=1<<s[n-1];for(var r=new Nt(e[30]),n=1;n<30;++n)for(var i=e[n];i<e[n+1];++i)r[i]=i-e[n]<<5|n;return[e,r]},qi=Wi(Ue,2),Ir=qi[0],On=qi[1];Ir[28]=258,On[258]=28;var Hi=Wi(Ve,0),Zi=Hi[0],cr=Hi[1],rn=new rt(32768);for(var X=0;X<32768;++X){var Zt=(X&43690)>>>1|(X&21845)<<1;Zt=(Zt&52428)>>>2|(Zt&13107)<<2,Zt=(Zt&61680)>>>4|(Zt&3855)<<4,rn[X]=((Zt&65280)>>>8|(Zt&255)<<8)>>>1}var Dt=function(s,t,e){for(var n=s.length,r=0,i=new rt(t);r<n;++r)++i[s[r]-1];var a=new rt(t);for(r=0;r<t;++r)a[r]=a[r-1]+i[r-1]<<1;var o;if(e){o=new rt(1<<t);var l=15-t;for(r=0;r<n;++r)if(s[r])for(var u=r<<4|s[r],f=t-s[r],h=a[s[r]-1]++<<f,c=h|(1<<f)-1;h<=c;++h)o[rn[h]>>>l]=u}else for(o=new rt(n),r=0;r<n;++r)s[r]&&(o[r]=rn[a[s[r]-1]++]>>>15-s[r]);return o},Yt=new L(288);for(var X=0;X<144;++X)Yt[X]=8;for(var X=144;X<256;++X)Yt[X]=9;for(var X=256;X<280;++X)Yt[X]=7;for(var X=280;X<288;++X)Yt[X]=8;var Fe=new L(32);for(var X=0;X<32;++X)Fe[X]=5;var Ki=Dt(Yt,9,0),$i=Dt(Yt,9,1),Qi=Dt(Fe,5,0),Ji=Dt(Fe,5,1),Sn=function(s){for(var t=s[0],e=1;e<s.length;++e)s[e]>t&&(t=s[e]);return t},Tt=function(s,t,e){var n=t/8|0;return(s[n]|s[n+1]<<8)>>(t&7)&e},kn=function(s,t){var e=t/8|0;return(s[e]|s[e+1]<<8|s[e+2]<<16)>>(t&7)},pn=function(s){return(s/8|0)+(s&7&&1)},Mt=function(s,t,e){(t==null||t<0)&&(t=0),(e==null||e>s.length)&&(e=s.length);var n=new(s instanceof rt?rt:s instanceof Nt?Nt:L)(e-t);return n.set(s.subarray(t,e)),n},dn=function(s,t,e){var n=s.length;if(!n||e&&!e.l&&n<5)return t||new L(0);var r=!t||e,i=!e||e.i;e||(e={}),t||(t=new L(n*3));var a=function(vn){var qe=t.length;if(vn>qe){var ye=new L(Math.max(qe*2,vn));ye.set(t),t=ye}},o=e.f||0,l=e.p||0,u=e.b||0,f=e.l,h=e.d,c=e.m,d=e.n,_=n*8;do{if(!f){e.f=o=Tt(s,l,1);var p=Tt(s,l+1,3);if(l+=3,p)if(p==1)f=$i,h=Ji,c=9,d=5;else if(p==2){var g=Tt(s,l,31)+257,x=Tt(s,l+10,15)+4,T=g+Tt(s,l+5,31)+1;l+=14;for(var S=new L(T),P=new L(19),w=0;w<x;++w)P[nn[w]]=Tt(s,l+w*3,7);l+=x*3;for(var k=Sn(P),C=(1<<k)-1,F=Dt(P,k,1),w=0;w<T;){var A=F[Tt(s,l,C)];l+=A&15;var m=A>>>4;if(m<16)S[w++]=m;else{var D=0,M=0;for(m==16?(M=3+Tt(s,l,3),l+=2,D=S[w-1]):m==17?(M=3+Tt(s,l,7),l+=3):m==18&&(M=11+Tt(s,l,127),l+=7);M--;)S[w++]=D}}var b=S.subarray(0,g),O=S.subarray(g);c=Sn(b),d=Sn(O),f=Dt(b,c,1),h=Dt(O,d,1)}else throw"invalid block type";else{var m=pn(l)+4,y=s[m-4]|s[m-3]<<8,v=m+y;if(v>n){if(i)throw"unexpected EOF";break}r&&a(u+y),t.set(s.subarray(m,v),u),e.b=u+=y,e.p=l=v*8;continue}if(l>_){if(i)throw"unexpected EOF";break}}r&&a(u+131072);for(var E=(1<<c)-1,z=(1<<d)-1,W=l;;W=l){var D=f[kn(s,l)&E],J=D>>>4;if(l+=D&15,l>_){if(i)throw"unexpected EOF";break}if(!D)throw"invalid length/literal";if(J<256)t[u++]=J;else if(J==256){W=l,f=null;break}else{var H=J-254;if(J>264){var w=J-257,et=Ue[w];H=Tt(s,l,(1<<et)-1)+Ir[w],l+=et}var mt=h[kn(s,l)&z],G=mt>>>4;if(!mt)throw"invalid distance";l+=mt&15;var O=Zi[G];if(G>3){var et=Ve[G];O+=kn(s,l)&(1<<et)-1,l+=et}if(l>_){if(i)throw"unexpected EOF";break}r&&a(u+131072);for(var j=u+H;u<j;u+=4)t[u]=t[u-O],t[u+1]=t[u+1-O],t[u+2]=t[u+2-O],t[u+3]=t[u+3-O];u=j}}e.l=f,e.p=W,e.b=u,f&&(o=1,e.m=c,e.d=h,e.n=d)}while(!o);return u==t.length?t:Mt(t,0,u)},It=function(s,t,e){e<<=t&7;var n=t/8|0;s[n]|=e,s[n+1]|=e>>>8},Pe=function(s,t,e){e<<=t&7;var n=t/8|0;s[n]|=e,s[n+1]|=e>>>8,s[n+2]|=e>>>16},Cn=function(s,t){for(var e=[],n=0;n<s.length;++n)s[n]&&e.push({s:n,f:s[n]});var r=e.length,i=e.slice();if(!r)return[Gt,0];if(r==1){var a=new L(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(T,S){return T.f-S.f}),e.push({s:-1,f:25001});var o=e[0],l=e[1],u=0,f=1,h=2;for(e[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=r-1;)o=e[e[u].f<e[h].f?u++:h++],l=e[u!=f&&e[u].f<e[h].f?u++:h++],e[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var c=i[0].s,n=1;n<r;++n)i[n].s>c&&(c=i[n].s);var d=new rt(c+1),_=bn(e[f-1],d,0);if(_>t){var n=0,p=0,m=_-t,y=1<<m;for(i.sort(function(S,P){return d[P.s]-d[S.s]||S.f-P.f});n<r;++n){var v=i[n].s;if(d[v]>t)p+=y-(1<<_-d[v]),d[v]=t;else break}for(p>>>=m;p>0;){var g=i[n].s;d[g]<t?p-=1<<t-d[g]++-1:++n}for(;n>=0&&p;--n){var x=i[n].s;d[x]==t&&(--d[x],++p)}_=t}return[new L(d),_]},bn=function(s,t,e){return s.s==-1?Math.max(bn(s.l,t,e+1),bn(s.r,t,e+1)):t[s.s]=e},pr=function(s){for(var t=s.length;t&&!s[--t];);for(var e=new rt(++t),n=0,r=s[0],i=1,a=function(l){e[n++]=l},o=1;o<=t;++o)if(s[o]==r&&o!=t)++i;else{if(!r&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(r),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(r);i=1,r=s[o]}return[e.subarray(0,n),t]},Se=function(s,t){for(var e=0,n=0;n<t.length;++n)e+=s[n]*t[n];return e},Qe=function(s,t,e){var n=e.length,r=pn(t+2);s[r]=n&255,s[r+1]=n>>>8,s[r+2]=s[r]^255,s[r+3]=s[r+1]^255;for(var i=0;i<n;++i)s[r+i+4]=e[i];return(r+4+n)*8},dr=function(s,t,e,n,r,i,a,o,l,u,f){It(t,f++,e),++r[256];for(var h=Cn(r,15),c=h[0],d=h[1],_=Cn(i,15),p=_[0],m=_[1],y=pr(c),v=y[0],g=y[1],x=pr(p),T=x[0],S=x[1],P=new rt(19),w=0;w<v.length;++w)P[v[w]&31]++;for(var w=0;w<T.length;++w)P[T[w]&31]++;for(var k=Cn(P,7),C=k[0],F=k[1],A=19;A>4&&!C[nn[A-1]];--A);var D=u+5<<3,M=Se(r,Yt)+Se(i,Fe)+a,b=Se(r,c)+Se(i,p)+a+14+3*A+Se(P,C)+(2*P[16]+3*P[17]+7*P[18]);if(D<=M&&D<=b)return Qe(t,f,s.subarray(l,l+u));var O,E,z,W;if(It(t,f,1+(b<M)),f+=2,b<M){O=Dt(c,d,0),E=c,z=Dt(p,m,0),W=p;var J=Dt(C,F,0);It(t,f,g-257),It(t,f+5,S-1),It(t,f+10,A-4),f+=14;for(var w=0;w<A;++w)It(t,f+3*w,C[nn[w]]);f+=3*A;for(var H=[v,T],et=0;et<2;++et)for(var mt=H[et],w=0;w<mt.length;++w){var G=mt[w]&31;It(t,f,J[G]),f+=C[G],G>15&&(It(t,f,mt[w]>>>5&127),f+=mt[w]>>>12)}}else O=Ki,E=Yt,z=Qi,W=Fe;for(var w=0;w<o;++w)if(n[w]>255){var G=n[w]>>>18&31;Pe(t,f,O[G+257]),f+=E[G+257],G>7&&(It(t,f,n[w]>>>23&31),f+=Ue[G]);var j=n[w]&31;Pe(t,f,z[j]),f+=W[j],j>3&&(Pe(t,f,n[w]>>>5&8191),f+=Ve[j])}else Pe(t,f,O[n[w]]),f+=E[n[w]];return Pe(t,f,O[256]),f+E[256]},ts=new Nt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gt=new L(0),es=function(s,t,e,n,r,i){var a=s.length,o=new L(n+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(n,o.length-r),u=0;if(!t||a<8)for(var f=0;f<=a;f+=65535){var h=f+65535;h<a?u=Qe(l,u,s.subarray(f,h)):(l[f]=i,u=Qe(l,u,s.subarray(f,a)))}else{for(var c=ts[t-1],d=c>>>13,_=c&8191,p=(1<<e)-1,m=new rt(32768),y=new rt(p+1),v=Math.ceil(e/3),g=2*v,x=function(Kn){return(s[Kn]^s[Kn+1]<<v^s[Kn+2]<<g)&p},T=new Nt(25e3),S=new rt(288),P=new rt(32),w=0,k=0,f=0,C=0,F=0,A=0;f<a;++f){var D=x(f),M=f&32767,b=y[D];if(m[M]=b,y[D]=M,F<=f){var O=a-f;if((w>7e3||C>24576)&&O>423){u=dr(s,l,0,T,S,P,k,C,A,f-A,u),C=w=k=0,A=f;for(var E=0;E<286;++E)S[E]=0;for(var E=0;E<30;++E)P[E]=0}var z=2,W=0,J=_,H=M-b&32767;if(O>2&&D==x(f-H))for(var et=Math.min(d,O)-1,mt=Math.min(32767,f),G=Math.min(258,O);H<=mt&&--J&&M!=b;){if(s[f+z]==s[f+z-H]){for(var j=0;j<G&&s[f+j]==s[f+j-H];++j);if(j>z){if(z=j,W=H,j>et)break;for(var vn=Math.min(H,j-2),qe=0,E=0;E<vn;++E){var ye=f-H+E+32768&32767,Aa=m[ye],ui=ye-Aa+32768&32767;ui>qe&&(qe=ui,b=ye)}}}M=b,b=m[M],H+=M-b+32768&32767}if(W){T[C++]=268435456|On[z]<<18|cr[W];var fi=On[z]&31,hi=cr[W]&31;k+=Ue[fi]+Ve[hi],++S[257+fi],++P[hi],F=f+z,++w}else T[C++]=s[f],++S[s[f]]}}u=dr(s,l,i,T,S,P,k,C,A,f-A,u),!i&&u&7&&(u=Qe(l,u+1,Gt))}return Mt(o,0,n+pn(u)+r)},ns=function(){for(var s=new Nt(256),t=0;t<256;++t){for(var e=t,n=9;--n;)e=(e&1&&3988292384)^e>>>1;s[t]=e}return s}(),Xe=function(){var s=-1;return{p:function(t){for(var e=s,n=0;n<t.length;++n)e=ns[e&255^t[n]]^e>>>8;s=e},d:function(){return~s}}},Lr=function(){var s=1,t=0;return{p:function(e){for(var n=s,r=t,i=e.length,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)r+=n+=e[a];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}s=n,t=r},d:function(){return s%=65521,t%=65521,(s&255)<<24|s>>>8<<16|(t&255)<<8|t>>>8}}},ge=function(s,t,e,n,r){return es(s,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):12+t.mem,e,n,!r)},_n=function(s,t){var e={};for(var n in s)e[n]=s[n];for(var n in t)e[n]=t[n];return e},wi=function(s,t,e){for(var n=s(),r=s.toString(),i=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<n.length;++a){var o=n[a],l=i[a];if(typeof o=="function"){t+=";"+l+"=";var u=o.toString();if(o.prototype)if(u.indexOf("[native code]")!=-1){var f=u.indexOf(" ",8)+1;t+=u.slice(f,u.indexOf("(",f))}else{t+=u;for(var h in o.prototype)t+=";"+l+".prototype."+h+"="+o.prototype[h].toString()}else t+=u}else e[l]=o}return[t,e]},xn=[],eo=function(s){var t=[];for(var e in s)(s[e]instanceof L||s[e]instanceof rt||s[e]instanceof Nt)&&t.push((s[e]=new s[e].constructor(s[e])).buffer);return t},rs=function(s,t,e,n){var r;if(!xn[e]){for(var i="",a={},o=s.length-1,l=0;l<o;++l)r=wi(s[l],i,a),i=r[0],a=r[1];xn[e]=wi(s[o],i,a)}var u=_n({},xn[e][1]);return to(xn[e][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",e,u,eo(u),n)},Ge=function(){return[L,rt,Nt,Ue,Ve,nn,Ir,Zi,$i,Ji,rn,Dt,Sn,Tt,kn,pn,Mt,dn,We,oe,Rr]},je=function(){return[L,rt,Nt,Ue,Ve,nn,On,cr,Ki,Yt,Qi,Fe,rn,ts,Gt,Dt,It,Pe,Cn,bn,pr,Se,Qe,dr,pn,Mt,es,ge,mn,oe]},is=function(){return[zr,Ur,B,Xe,ns]},ss=function(){return[Br,ls]},as=function(){return[Vr,B,Lr]},os=function(){return[us]},oe=function(s){return postMessage(s,[s.buffer])},Rr=function(s){return s&&s.size&&new L(s.size)},Ne=function(s,t,e,n,r,i){var a=rs(e,n,r,function(o,l){a.terminate(),i(o,l)});return a.postMessage([s,t],t.consume?[s.buffer]:[]),function(){a.terminate()}},Ft=function(s){return s.ondata=function(t,e){return postMessage([t,e],[t.buffer])},function(t){return s.push(t.data[0],t.data[1])}},Ye=function(s,t,e,n,r){var i,a=rs(s,n,r,function(o,l){o?(a.terminate(),t.ondata.call(t,o)):(l[1]&&a.terminate(),t.ondata.call(t,o,l[0],l[1]))});a.postMessage(e),t.push=function(o,l){if(i)throw"stream finished";if(!t.ondata)throw"no stream handler";a.postMessage([o,i=l],[o.buffer])},t.terminate=function(){a.terminate()}},lt=function(s,t){return s[t]|s[t+1]<<8},Q=function(s,t){return(s[t]|s[t+1]<<8|s[t+2]<<16|s[t+3]<<24)>>>0},Jn=function(s,t){return Q(s,t)+Q(s,t+4)*4294967296},B=function(s,t,e){for(;e;++t)s[t]=e,e>>>=8},zr=function(s,t){var e=t.filename;if(s[0]=31,s[1]=139,s[2]=8,s[8]=t.level<2?4:t.level==9?2:0,s[9]=3,t.mtime!=0&&B(s,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),e){s[3]=8;for(var n=0;n<=e.length;++n)s[n+10]=e.charCodeAt(n)}},Br=function(s){if(s[0]!=31||s[1]!=139||s[2]!=8)throw"invalid gzip data";var t=s[3],e=10;t&4&&(e+=s[10]|(s[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!s[e++]);return e+(t&2)},ls=function(s){var t=s.length;return(s[t-4]|s[t-3]<<8|s[t-2]<<16|s[t-1]<<24)>>>0},Ur=function(s){return 10+(s.filename&&s.filename.length+1||0)},Vr=function(s,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;s[0]=120,s[1]=n<<6|(n?32-2*n:1)},us=function(s){if((s[0]&15)!=8||s[0]>>>4>7||(s[0]<<8|s[1])%31)throw"invalid zlib data";if(s[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Xr(s,t){return!t&&typeof s=="function"&&(t=s,s={}),this.ondata=t,s}var Bt=function(){function s(t,e){!e&&typeof t=="function"&&(e=t,t={}),this.ondata=e,this.o=t||{}}return s.prototype.p=function(t,e){this.ondata(ge(t,this.o,0,0,!e),e)},s.prototype.push=function(t,e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=e,this.p(t,e||!1)},s}(),fs=function(){function s(t,e){Ye([je,function(){return[Ft,Bt]}],this,Xr.call(this,t,e),function(n){var r=new Bt(n.data);onmessage=Ft(r)},6)}return s}();function hs(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[je],function(n){return oe(mn(n.data[0],n.data[1]))},0,e)}function mn(s,t){return ge(s,t||{},0,0)}var ht=function(){function s(t){this.s={},this.p=new L(0),this.ondata=t}return s.prototype.e=function(t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var e=this.p.length,n=new L(e+t.length);n.set(this.p),n.set(t,e),this.p=n},s.prototype.c=function(t){this.d=this.s.i=t||!1;var e=this.s.b,n=dn(this.p,this.o,this.s);this.ondata(Mt(n,e,this.s.b),this.d),this.o=Mt(n,this.s.b-32768),this.s.b=this.o.length,this.p=Mt(this.p,this.s.p/8|0),this.s.p&=7},s.prototype.push=function(t,e){this.e(t),this.c(e)},s}(),Gr=function(){function s(t){this.ondata=t,Ye([Ge,function(){return[Ft,ht]}],this,0,function(){var e=new ht;onmessage=Ft(e)},7)}return s}();function jr(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[Ge],function(n){return oe(We(n.data[0],Rr(n.data[1])))},1,e)}function We(s,t){return dn(s,t)}var En=function(){function s(t,e){this.c=Xe(),this.l=0,this.v=1,Bt.call(this,t,e)}return s.prototype.push=function(t,e){Bt.prototype.push.call(this,t,e)},s.prototype.p=function(t,e){this.c.p(t),this.l+=t.length;var n=ge(t,this.o,this.v&&Ur(this.o),e&&8,!e);this.v&&(zr(n,this.o),this.v=0),e&&(B(n,n.length-8,this.c.d()),B(n,n.length-4,this.l)),this.ondata(n,e)},s}(),xi=function(){function s(t,e){Ye([je,is,function(){return[Ft,Bt,En]}],this,Xr.call(this,t,e),function(n){var r=new En(n.data);onmessage=Ft(r)},8)}return s}();function Ti(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[je,is,function(){return[In]}],function(n){return oe(In(n.data[0],n.data[1]))},2,e)}function In(s,t){t||(t={});var e=Xe(),n=s.length;e.p(s);var r=ge(s,t,Ur(t),8),i=r.length;return zr(r,t),B(r,i-8,e.d()),B(r,i-4,n),r}var Ln=function(){function s(t){this.v=1,ht.call(this,t)}return s.prototype.push=function(t,e){if(ht.prototype.e.call(this,t),this.v){var n=this.p.length>3?Br(this.p):4;if(n>=this.p.length&&!e)return;this.p=this.p.subarray(n),this.v=0}if(e){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}ht.prototype.c.call(this,e)},s}(),cs=function(){function s(t){this.ondata=t,Ye([Ge,ss,function(){return[Ft,ht,Ln]}],this,0,function(){var e=new Ln;onmessage=Ft(e)},9)}return s}();function ps(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[Ge,ss,function(){return[Rn]}],function(n){return oe(Rn(n.data[0]))},3,e)}function Rn(s,t){return dn(s.subarray(Br(s),-8),t||new L(ls(s)))}var _r=function(){function s(t,e){this.c=Lr(),this.v=1,Bt.call(this,t,e)}return s.prototype.push=function(t,e){Bt.prototype.push.call(this,t,e)},s.prototype.p=function(t,e){this.c.p(t);var n=ge(t,this.o,this.v&&2,e&&4,!e);this.v&&(Vr(n,this.o),this.v=0),e&&B(n,n.length-4,this.c.d()),this.ondata(n,e)},s}(),no=function(){function s(t,e){Ye([je,as,function(){return[Ft,Bt,_r]}],this,Xr.call(this,t,e),function(n){var r=new _r(n.data);onmessage=Ft(r)},10)}return s}();function ro(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[je,as,function(){return[mr]}],function(n){return oe(mr(n.data[0],n.data[1]))},4,e)}function mr(s,t){t||(t={});var e=Lr();e.p(s);var n=ge(s,t,2,4);return Vr(n,t),B(n,n.length-4,e.d()),n}var zn=function(){function s(t){this.v=1,ht.call(this,t)}return s.prototype.push=function(t,e){if(ht.prototype.e.call(this,t),this.v){if(this.p.length<2&&!e)return;this.p=this.p.subarray(2),this.v=0}if(e){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}ht.prototype.c.call(this,e)},s}(),ds=function(){function s(t){this.ondata=t,Ye([Ge,os,function(){return[Ft,ht,zn]}],this,0,function(){var e=new zn;onmessage=Ft(e)},11)}return s}();function _s(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return Ne(s,t,[Ge,os,function(){return[sn]}],function(n){return oe(sn(n.data[0],Rr(n.data[1])))},5,e)}function sn(s,t){return dn((us(s),s.subarray(2,-4)),t)}var ms=function(){function s(t){this.G=Ln,this.I=ht,this.Z=zn,this.ondata=t}return s.prototype.push=function(t,e){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(t,e);else{if(this.p&&this.p.length){var n=new L(this.p.length+t.length);n.set(this.p),n.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var r=this,i=function(){r.ondata.apply(r,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(i):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(i):new this.Z(i),this.s.push(this.p,e),this.p=null}}},s}(),io=function(){function s(t){this.G=cs,this.I=Gr,this.Z=ds,this.ondata=t}return s.prototype.push=function(t,e){ms.prototype.push.call(this,t,e)},s}();function so(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";return s[0]==31&&s[1]==139&&s[2]==8?ps(s,t,e):(s[0]&15)!=8||s[0]>>4>7||(s[0]<<8|s[1])%31?jr(s,t,e):_s(s,t,e)}function ao(s,t){return s[0]==31&&s[1]==139&&s[2]==8?Rn(s,t):(s[0]&15)!=8||s[0]>>4>7||(s[0]<<8|s[1])%31?We(s,t):sn(s,t)}var Nr=function(s,t,e,n){for(var r in s){var i=s[r],a=t+r;i instanceof L?e[a]=[i,n]:Array.isArray(i)?e[a]=[i[0],_n(n,i[1])]:Nr(i,a+"/",e,n)}},Pi=typeof TextEncoder<"u"&&new TextEncoder,gr=typeof TextDecoder<"u"&&new TextDecoder,gs=0;try{gr.decode(Gt,{stream:!0}),gs=1}catch{}var vs=function(s){for(var t="",e=0;;){var n=s[e++],r=(n>127)+(n>223)+(n>239);if(e+r>s.length)return[t,Mt(s,e-1)];r?r==3?(n=((n&15)<<18|(s[e++]&63)<<12|(s[e++]&63)<<6|s[e++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):r&1?t+=String.fromCharCode((n&31)<<6|s[e++]&63):t+=String.fromCharCode((n&15)<<12|(s[e++]&63)<<6|s[e++]&63):t+=String.fromCharCode(n)}},oo=function(){function s(t){this.ondata=t,gs?this.t=new TextDecoder:this.p=Gt}return s.prototype.push=function(t,e){if(!this.ondata)throw"no callback";if(e=!!e,this.t){if(this.ondata(this.t.decode(t,{stream:!0}),e),e){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var n=new L(this.p.length+t.length);n.set(this.p),n.set(t,this.p.length);var r=vs(n),i=r[0],a=r[1];if(e){if(a.length)throw"invalid utf-8 data";this.p=null}else this.p=a;this.ondata(i,e)},s}(),lo=function(){function s(t){this.ondata=t}return s.prototype.push=function(t,e){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(ie(t),this.d=e||!1)},s}();function ie(s,t){if(t){for(var e=new L(s.length),n=0;n<s.length;++n)e[n]=s.charCodeAt(n);return e}if(Pi)return Pi.encode(s);for(var r=s.length,i=new L(s.length+(s.length>>1)),a=0,o=function(f){i[a++]=f},n=0;n<r;++n){if(a+5>i.length){var l=new L(a+8+(r-n<<1));l.set(i),i=l}var u=s.charCodeAt(n);u<128||t?o(u):u<2048?(o(192|u>>6),o(128|u&63)):u>55295&&u<57344?(u=65536+(u&1023<<10)|s.charCodeAt(++n)&1023,o(240|u>>18),o(128|u>>12&63),o(128|u>>6&63),o(128|u&63)):(o(224|u>>12),o(128|u>>6&63),o(128|u&63))}return Mt(i,0,a)}function Yr(s,t){if(t){for(var e="",n=0;n<s.length;n+=16384)e+=String.fromCharCode.apply(null,s.subarray(n,n+16384));return e}else{if(gr)return gr.decode(s);var r=vs(s),i=r[0],a=r[1];if(a.length)throw"invalid utf-8 data";return i}}var ys=function(s){return s==1?3:s<6?2:s==9?1:0},ws=function(s,t){return t+30+lt(s,t+26)+lt(s,t+28)},xs=function(s,t,e){var n=lt(s,t+28),r=Yr(s.subarray(t+46,t+46+n),!(lt(s,t+8)&2048)),i=t+46+n,a=Q(s,t+20),o=e&&a==4294967295?Ts(s,i):[a,Q(s,t+24),Q(s,t+42)],l=o[0],u=o[1],f=o[2];return[lt(s,t+10),l,u,r,i+lt(s,t+30)+lt(s,t+32),f]},Ts=function(s,t){for(;lt(s,t)!=1;t+=4+lt(s,t+2));return[Jn(s,t+12),Jn(s,t+4),Jn(s,t+20)]},te=function(s){var t=0;if(s)for(var e in s){var n=s[e].length;if(n>65535)throw"extra field too long";t+=n+4}return t},Oe=function(s,t,e,n,r,i,a,o){var l=n.length,u=e.extra,f=o&&o.length,h=te(u);B(s,t,a!=null?33639248:67324752),t+=4,a!=null&&(s[t++]=20,s[t++]=e.os),s[t]=20,t+=2,s[t++]=e.flag<<1|(i==null&&8),s[t++]=r&&8,s[t++]=e.compression&255,s[t++]=e.compression>>8;var c=new Date(e.mtime==null?Date.now():e.mtime),d=c.getFullYear()-1980;if(d<0||d>119)throw"date not in range 1980-2099";if(B(s,t,d<<25|c.getMonth()+1<<21|c.getDate()<<16|c.getHours()<<11|c.getMinutes()<<5|c.getSeconds()>>>1),t+=4,i!=null&&(B(s,t,e.crc),B(s,t+4,i),B(s,t+8,e.size)),B(s,t+12,l),B(s,t+14,h),t+=16,a!=null&&(B(s,t,f),B(s,t+6,e.attrs),B(s,t+10,a),t+=14),s.set(n,t),t+=l,h)for(var _ in u){var p=u[_],m=p.length;B(s,t,+_),B(s,t+2,m),s.set(p,t+4),t+=4+m}return f&&(s.set(o,t),t+=f),t},Wr=function(s,t,e,n,r){B(s,t,101010256),B(s,t+8,e),B(s,t+10,e),B(s,t+12,n),B(s,t+16,r)},an=function(){function s(t){this.filename=t,this.c=Xe(),this.size=0,this.compression=0}return s.prototype.process=function(t,e){this.ondata(null,t,e)},s.prototype.push=function(t,e){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(t),this.size+=t.length,e&&(this.crc=this.c.d()),this.process(t,e||!1)},s}(),uo=function(){function s(t,e){var n=this;e||(e={}),an.call(this,t),this.d=new Bt(e,function(r,i){n.ondata(null,r,i)}),this.compression=8,this.flag=ys(e.level)}return s.prototype.process=function(t,e){try{this.d.push(t,e)}catch(n){this.ondata(n,null,e)}},s.prototype.push=function(t,e){an.prototype.push.call(this,t,e)},s}(),fo=function(){function s(t,e){var n=this;e||(e={}),an.call(this,t),this.d=new fs(e,function(r,i,a){n.ondata(r,i,a)}),this.compression=8,this.flag=ys(e.level),this.terminate=this.d.terminate}return s.prototype.process=function(t,e){this.d.push(t,e)},s.prototype.push=function(t,e){an.prototype.push.call(this,t,e)},s}(),ho=function(){function s(t){this.ondata=t,this.u=[],this.d=1}return s.prototype.add=function(t){var e=this;if(this.d&2)throw"stream finished";var n=ie(t.filename),r=n.length,i=t.comment,a=i&&ie(i),o=r!=t.filename.length||a&&i.length!=a.length,l=r+te(t.extra)+30;if(r>65535)throw"filename too long";var u=new L(l);Oe(u,0,t,n,o);var f=[u],h=function(){for(var m=0,y=f;m<y.length;m++){var v=y[m];e.ondata(null,v,!1)}f=[]},c=this.d;this.d=0;var d=this.u.length,_=_n(t,{f:n,u:o,o:a,t:function(){t.terminate&&t.terminate()},r:function(){if(h(),c){var m=e.u[d+1];m?m.r():e.d=1}c=1}}),p=0;t.ondata=function(m,y,v){if(m)e.ondata(m,y,v),e.terminate();else if(p+=y.length,f.push(y),v){var g=new L(16);B(g,0,134695760),B(g,4,t.crc),B(g,8,p),B(g,12,t.size),f.push(g),_.c=p,_.b=l+p+16,_.crc=t.crc,_.size=t.size,c&&_.r(),c=1}else c&&h()},this.u.push(_)},s.prototype.end=function(){var t=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){!(t.d&1)||(t.u.splice(-1,1),t.e())},t:function(){}}),this.d=3},s.prototype.e=function(){for(var t=0,e=0,n=0,r=0,i=this.u;r<i.length;r++){var a=i[r];n+=46+a.f.length+te(a.extra)+(a.o?a.o.length:0)}for(var o=new L(n+22),l=0,u=this.u;l<u.length;l++){var a=u[l];Oe(o,t,a,a.f,a.u,a.c,e,a.o),t+=46+a.f.length+te(a.extra)+(a.o?a.o.length:0),e+=a.b}Wr(o,t,this.u.length,n,e),this.ondata(null,o,!0),this.d=2},s.prototype.terminate=function(){for(var t=0,e=this.u;t<e.length;t++){var n=e[t];n.t()}this.d=2},s}();function co(s,t,e){if(e||(e=t,t={}),typeof e!="function")throw"no callback";var n={};Nr(s,"",n,t);var r=Object.keys(n),i=r.length,a=0,o=0,l=i,u=new Array(i),f=[],h=function(){for(var p=0;p<f.length;++p)f[p]()},c=function(){var p=new L(o+22),m=a,y=o-a;o=0;for(var v=0;v<l;++v){var g=u[v];try{var x=g.c.length;Oe(p,o,g,g.f,g.u,x);var T=30+g.f.length+te(g.extra),S=o+T;p.set(g.c,S),Oe(p,a,g,g.f,g.u,x,o,g.m),a+=16+T+(g.m?g.m.length:0),o=S+x}catch(P){return e(P,null)}}Wr(p,a,u.length,y,m),e(null,p)};i||c();for(var d=function(p){var m=r[p],y=n[m],v=y[0],g=y[1],x=Xe(),T=v.length;x.p(v);var S=ie(m),P=S.length,w=g.comment,k=w&&ie(w),C=k&&k.length,F=te(g.extra),A=g.level==0?0:8,D=function(M,b){if(M)h(),e(M,null);else{var O=b.length;u[p]=_n(g,{size:T,crc:x.d(),c:b,f:S,m:k,u:P!=m.length||k&&w.length!=C,compression:A}),a+=30+P+F+O,o+=76+2*(P+F)+(C||0)+O,--i||c()}};if(P>65535&&D("filename too long",null),!A)D(null,v);else if(T<16e4)try{D(null,mn(v,g))}catch(M){D(M,null)}else f.push(hs(v,g,D))},_=0;_<l;++_)d(_);return h}function po(s,t){t||(t={});var e={},n=[];Nr(s,"",e,t);var r=0,i=0;for(var a in e){var o=e[a],l=o[0],u=o[1],f=u.level==0?0:8,h=ie(a),c=h.length,d=u.comment,_=d&&ie(d),p=_&&_.length,m=te(u.extra);if(c>65535)throw"filename too long";var y=f?mn(l,u):l,v=y.length,g=Xe();g.p(l),n.push(_n(u,{size:l.length,crc:g.d(),c:y,f:h,m:_,u:c!=a.length||_&&d.length!=p,o:r,compression:f})),r+=30+c+m+v,i+=76+2*(c+m)+(p||0)+v}for(var x=new L(i+22),T=r,S=i-r,P=0;P<n.length;++P){var h=n[P];Oe(x,h.o,h,h.f,h.u,h.c.length);var w=30+h.f.length+te(h.extra);x.set(h.c,h.o+w),Oe(x,r,h,h.f,h.u,h.c.length,h.o,h.m),r+=16+w+(h.m?h.m.length:0)}return Wr(x,r,n.length,S,T),x}var Ps=function(){function s(){}return s.prototype.push=function(t,e){this.ondata(null,t,e)},s.compression=0,s}(),_o=function(){function s(){var t=this;this.i=new ht(function(e,n){t.ondata(null,e,n)})}return s.prototype.push=function(t,e){try{this.i.push(t,e)}catch(n){this.ondata(n,t,e)}},s.compression=8,s}(),mo=function(){function s(t,e){var n=this;e<32e4?this.i=new ht(function(r,i){n.ondata(null,r,i)}):(this.i=new Gr(function(r,i,a){n.ondata(r,i,a)}),this.terminate=this.i.terminate)}return s.prototype.push=function(t,e){this.i.terminate&&(t=Mt(t,0)),this.i.push(t,e)},s.compression=8,s}(),go=function(){function s(t){this.onfile=t,this.k=[],this.o={0:Ps},this.p=Gt}return s.prototype.push=function(t,e){var n=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var r=Math.min(this.c,t.length),i=t.subarray(0,r);if(this.c-=r,this.d?this.d.push(i,!this.c):this.k[0].push(i),t=t.subarray(r),t.length)return this.push(t,e)}else{var a=0,o=0,l=void 0,u=void 0;this.p.length?t.length?(u=new L(this.p.length+t.length),u.set(this.p),u.set(t,this.p.length)):u=this.p:u=t;for(var f=u.length,h=this.c,c=h&&this.d,d=function(){var y,v=Q(u,o);if(v==67324752){a=1,l=o,_.d=null,_.c=0;var g=lt(u,o+6),x=lt(u,o+8),T=g&2048,S=g&8,P=lt(u,o+26),w=lt(u,o+28);if(f>o+30+P+w){var k=[];_.k.unshift(k),a=2;var C=Q(u,o+18),F=Q(u,o+22),A=Yr(u.subarray(o+30,o+=30+P),!T);C==4294967295?(y=S?[-2]:Ts(u,o),C=y[0],F=y[1]):S&&(C=-1),o+=w,_.c=C;var D,M={name:A,compression:x,start:function(){if(!M.ondata)throw"no callback";if(!C)M.ondata(null,Gt,!0);else{var b=n.o[x];if(!b)throw"unknown compression type "+x;D=C<0?new b(A):new b(A,C,F),D.ondata=function(W,J,H){M.ondata(W,J,H)};for(var O=0,E=k;O<E.length;O++){var z=E[O];D.push(z,!1)}n.k[0]==k&&n.c?n.d=D:D.push(Gt,!0)}},terminate:function(){D&&D.terminate&&D.terminate()}};C>=0&&(M.size=C,M.originalSize=F),_.onfile(M)}return"break"}else if(h){if(v==134695760)return l=o+=12+(h==-2&&8),a=3,_.c=0,"break";if(v==33639248)return l=o-=4,a=3,_.c=0,"break"}},_=this;o<f-4;++o){var p=d();if(p==="break")break}if(this.p=Gt,h<0){var m=a?u.subarray(0,l-12-(h==-2&&8)-(Q(u,l-16)==134695760&&4)):u.subarray(0,o);c?c.push(m,!!a):this.k[+(a==2)].push(m)}if(a&2)return this.push(u.subarray(o),e);this.p=u.subarray(o)}if(e){if(this.c)throw"invalid zip file";this.p=null}},s.prototype.register=function(t){this.o[t.compression]=t},s}();function vo(s,t){if(typeof t!="function")throw"no callback";for(var e=[],n=function(){for(var c=0;c<e.length;++c)e[c]()},r={},i=s.length-22;Q(s,i)!=101010256;--i)if(!i||s.length-i>65558){t("invalid zip file",null);return}var a=lt(s,i+8);a||t(null,{});var o=a,l=Q(s,i+16),u=l==4294967295;if(u){if(i=Q(s,i-12),Q(s,i)!=101075792){t("invalid zip file",null);return}o=a=Q(s,i+32),l=Q(s,i+48)}for(var f=function(c){var d=xs(s,l,u),_=d[0],p=d[1],m=d[2],y=d[3],v=d[4],g=d[5],x=ws(s,g);l=v;var T=function(P,w){P?(n(),t(P,null)):(r[y]=w,--a||t(null,r))};if(!_)T(null,Mt(s,x,x+p));else if(_==8){var S=s.subarray(x,x+p);if(p<32e4)try{T(null,We(S,new L(m)))}catch(P){T(P,null)}else e.push(jr(S,{size:m},T))}else T("unknown compression type "+_,null)},h=0;h<o;++h)f();return n}function yo(s){for(var t={},e=s.length-22;Q(s,e)!=101010256;--e)if(!e||s.length-e>65558)throw"invalid zip file";var n=lt(s,e+8);if(!n)return{};var r=Q(s,e+16),i=r==4294967295;if(i){if(e=Q(s,e-12),Q(s,e)!=101075792)throw"invalid zip file";n=Q(s,e+32),r=Q(s,e+48)}for(var a=0;a<n;++a){var o=xs(s,r,i),l=o[0],u=o[1],f=o[2],h=o[3],c=o[4],d=o[5],_=ws(s,d);if(r=c,!l)t[h]=Mt(s,_,_+u);else if(l==8)t[h]=We(s.subarray(_,_+u),new L(f));else throw"unknown compression type "+l}return t}const wo=Object.freeze(Object.defineProperty({__proto__:null,Deflate:Bt,AsyncDeflate:fs,deflate:hs,deflateSync:mn,Inflate:ht,AsyncInflate:Gr,inflate:jr,inflateSync:We,Gzip:En,AsyncGzip:xi,gzip:Ti,gzipSync:In,Gunzip:Ln,AsyncGunzip:cs,gunzip:ps,gunzipSync:Rn,Zlib:_r,AsyncZlib:no,zlib:ro,zlibSync:mr,Unzlib:zn,AsyncUnzlib:ds,unzlib:_s,unzlibSync:sn,compress:Ti,AsyncCompress:xi,compressSync:In,Compress:En,Decompress:ms,AsyncDecompress:io,decompress:so,decompressSync:ao,DecodeUTF8:oo,EncodeUTF8:lo,strToU8:ie,strFromU8:Yr,ZipPassThrough:an,ZipDeflate:uo,AsyncZipDeflate:fo,Zip:ho,zip:co,zipSync:po,UnzipPassThrough:Ps,UnzipInflate:_o,AsyncUnzipInflate:mo,Unzip:go,unzip:vo,unzipSync:yo},Symbol.toStringTag,{value:"Module"}));function Ss(s,t,e){const n=e.length-s-1;if(t>=e[n])return n-1;if(t<=e[s])return s;let r=s,i=n,a=Math.floor((r+i)/2);for(;t<e[a]||t>=e[a+1];)t<e[a]?i=a:r=a,a=Math.floor((r+i)/2);return a}function xo(s,t,e,n){const r=[],i=[],a=[];r[0]=1;for(let o=1;o<=e;++o){i[o]=t-n[s+1-o],a[o]=n[s+o]-t;let l=0;for(let u=0;u<o;++u){const f=a[u+1],h=i[o-u],c=r[u]/(f+h);r[u]=l+f*c,l=h*c}r[o]=l}return r}function To(s,t,e,n){const r=Ss(s,n,t),i=xo(r,n,s,t),a=new Wn(0,0,0,0);for(let o=0;o<=s;++o){const l=e[r-s+o],u=i[o],f=l.w*u;a.x+=l.x*f,a.y+=l.y*f,a.z+=l.z*f,a.w+=l.w*u}return a}function Po(s,t,e,n,r){const i=[];for(let h=0;h<=e;++h)i[h]=0;const a=[];for(let h=0;h<=n;++h)a[h]=i.slice(0);const o=[];for(let h=0;h<=e;++h)o[h]=i.slice(0);o[0][0]=1;const l=i.slice(0),u=i.slice(0);for(let h=1;h<=e;++h){l[h]=t-r[s+1-h],u[h]=r[s+h]-t;let c=0;for(let d=0;d<h;++d){const _=u[d+1],p=l[h-d];o[h][d]=_+p;const m=o[d][h-1]/o[h][d];o[d][h]=c+_*m,c=p*m}o[h][h]=c}for(let h=0;h<=e;++h)a[0][h]=o[h][e];for(let h=0;h<=e;++h){let c=0,d=1;const _=[];for(let p=0;p<=e;++p)_[p]=i.slice(0);_[0][0]=1;for(let p=1;p<=n;++p){let m=0;const y=h-p,v=e-p;h>=p&&(_[d][0]=_[c][0]/o[v+1][y],m=_[d][0]*o[y][v]);const g=y>=-1?1:-y,x=h-1<=v?p-1:e-h;for(let S=g;S<=x;++S)_[d][S]=(_[c][S]-_[c][S-1])/o[v+1][y+S],m+=_[d][S]*o[y+S][v];h<=v&&(_[d][p]=-_[c][p-1]/o[v+1][h],m+=_[d][p]*o[h][v]),a[p][h]=m;const T=c;c=d,d=T}}let f=e;for(let h=1;h<=n;++h){for(let c=0;c<=e;++c)a[h][c]*=f;f*=e-h}return a}function So(s,t,e,n,r){const i=r<s?r:s,a=[],o=Ss(s,n,t),l=Po(o,n,s,i,t),u=[];for(let f=0;f<e.length;++f){const h=e[f].clone(),c=h.w;h.x*=c,h.y*=c,h.z*=c,u[f]=h}for(let f=0;f<=i;++f){const h=u[o-s].clone().multiplyScalar(l[f][0]);for(let c=1;c<=s;++c)h.add(u[o-s+c].clone().multiplyScalar(l[f][c]));a[f]=h}for(let f=i+1;f<=r+1;++f)a[f]=new Wn(0,0,0);return a}function ko(s,t){let e=1;for(let r=2;r<=s;++r)e*=r;let n=1;for(let r=2;r<=t;++r)n*=r;for(let r=2;r<=s-t;++r)n*=r;return e/n}function Co(s){const t=s.length,e=[],n=[];for(let i=0;i<t;++i){const a=s[i];e[i]=new re(a.x,a.y,a.z),n[i]=a.w}const r=[];for(let i=0;i<t;++i){const a=e[i].clone();for(let o=1;o<=i;++o)a.sub(r[i-o].clone().multiplyScalar(ko(i,o)*n[o]));r[i]=a.divideScalar(n[0])}return r}function Ao(s,t,e,n,r){const i=So(s,t,e,n,r);return Co(i)}class Si extends Fa{constructor(t,e,n,r,i){super(),this.degree=t,this.knots=e,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(let a=0;a<n.length;++a){const o=n[a];this.controlPoints[a]=new Wn(o.x,o.y,o.z,o.w)}}getPoint(t,e=new re){const n=e,r=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=To(this.degree,this.knots,this.controlPoints,r);return i.w!==1&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)}getTangent(t,e=new re){const n=e,r=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),i=Ao(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n}}let I,K,ut;class Do extends Oa{constructor(t){super(t)}load(t,e,n,r){const i=this,a=i.path===""?Er.extractUrlBase(t):i.path,o=new ba(this.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(t,function(l){try{e(i.parse(l,a))}catch(u){r?r(u):console.error(u),i.manager.itemError(t)}},n,r)}parse(t,e){if(Io(t))I=new Eo().parse(t);else{const r=Ds(t);if(!Lo(r))throw new Error("THREE.FBXLoader: Unknown format.");if(Ci(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Ci(r));I=new bo().parse(r)}const n=new Ni(this.manager).setPath(this.resourcePath||e).setCrossOrigin(this.crossOrigin);return new Mo(n,this.manager).parse(I)}}class Mo{constructor(t,e){this.textureLoader=t,this.manager=e}parse(){K=this.parseConnections();const t=this.parseImages(),e=this.parseTextures(t),n=this.parseMaterials(e),r=this.parseDeformers(),i=new Fo().parse(r);return this.parseScene(r,i,n),ut}parseConnections(){const t=new Map;return"Connections"in I&&I.Connections.connections.forEach(function(n){const r=n[0],i=n[1],a=n[2];t.has(r)||t.set(r,{parents:[],children:[]});const o={ID:i,relationship:a};t.get(r).parents.push(o),t.has(i)||t.set(i,{parents:[],children:[]});const l={ID:r,relationship:a};t.get(i).children.push(l)}),t}parseImages(){const t={},e={};if("Video"in I.Objects){const n=I.Objects.Video;for(const r in n){const i=n[r],a=parseInt(r);if(t[a]=i.RelativeFilename||i.Filename,"Content"in i){const o=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,l=typeof i.Content=="string"&&i.Content!=="";if(o||l){const u=this.parseImage(n[r]);e[i.RelativeFilename||i.Filename]=u}}}}for(const n in t){const r=t[n];e[r]!==void 0?t[n]=e[r]:t[n]=t[n].split("\\").pop()}return t}parseImage(t){const e=t.Content,n=t.RelativeFilename||t.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let i;switch(r){case"bmp":i="image/bmp";break;case"jpg":case"jpeg":i="image/jpeg";break;case"png":i="image/png";break;case"tif":i="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",n),i="image/tga";break;default:console.warn('FBXLoader: Image type "'+r+'" is not supported.');return}if(typeof e=="string")return"data:"+i+";base64,"+e;{const a=new Uint8Array(e);return window.URL.createObjectURL(new Blob([a],{type:i}))}}parseTextures(t){const e=new Map;if("Texture"in I.Objects){const n=I.Objects.Texture;for(const r in n){const i=this.parseTexture(n[r],t);e.set(parseInt(r),i)}}return e}parseTexture(t,e){const n=this.loadTexture(t,e);n.ID=t.id,n.name=t.attrName;const r=t.WrapModeU,i=t.WrapModeV,a=r!==void 0?r.value:0,o=i!==void 0?i.value:0;if(n.wrapS=a===0?ci:pi,n.wrapT=o===0?ci:pi,"Scaling"in t){const l=t.Scaling.value;n.repeat.x=l[0],n.repeat.y=l[1]}if("Translation"in t){const l=t.Translation.value;n.offset.x=l[0],n.offset.y=l[1]}return n}loadTexture(t,e){let n;const r=this.textureLoader.path,i=K.get(t.id).children;i!==void 0&&i.length>0&&e[i[0].ID]!==void 0&&(n=e[i[0].ID],(n.indexOf("blob:")===0||n.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let a;const o=t.FileName.slice(-3).toLowerCase();if(o==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",t.RelativeFilename),a=new di):(l.setPath(this.textureLoader.path),a=l.load(n))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",t.RelativeFilename),a=new di):a=this.textureLoader.load(n);return this.textureLoader.setPath(r),a}parseMaterials(t){const e=new Map;if("Material"in I.Objects){const n=I.Objects.Material;for(const r in n){const i=this.parseMaterial(n[r],t);i!==null&&e.set(parseInt(r),i)}}return e}parseMaterial(t,e){const n=t.id,r=t.attrName;let i=t.ShadingModel;if(typeof i=="object"&&(i=i.value),!K.has(n))return null;const a=this.parseParameters(t,e,n);let o;switch(i.toLowerCase()){case"phong":o=new $n;break;case"lambert":o=new Ea;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',i),o=new $n;break}return o.setValues(a),o.name=r,o}parseParameters(t,e,n){const r={};t.BumpFactor&&(r.bumpScale=t.BumpFactor.value),t.Diffuse?r.color=new Ht().fromArray(t.Diffuse.value):t.DiffuseColor&&(t.DiffuseColor.type==="Color"||t.DiffuseColor.type==="ColorRGB")&&(r.color=new Ht().fromArray(t.DiffuseColor.value)),t.DisplacementFactor&&(r.displacementScale=t.DisplacementFactor.value),t.Emissive?r.emissive=new Ht().fromArray(t.Emissive.value):t.EmissiveColor&&(t.EmissiveColor.type==="Color"||t.EmissiveColor.type==="ColorRGB")&&(r.emissive=new Ht().fromArray(t.EmissiveColor.value)),t.EmissiveFactor&&(r.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),t.Opacity&&(r.opacity=parseFloat(t.Opacity.value)),r.opacity<1&&(r.transparent=!0),t.ReflectionFactor&&(r.reflectivity=t.ReflectionFactor.value),t.Shininess&&(r.shininess=t.Shininess.value),t.Specular?r.specular=new Ht().fromArray(t.Specular.value):t.SpecularColor&&t.SpecularColor.type==="Color"&&(r.specular=new Ht().fromArray(t.SpecularColor.value));const i=this;return K.get(n).children.forEach(function(a){const o=a.relationship;switch(o){case"Bump":r.bumpMap=i.getTexture(e,a.ID);break;case"Maya|TEX_ao_map":r.aoMap=i.getTexture(e,a.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=i.getTexture(e,a.ID),r.map!==void 0&&(r.map.encoding=Ze);break;case"DisplacementColor":r.displacementMap=i.getTexture(e,a.ID);break;case"EmissiveColor":r.emissiveMap=i.getTexture(e,a.ID),r.emissiveMap!==void 0&&(r.emissiveMap.encoding=Ze);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=i.getTexture(e,a.ID);break;case"ReflectionColor":r.envMap=i.getTexture(e,a.ID),r.envMap!==void 0&&(r.envMap.mapping=Ia,r.envMap.encoding=Ze);break;case"SpecularColor":r.specularMap=i.getTexture(e,a.ID),r.specularMap!==void 0&&(r.specularMap.encoding=Ze);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=i.getTexture(e,a.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),r}getTexture(t,e){return"LayeredTexture"in I.Objects&&e in I.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),e=K.get(e).children[0].ID),t.get(e)}parseDeformers(){const t={},e={};if("Deformer"in I.Objects){const n=I.Objects.Deformer;for(const r in n){const i=n[r],a=K.get(parseInt(r));if(i.attrType==="Skin"){const o=this.parseSkeleton(a,n);o.ID=r,a.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=a.parents[0].ID,t[r]=o}else if(i.attrType==="BlendShape"){const o={id:r};o.rawTargets=this.parseMorphTargets(a,n),o.id=r,a.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),e[r]=o}}}return{skeletons:t,morphTargets:e}}parseSkeleton(t,e){const n=[];return t.children.forEach(function(r){const i=e[r.ID];if(i.attrType!=="Cluster")return;const a={ID:r.ID,indices:[],weights:[],transformLink:new Z().fromArray(i.TransformLink.a)};"Indexes"in i&&(a.indices=i.Indexes.a,a.weights=i.Weights.a),n.push(a)}),{rawBones:n,bones:[]}}parseMorphTargets(t,e){const n=[];for(let r=0;r<t.children.length;r++){const i=t.children[r],a=e[i.ID],o={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if(a.attrType!=="BlendShapeChannel")return;o.geoID=K.get(parseInt(i.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,n.push(o)}return n}parseScene(t,e,n){ut=new _i;const r=this.parseModels(t.skeletons,e,n),i=I.Objects.Model,a=this;r.forEach(function(l){const u=i[l.ID];a.setLookAtProperties(l,u),K.get(l.ID).parents.forEach(function(h){const c=r.get(h.ID);c!==void 0&&c.add(l)}),l.parent===null&&ut.add(l)}),this.bindSkeleton(t.skeletons,e,r),this.createAmbientLight(),ut.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const u=Cs(l.userData.transformData);l.applyMatrix4(u),l.updateWorldMatrix()}});const o=new Oo().parse();ut.children.length===1&&ut.children[0].isGroup&&(ut.children[0].animations=o,ut=ut.children[0]),ut.animations=o}parseModels(t,e,n){const r=new Map,i=I.Objects.Model;for(const a in i){const o=parseInt(a),l=i[a],u=K.get(o);let f=this.buildSkeleton(u,t,o,l.attrName);if(!f){switch(l.attrType){case"Camera":f=this.createCamera(u);break;case"Light":f=this.createLight(u);break;case"Mesh":f=this.createMesh(u,e,n);break;case"NurbsCurve":f=this.createCurve(u,e);break;case"LimbNode":case"Root":f=new mi;break;case"Null":default:f=new _i;break}f.name=l.attrName?Fn.sanitizeNodeName(l.attrName):"",f.ID=o}this.getTransformData(f,l),r.set(o,f)}return r}buildSkeleton(t,e,n,r){let i=null;return t.parents.forEach(function(a){for(const o in e){const l=e[o];l.rawBones.forEach(function(u,f){if(u.ID===a.ID){const h=i;i=new mi,i.matrixWorld.copy(u.transformLink),i.name=r?Fn.sanitizeNodeName(r):"",i.ID=n,l.bones[f]=i,h!==null&&i.add(h)}})}}),i}createCamera(t){let e,n;if(t.children.forEach(function(r){const i=I.Objects.NodeAttribute[r.ID];i!==void 0&&(n=i)}),n===void 0)e=new Qn;else{let r=0;n.CameraProjectionType!==void 0&&n.CameraProjectionType.value===1&&(r=1);let i=1;n.NearPlane!==void 0&&(i=n.NearPlane.value/1e3);let a=1e3;n.FarPlane!==void 0&&(a=n.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;n.AspectWidth!==void 0&&n.AspectHeight!==void 0&&(o=n.AspectWidth.value,l=n.AspectHeight.value);const u=o/l;let f=45;n.FieldOfView!==void 0&&(f=n.FieldOfView.value);const h=n.FocalLength?n.FocalLength.value:null;switch(r){case 0:e=new Ra(f,u,i,a),h!==null&&e.setFocalLength(h);break;case 1:e=new La(-o/2,o/2,l/2,-l/2,i,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),e=new Qn;break}}return e}createLight(t){let e,n;if(t.children.forEach(function(r){const i=I.Objects.NodeAttribute[r.ID];i!==void 0&&(n=i)}),n===void 0)e=new Qn;else{let r;n.LightType===void 0?r=0:r=n.LightType.value;let i=16777215;n.Color!==void 0&&(i=new Ht().fromArray(n.Color.value));let a=n.Intensity===void 0?1:n.Intensity.value/100;n.CastLightOnObject!==void 0&&n.CastLightOnObject.value===0&&(a=0);let o=0;n.FarAttenuationEnd!==void 0&&(n.EnableFarAttenuation!==void 0&&n.EnableFarAttenuation.value===0?o=0:o=n.FarAttenuationEnd.value);const l=1;switch(r){case 0:e=new gi(i,a,o,l);break;case 1:e=new Ba(i,a);break;case 2:let u=Math.PI/3;n.InnerAngle!==void 0&&(u=Lt.degToRad(n.InnerAngle.value));let f=0;n.OuterAngle!==void 0&&(f=Lt.degToRad(n.OuterAngle.value),f=Math.max(f,1)),e=new za(i,a,o,u,f,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),e=new gi(i,a);break}n.CastShadows!==void 0&&n.CastShadows.value===1&&(e.castShadow=!0)}return e}createMesh(t,e,n){let r,i=null,a=null;const o=[];return t.children.forEach(function(l){e.has(l.ID)&&(i=e.get(l.ID)),n.has(l.ID)&&o.push(n.get(l.ID))}),o.length>1?a=o:o.length>0?a=o[0]:(a=new $n({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach(function(l){l.vertexColors=!0}),i.FBX_Deformer?(r=new Ua(i,a),r.normalizeSkinWeights()):r=new Va(i,a),r}createCurve(t,e){const n=t.children.reduce(function(i,a){return e.has(a.ID)&&(i=e.get(a.ID)),i},null),r=new Xa({color:3342591,linewidth:1});return new Ga(n,r)}getTransformData(t,e){const n={};"InheritType"in e&&(n.inheritType=parseInt(e.InheritType.value)),"RotationOrder"in e?n.eulerOrder=As(e.RotationOrder.value):n.eulerOrder="ZYX","Lcl_Translation"in e&&(n.translation=e.Lcl_Translation.value),"PreRotation"in e&&(n.preRotation=e.PreRotation.value),"Lcl_Rotation"in e&&(n.rotation=e.Lcl_Rotation.value),"PostRotation"in e&&(n.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(n.scale=e.Lcl_Scaling.value),"ScalingOffset"in e&&(n.scalingOffset=e.ScalingOffset.value),"ScalingPivot"in e&&(n.scalingPivot=e.ScalingPivot.value),"RotationOffset"in e&&(n.rotationOffset=e.RotationOffset.value),"RotationPivot"in e&&(n.rotationPivot=e.RotationPivot.value),t.userData.transformData=n}setLookAtProperties(t,e){"LookAtProperty"in e&&K.get(t.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const i=I.Objects.Model[r.ID];if("Lcl_Translation"in i){const a=i.Lcl_Translation.value;t.target!==void 0?(t.target.position.fromArray(a),ut.add(t.target)):t.lookAt(new re().fromArray(a))}}})}bindSkeleton(t,e,n){const r=this.parsePoseNodes();for(const i in t){const a=t[i];K.get(parseInt(a.ID)).parents.forEach(function(l){if(e.has(l.ID)){const u=l.ID;K.get(u).parents.forEach(function(h){n.has(h.ID)&&n.get(h.ID).bind(new ja(a.bones),r[h.ID])})}})}}parsePoseNodes(){const t={};if("Pose"in I.Objects){const e=I.Objects.Pose;for(const n in e)if(e[n].attrType==="BindPose"&&e[n].NbPoseNodes>0){const r=e[n].PoseNode;Array.isArray(r)?r.forEach(function(i){t[i.Node]=new Z().fromArray(i.Matrix.a)}):t[r.Node]=new Z().fromArray(r.Matrix.a)}}return t}createAmbientLight(){if("GlobalSettings"in I&&"AmbientColor"in I.GlobalSettings){const t=I.GlobalSettings.AmbientColor.value,e=t[0],n=t[1],r=t[2];if(e!==0||n!==0||r!==0){const i=new Ht(e,n,r);ut.add(new Na(i,1))}}}}class Fo{constructor(){this.negativeMaterialIndices=!1}parse(t){const e=new Map;if("Geometry"in I.Objects){const n=I.Objects.Geometry;for(const r in n){const i=K.get(parseInt(r)),a=this.parseGeometry(i,n[r],t);e.set(parseInt(r),a)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),e}parseGeometry(t,e,n){switch(e.attrType){case"Mesh":return this.parseMeshGeometry(t,e,n);case"NurbsCurve":return this.parseNurbsGeometry(e)}}parseMeshGeometry(t,e,n){const r=n.skeletons,i=[],a=t.parents.map(function(h){return I.Objects.Model[h.ID]});if(a.length===0)return;const o=t.children.reduce(function(h,c){return r[c.ID]!==void 0&&(h=r[c.ID]),h},null);t.children.forEach(function(h){n.morphTargets[h.ID]!==void 0&&i.push(n.morphTargets[h.ID])});const l=a[0],u={};"RotationOrder"in l&&(u.eulerOrder=As(l.RotationOrder.value)),"InheritType"in l&&(u.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(u.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(u.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(u.scale=l.GeometricScaling.value);const f=Cs(u);return this.genGeometry(e,o,i,f)}genGeometry(t,e,n,r){const i=new yn;t.attrName&&(i.name=t.attrName);const a=this.parseGeoNode(t,e),o=this.genBuffers(a),l=new we(o.vertex,3);if(l.applyMatrix4(r),i.setAttribute("position",l),o.colors.length>0&&i.setAttribute("color",new we(o.colors,3)),e&&(i.setAttribute("skinIndex",new Ya(o.weightsIndices,4)),i.setAttribute("skinWeight",new we(o.vertexWeights,4)),i.FBX_Deformer=e),o.normal.length>0){const u=new Wa().getNormalMatrix(r),f=new we(o.normal,3);f.applyNormalMatrix(u),i.setAttribute("normal",f)}if(o.uvs.forEach(function(u,f){let h="uv"+(f+1).toString();f===0&&(h="uv"),i.setAttribute(h,new we(o.uvs[f],2))}),a.material&&a.material.mappingType!=="AllSame"){let u=o.materialIndex[0],f=0;if(o.materialIndex.forEach(function(h,c){h!==u&&(i.addGroup(f,c-f,u),u=h,f=c)}),i.groups.length>0){const h=i.groups[i.groups.length-1],c=h.start+h.count;c!==o.materialIndex.length&&i.addGroup(c,o.materialIndex.length-c,u)}i.groups.length===0&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,t,n,r),i}parseGeoNode(t,e){const n={};if(n.vertexPositions=t.Vertices!==void 0?t.Vertices.a:[],n.vertexIndices=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(n.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(n.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(n.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){n.uv=[];let r=0;for(;t.LayerElementUV[r];)t.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(t.LayerElementUV[r])),r++}return n.weightTable={},e!==null&&(n.skeleton=e,e.rawBones.forEach(function(r,i){r.indices.forEach(function(a,o){n.weightTable[a]===void 0&&(n.weightTable[a]=[]),n.weightTable[a].push({id:i,weight:r.weights[o]})})})),n}genBuffers(t){const e={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,i=!1,a=[],o=[],l=[],u=[],f=[],h=[];const c=this;return t.vertexIndices.forEach(function(d,_){let p,m=!1;d<0&&(d=d^-1,m=!0);let y=[],v=[];if(a.push(d*3,d*3+1,d*3+2),t.color){const g=Tn(_,n,d,t.color);l.push(g[0],g[1],g[2])}if(t.skeleton){if(t.weightTable[d]!==void 0&&t.weightTable[d].forEach(function(g){v.push(g.weight),y.push(g.id)}),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);const g=[0,0,0,0],x=[0,0,0,0];v.forEach(function(T,S){let P=T,w=y[S];x.forEach(function(k,C,F){if(P>k){F[C]=P,P=k;const A=g[C];g[C]=w,w=A}})}),y=g,v=x}for(;v.length<4;)v.push(0),y.push(0);for(let g=0;g<4;++g)f.push(v[g]),h.push(y[g])}if(t.normal){const g=Tn(_,n,d,t.normal);o.push(g[0],g[1],g[2])}t.material&&t.material.mappingType!=="AllSame"&&(p=Tn(_,n,d,t.material)[0],p<0&&(c.negativeMaterialIndices=!0,p=0)),t.uv&&t.uv.forEach(function(g,x){const T=Tn(_,n,d,g);u[x]===void 0&&(u[x]=[]),u[x].push(T[0]),u[x].push(T[1])}),r++,m&&(c.genFace(e,t,a,p,o,l,u,f,h,r),n++,r=0,a=[],o=[],l=[],u=[],f=[],h=[])}),e}genFace(t,e,n,r,i,a,o,l,u,f){for(let h=2;h<f;h++)t.vertex.push(e.vertexPositions[n[0]]),t.vertex.push(e.vertexPositions[n[1]]),t.vertex.push(e.vertexPositions[n[2]]),t.vertex.push(e.vertexPositions[n[(h-1)*3]]),t.vertex.push(e.vertexPositions[n[(h-1)*3+1]]),t.vertex.push(e.vertexPositions[n[(h-1)*3+2]]),t.vertex.push(e.vertexPositions[n[h*3]]),t.vertex.push(e.vertexPositions[n[h*3+1]]),t.vertex.push(e.vertexPositions[n[h*3+2]]),e.skeleton&&(t.vertexWeights.push(l[0]),t.vertexWeights.push(l[1]),t.vertexWeights.push(l[2]),t.vertexWeights.push(l[3]),t.vertexWeights.push(l[(h-1)*4]),t.vertexWeights.push(l[(h-1)*4+1]),t.vertexWeights.push(l[(h-1)*4+2]),t.vertexWeights.push(l[(h-1)*4+3]),t.vertexWeights.push(l[h*4]),t.vertexWeights.push(l[h*4+1]),t.vertexWeights.push(l[h*4+2]),t.vertexWeights.push(l[h*4+3]),t.weightsIndices.push(u[0]),t.weightsIndices.push(u[1]),t.weightsIndices.push(u[2]),t.weightsIndices.push(u[3]),t.weightsIndices.push(u[(h-1)*4]),t.weightsIndices.push(u[(h-1)*4+1]),t.weightsIndices.push(u[(h-1)*4+2]),t.weightsIndices.push(u[(h-1)*4+3]),t.weightsIndices.push(u[h*4]),t.weightsIndices.push(u[h*4+1]),t.weightsIndices.push(u[h*4+2]),t.weightsIndices.push(u[h*4+3])),e.color&&(t.colors.push(a[0]),t.colors.push(a[1]),t.colors.push(a[2]),t.colors.push(a[(h-1)*3]),t.colors.push(a[(h-1)*3+1]),t.colors.push(a[(h-1)*3+2]),t.colors.push(a[h*3]),t.colors.push(a[h*3+1]),t.colors.push(a[h*3+2])),e.material&&e.material.mappingType!=="AllSame"&&(t.materialIndex.push(r),t.materialIndex.push(r),t.materialIndex.push(r)),e.normal&&(t.normal.push(i[0]),t.normal.push(i[1]),t.normal.push(i[2]),t.normal.push(i[(h-1)*3]),t.normal.push(i[(h-1)*3+1]),t.normal.push(i[(h-1)*3+2]),t.normal.push(i[h*3]),t.normal.push(i[h*3+1]),t.normal.push(i[h*3+2])),e.uv&&e.uv.forEach(function(c,d){t.uvs[d]===void 0&&(t.uvs[d]=[]),t.uvs[d].push(o[d][0]),t.uvs[d].push(o[d][1]),t.uvs[d].push(o[d][(h-1)*2]),t.uvs[d].push(o[d][(h-1)*2+1]),t.uvs[d].push(o[d][h*2]),t.uvs[d].push(o[d][h*2+1])})}addMorphTargets(t,e,n,r){if(n.length===0)return;t.morphTargetsRelative=!0,t.morphAttributes.position=[];const i=this;n.forEach(function(a){a.rawTargets.forEach(function(o){const l=I.Objects.Geometry[o.geoID];l!==void 0&&i.genMorphGeometry(t,e,l,r,o.name)})})}genMorphGeometry(t,e,n,r,i){const a=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],o=n.Vertices!==void 0?n.Vertices.a:[],l=n.Indexes!==void 0?n.Indexes.a:[],u=t.attributes.position.count*3,f=new Float32Array(u);for(let _=0;_<l.length;_++){const p=l[_]*3;f[p]=o[_*3],f[p+1]=o[_*3+1],f[p+2]=o[_*3+2]}const h={vertexIndices:a,vertexPositions:f},c=this.genBuffers(h),d=new we(c.vertex,3);d.name=i||n.attrName,d.applyMatrix4(r),t.morphAttributes.position.push(d)}parseNormals(t){const e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Normals.a;let i=[];return n==="IndexToDirect"&&("NormalIndex"in t?i=t.NormalIndex.a:"NormalsIndex"in t&&(i=t.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:e,referenceType:n}}parseUVs(t){const e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.UV.a;let i=[];return n==="IndexToDirect"&&(i=t.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:e,referenceType:n}}parseVertexColors(t){const e=t.MappingInformationType,n=t.ReferenceInformationType,r=t.Colors.a;let i=[];return n==="IndexToDirect"&&(i=t.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:e,referenceType:n}}parseMaterialIndices(t){const e=t.MappingInformationType,n=t.ReferenceInformationType;if(e==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=t.Materials.a,i=[];for(let a=0;a<r.length;++a)i.push(a);return{dataSize:1,buffer:r,indices:i,mappingType:e,referenceType:n}}parseNurbsGeometry(t){if(Si===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new yn;const e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new yn;const n=e-1,r=t.KnotVector.a,i=[],a=t.Points.a;for(let h=0,c=a.length;h<c;h+=4)i.push(new Wn().fromArray(a,h));let o,l;if(t.Form==="Closed")i.push(i[0]);else if(t.Form==="Periodic"){o=n,l=r.length-1-o;for(let h=0;h<n;++h)i.push(i[h])}const f=new Si(n,r,i,o,l).getPoints(i.length*12);return new yn().setFromPoints(f)}}class Oo{parse(){const t=[],e=this.parseClips();if(e!==void 0)for(const n in e){const r=e[n],i=this.addClip(r);t.push(i)}return t}parseClips(){if(I.Objects.AnimationCurve===void 0)return;const t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);const e=this.parseAnimationLayers(t);return this.parseAnimStacks(e)}parseAnimationCurveNodes(){const t=I.Objects.AnimationCurveNode,e=new Map;for(const n in t){const r=t[n];if(r.attrName.match(/S|R|T|DeformPercent/)!==null){const i={id:r.id,attr:r.attrName,curves:{}};e.set(i.id,i)}}return e}parseAnimationCurves(t){const e=I.Objects.AnimationCurve;for(const n in e){const r={id:e[n].id,times:e[n].KeyTime.a.map(Ro),values:e[n].KeyValueFloat.a},i=K.get(r.id);if(i!==void 0){const a=i.parents[0].ID,o=i.parents[0].relationship;o.match(/X/)?t.get(a).curves.x=r:o.match(/Y/)?t.get(a).curves.y=r:o.match(/Z/)?t.get(a).curves.z=r:o.match(/d|DeformPercent/)&&t.has(a)&&(t.get(a).curves.morph=r)}}}parseAnimationLayers(t){const e=I.Objects.AnimationLayer,n=new Map;for(const r in e){const i=[],a=K.get(parseInt(r));a!==void 0&&(a.children.forEach(function(l,u){if(t.has(l.ID)){const f=t.get(l.ID);if(f.curves.x!==void 0||f.curves.y!==void 0||f.curves.z!==void 0){if(i[u]===void 0){const h=K.get(l.ID).parents.filter(function(c){return c.relationship!==void 0})[0].ID;if(h!==void 0){const c=I.Objects.Model[h.toString()];if(c===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const d={modelName:c.attrName?Fn.sanitizeNodeName(c.attrName):"",ID:c.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};ut.traverse(function(_){_.ID===c.id&&(d.transform=_.matrix,_.userData.transformData&&(d.eulerOrder=_.userData.transformData.eulerOrder))}),d.transform||(d.transform=new Z),"PreRotation"in c&&(d.preRotation=c.PreRotation.value),"PostRotation"in c&&(d.postRotation=c.PostRotation.value),i[u]=d}}i[u]&&(i[u][f.attr]=f)}else if(f.curves.morph!==void 0){if(i[u]===void 0){const h=K.get(l.ID).parents.filter(function(y){return y.relationship!==void 0})[0].ID,c=K.get(h).parents[0].ID,d=K.get(c).parents[0].ID,_=K.get(d).parents[0].ID,p=I.Objects.Model[_],m={modelName:p.attrName?Fn.sanitizeNodeName(p.attrName):"",morphName:I.Objects.Deformer[h].attrName};i[u]=m}i[u][f.attr]=f}}}),n.set(parseInt(r),i))}return n}parseAnimStacks(t){const e=I.Objects.AnimationStack,n={};for(const r in e){const i=K.get(parseInt(r)).children;i.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const a=t.get(i[0].ID);n[r]={name:e[r].attrName,layer:a}}return n}addClip(t){let e=[];const n=this;return t.layer.forEach(function(r){e=e.concat(n.generateTracks(r))}),new qa(t.name,-1,e)}generateTracks(t){const e=[];let n=new re,r=new wn,i=new re;if(t.transform&&t.transform.decompose(n,r,i),n=n.toArray(),r=new Kt().setFromQuaternion(r,t.eulerOrder).toArray(),i=i.toArray(),t.T!==void 0&&Object.keys(t.T.curves).length>0){const a=this.generateVectorTrack(t.modelName,t.T.curves,n,"position");a!==void 0&&e.push(a)}if(t.R!==void 0&&Object.keys(t.R.curves).length>0){const a=this.generateRotationTrack(t.modelName,t.R.curves,r,t.preRotation,t.postRotation,t.eulerOrder);a!==void 0&&e.push(a)}if(t.S!==void 0&&Object.keys(t.S.curves).length>0){const a=this.generateVectorTrack(t.modelName,t.S.curves,i,"scale");a!==void 0&&e.push(a)}if(t.DeformPercent!==void 0){const a=this.generateMorphTrack(t);a!==void 0&&e.push(a)}return e}generateVectorTrack(t,e,n,r){const i=this.getTimesForAllAxes(e),a=this.getKeyframeTrackValues(i,e,n);return new Ha(t+"."+r,i,a)}generateRotationTrack(t,e,n,r,i,a){e.x!==void 0&&(this.interpolateRotations(e.x),e.x.values=e.x.values.map(Lt.degToRad)),e.y!==void 0&&(this.interpolateRotations(e.y),e.y.values=e.y.values.map(Lt.degToRad)),e.z!==void 0&&(this.interpolateRotations(e.z),e.z.values=e.z.values.map(Lt.degToRad));const o=this.getTimesForAllAxes(e),l=this.getKeyframeTrackValues(o,e,n);r!==void 0&&(r=r.map(Lt.degToRad),r.push(a),r=new Kt().fromArray(r),r=new wn().setFromEuler(r)),i!==void 0&&(i=i.map(Lt.degToRad),i.push(a),i=new Kt().fromArray(i),i=new wn().setFromEuler(i).invert());const u=new wn,f=new Kt,h=[];for(let c=0;c<l.length;c+=3)f.set(l[c],l[c+1],l[c+2],a),u.setFromEuler(f),r!==void 0&&u.premultiply(r),i!==void 0&&u.multiply(i),u.toArray(h,c/3*4);return new Za(t+".quaternion",o,h)}generateMorphTrack(t){const e=t.DeformPercent.curves.morph,n=e.values.map(function(i){return i/100}),r=ut.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new Ka(t.modelName+".morphTargetInfluences["+r+"]",e.times,n)}getTimesForAllAxes(t){let e=[];if(t.x!==void 0&&(e=e.concat(t.x.times)),t.y!==void 0&&(e=e.concat(t.y.times)),t.z!==void 0&&(e=e.concat(t.z.times)),e=e.sort(function(n,r){return n-r}),e.length>1){let n=1,r=e[0];for(let i=1;i<e.length;i++){const a=e[i];a!==r&&(e[n]=a,r=a,n++)}e=e.slice(0,n)}return e}getKeyframeTrackValues(t,e,n){const r=n,i=[];let a=-1,o=-1,l=-1;return t.forEach(function(u){if(e.x&&(a=e.x.times.indexOf(u)),e.y&&(o=e.y.times.indexOf(u)),e.z&&(l=e.z.times.indexOf(u)),a!==-1){const f=e.x.values[a];i.push(f),r[0]=f}else i.push(r[0]);if(o!==-1){const f=e.y.values[o];i.push(f),r[1]=f}else i.push(r[1]);if(l!==-1){const f=e.z.values[l];i.push(f),r[2]=f}else i.push(r[2])}),i}interpolateRotations(t){for(let e=1;e<t.values.length;e++){const n=t.values[e-1],r=t.values[e]-n,i=Math.abs(r);if(i>=180){const a=i/180,o=r/a;let l=n+o;const u=t.times[e-1],h=(t.times[e]-u)/a;let c=u+h;const d=[],_=[];for(;c<t.times[e];)d.push(c),c+=h,_.push(l),l+=o;t.times=Ai(t.times,e,d),t.values=Ai(t.values,e,_)}}}}class bo{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(t){this.nodeStack.push(t),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(t,e){this.currentProp=t,this.currentPropName=e}parse(t){this.currentIndent=0,this.allNodes=new ks,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const e=this,n=t.split(/[\r\n]+/);return n.forEach(function(r,i){const a=r.match(/^[\s\t]*;/),o=r.match(/^[\s\t]*$/);if(a||o)return;const l=r.match("^\\t{"+e.currentIndent+"}(\\w+):(.*){",""),u=r.match("^\\t{"+e.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),f=r.match("^\\t{"+(e.currentIndent-1)+"}}");l?e.parseNodeBegin(r,l):u?e.parseNodeProperty(r,u,n[++i]):f?e.popStack():r.match(/^[^\s\t}]/)&&e.parseNodePropertyContinued(r)}),this.allNodes}parseNodeBegin(t,e){const n=e[1].trim().replace(/^"/,"").replace(/"$/,""),r=e[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),i={name:n},a=this.parseNodeAttr(r),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(n,i):n in o?(n==="PoseNode"?o.PoseNode.push(i):o[n].id!==void 0&&(o[n]={},o[n][o[n].id]=o[n]),a.id!==""&&(o[n][a.id]=i)):typeof a.id=="number"?(o[n]={},o[n][a.id]=i):n!=="Properties70"&&(n==="PoseNode"?o[n]=[i]:o[n]=i),typeof a.id=="number"&&(i.id=a.id),a.name!==""&&(i.attrName=a.name),a.type!==""&&(i.attrType=a.type),this.pushStack(i)}parseNodeAttr(t){let e=t[0];t[0]!==""&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));let n="",r="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),r=t[2]),{id:e,name:n,type:r}}parseNodeProperty(t,e,n){let r=e[1].replace(/^"/,"").replace(/"$/,"").trim(),i=e[2].replace(/^"/,"").replace(/"$/,"").trim();r==="Content"&&i===","&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());const a=this.getCurrentNode();if(a.name==="Properties70"){this.parseNodeSpecialProperty(t,r,i);return}if(r==="C"){const l=i.split(",").slice(1),u=parseInt(l[0]),f=parseInt(l[1]);let h=i.split(",").slice(3);h=h.map(function(c){return c.trim().replace(/^"/,"")}),r="connections",i=[u,f],Bo(i,h),a[r]===void 0&&(a[r]=[])}r==="Node"&&(a.id=i),r in a&&Array.isArray(a[r])?a[r].push(i):r!=="a"?a[r]=i:a.a=i,this.setCurrentProp(a,r),r==="a"&&i.slice(-1)!==","&&(a.a=er(i))}parseNodePropertyContinued(t){const e=this.getCurrentNode();e.a+=t,t.slice(-1)!==","&&(e.a=er(e.a))}parseNodeSpecialProperty(t,e,n){const r=n.split('",').map(function(f){return f.trim().replace(/^\"/,"").replace(/\s/,"_")}),i=r[0],a=r[1],o=r[2],l=r[3];let u=r[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=er(u);break}this.getPrevNode()[i]={type:a,type2:o,flag:l,value:u},this.setCurrentProp(this.getPrevNode(),i)}}class Eo{parse(t){const e=new ki(t);e.skip(23);const n=e.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new ks;for(;!this.endOfContent(e);){const i=this.parseNode(e,n);i!==null&&r.add(i.name,i)}return r}endOfContent(t){return t.size()%16===0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()}parseNode(t,e){const n={},r=e>=7500?t.getUint64():t.getUint32(),i=e>=7500?t.getUint64():t.getUint32();e>=7500?t.getUint64():t.getUint32();const a=t.getUint8(),o=t.getString(a);if(r===0)return null;const l=[];for(let c=0;c<i;c++)l.push(this.parseProperty(t));const u=l.length>0?l[0]:"",f=l.length>1?l[1]:"",h=l.length>2?l[2]:"";for(n.singleProperty=i===1&&t.getOffset()===r;r>t.getOffset();){const c=this.parseNode(t,e);c!==null&&this.parseSubNode(o,n,c)}return n.propertyList=l,typeof u=="number"&&(n.id=u),f!==""&&(n.attrName=f),h!==""&&(n.attrType=h),o!==""&&(n.name=o),n}parseSubNode(t,e,n){if(n.singleProperty===!0){const r=n.propertyList[0];Array.isArray(r)?(e[n.name]=n,n.a=r):e[n.name]=r}else if(t==="Connections"&&n.name==="C"){const r=[];n.propertyList.forEach(function(i,a){a!==0&&r.push(i)}),e.connections===void 0&&(e.connections=[]),e.connections.push(r)}else if(n.name==="Properties70")Object.keys(n).forEach(function(i){e[i]=n[i]});else if(t==="Properties70"&&n.name==="P"){let r=n.propertyList[0],i=n.propertyList[1];const a=n.propertyList[2],o=n.propertyList[3];let l;r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),i==="Color"||i==="ColorRGB"||i==="Vector"||i==="Vector3D"||i.indexOf("Lcl_")===0?l=[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:l=n.propertyList[4],e[r]={type:i,type2:a,flag:o,value:l}}else e[n.name]===void 0?typeof n.id=="number"?(e[n.name]={},e[n.name][n.id]=n):e[n.name]=n:n.name==="PoseNode"?(Array.isArray(e[n.name])||(e[n.name]=[e[n.name]]),e[n.name].push(n)):e[n.name][n.id]===void 0&&(e[n.name][n.id]=n)}parseProperty(t){const e=t.getString(1);let n;switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":return n=t.getUint32(),t.getArrayBuffer(n);case"S":return n=t.getUint32(),t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=t.getUint32(),i=t.getUint32(),a=t.getUint32();if(i===0)switch(e){case"b":case"c":return t.getBooleanArray(r);case"d":return t.getFloat64Array(r);case"f":return t.getFloat32Array(r);case"i":return t.getInt32Array(r);case"l":return t.getInt64Array(r)}typeof wo>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=sn(new Uint8Array(t.getArrayBuffer(a))),l=new ki(o.buffer);switch(e){case"b":case"c":return l.getBooleanArray(r);case"d":return l.getFloat64Array(r);case"f":return l.getFloat32Array(r);case"i":return l.getInt32Array(r);case"l":return l.getInt64Array(r)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}}class ki{constructor(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(t){this.offset+=t}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(t){const e=[];for(let n=0;n<t;n++)e.push(this.getBoolean());return e}getUint8(){const t=this.dv.getUint8(this.offset);return this.offset+=1,t}getInt16(){const t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}getInt32(){const t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}getInt32Array(t){const e=[];for(let n=0;n<t;n++)e.push(this.getInt32());return e}getUint32(){const t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}getInt64(){let t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),e&2147483648?(e=~e&4294967295,t=~t&4294967295,t===4294967295&&(e=e+1&4294967295),t=t+1&4294967295,-(e*4294967296+t)):e*4294967296+t}getInt64Array(t){const e=[];for(let n=0;n<t;n++)e.push(this.getInt64());return e}getUint64(){let t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),e*4294967296+t}getFloat32(){const t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}getFloat32Array(t){const e=[];for(let n=0;n<t;n++)e.push(this.getFloat32());return e}getFloat64(){const t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}getFloat64Array(t){const e=[];for(let n=0;n<t;n++)e.push(this.getFloat64());return e}getArrayBuffer(t){const e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}getString(t){let e=[];for(let r=0;r<t;r++)e[r]=this.getUint8();const n=e.indexOf(0);return n>=0&&(e=e.slice(0,n)),Er.decodeText(new Uint8Array(e))}}class ks{add(t,e){this[t]=e}}function Io(s){const t="Kaydara FBX Binary  \0";return s.byteLength>=t.length&&t===Ds(s,0,t.length)}function Lo(s){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let e=0;function n(r){const i=s[r-1];return s=s.slice(e+r),e++,i}for(let r=0;r<t.length;++r)if(n(1)===t[r])return!1;return!0}function Ci(s){const t=/FBXVersion: (\d+)/,e=s.match(t);if(e)return parseInt(e[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Ro(s){return s/46186158e3}const zo=[];function Tn(s,t,e,n){let r;switch(n.mappingType){case"ByPolygonVertex":r=s;break;case"ByPolygon":r=t;break;case"ByVertice":r=e;break;case"AllSame":r=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}n.referenceType==="IndexToDirect"&&(r=n.indices[r]);const i=r*n.dataSize,a=i+n.dataSize;return Uo(zo,n.buffer,i,a)}const tr=new Kt,xe=new re;function Cs(s){const t=new Z,e=new Z,n=new Z,r=new Z,i=new Z,a=new Z,o=new Z,l=new Z,u=new Z,f=new Z,h=new Z,c=new Z,d=s.inheritType?s.inheritType:0;if(s.translation&&t.setPosition(xe.fromArray(s.translation)),s.preRotation){const C=s.preRotation.map(Lt.degToRad);C.push(s.eulerOrder||Kt.DefaultOrder),e.makeRotationFromEuler(tr.fromArray(C))}if(s.rotation){const C=s.rotation.map(Lt.degToRad);C.push(s.eulerOrder||Kt.DefaultOrder),n.makeRotationFromEuler(tr.fromArray(C))}if(s.postRotation){const C=s.postRotation.map(Lt.degToRad);C.push(s.eulerOrder||Kt.DefaultOrder),r.makeRotationFromEuler(tr.fromArray(C)),r.invert()}s.scale&&i.scale(xe.fromArray(s.scale)),s.scalingOffset&&o.setPosition(xe.fromArray(s.scalingOffset)),s.scalingPivot&&a.setPosition(xe.fromArray(s.scalingPivot)),s.rotationOffset&&l.setPosition(xe.fromArray(s.rotationOffset)),s.rotationPivot&&u.setPosition(xe.fromArray(s.rotationPivot)),s.parentMatrixWorld&&(h.copy(s.parentMatrix),f.copy(s.parentMatrixWorld));const _=e.clone().multiply(n).multiply(r),p=new Z;p.extractRotation(f);const m=new Z;m.copyPosition(f);const y=m.clone().invert().multiply(f),v=p.clone().invert().multiply(y),g=i,x=new Z;if(d===0)x.copy(p).multiply(_).multiply(v).multiply(g);else if(d===1)x.copy(p).multiply(v).multiply(_).multiply(g);else{const F=new Z().scale(new re().setFromMatrixScale(h)).clone().invert(),A=v.clone().multiply(F);x.copy(p).multiply(_).multiply(A).multiply(g)}const T=u.clone().invert(),S=a.clone().invert();let P=t.clone().multiply(l).multiply(u).multiply(e).multiply(n).multiply(r).multiply(T).multiply(o).multiply(a).multiply(i).multiply(S);const w=new Z().copyPosition(P),k=f.clone().multiply(w);return c.copyPosition(k),P=c.clone().multiply(x),P.premultiply(f.invert()),P}function As(s){s=s||0;const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return s===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[s]}function er(s){return s.split(",").map(function(e){return parseFloat(e)})}function Ds(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=s.byteLength),Er.decodeText(new Uint8Array(s,t,e))}function Bo(s,t){for(let e=0,n=s.length,r=t.length;e<r;e++,n++)s[n]=t[e]}function Uo(s,t,e,n){for(let r=e,i=0;r<n;r++,i++)s[i]=t[r];return s}function Ai(s,t,e){return s.slice(0,t).concat(e).concat(s.slice(t))}var Vo=(s=>(s.Texture="Texture",s.GLTF="GLTF",s.FBX="FBX",s.Video="Video",s))(Vo||{});class su{constructor(){Et(this,"resources");Et(this,"total");Et(this,"totalSuccess");Et(this,"totalFail");Et(this,"fileLoaded");Et(this,"loadEnd");Et(this,"gltfLoader");Et(this,"fbxLoader");Et(this,"textureLoader");this.resources={},this.total=0,this.totalSuccess=0,this.totalFail=0,this.fileLoaded=null,this.loadEnd=null;const t=new Qa;t.setDecoderPath("draco/");const e=new Ja;e.setDRACOLoader(t),this.gltfLoader=e;const n=new Do;this.fbxLoader=n;const r=new Ni;this.textureLoader=r}onFileLoaded(t){this.fileLoaded=t}onLoadEnd(t){this.loadEnd=t}load(t){this.total+=t.length;for(const e of t)e.type==="Video"?this.loadVideo(e):this.loadResource(e)}loadVideo(t){const e=t.name,n=t.path;try{const r=document.createElement("video");r.src=n,r.muted=!0,r.playsInline=!0,r.autoplay=!0,r.loop=!0,r.play();const i=new $a(r);i.magFilter=vi,i.magFilter=vi,i.generateMipmaps=!1,i.encoding=Ze,this.resources[e]=i,this.loadSuccess(t,i)}catch(r){this.loadFail(t,r)}}loadResource(t){const e=t.type;if(!e){console.warn("type is required");return}let n=this.textureLoader;switch(e){case"GLTF":n=this.gltfLoader;break;case"FBX":n=this.fbxLoader;break;case"Texture":n=this.textureLoader;break;default:n=this.textureLoader}n.load(t.path,r=>{this.loadSuccess(t,r)},void 0,r=>{this.loadFail(t,r)})}loadSuccess(t,e){this.totalSuccess++;const n=t.name;this.resources[n]=e,this.fileLoaded&&this.fileLoaded(n,e),this.total===this.totalSuccess+this.totalFail&&this.loadEnd&&this.loadEnd(this.resources)}loadFail(t,e){console.warn(`resource ${t.name} load fail`,e),this.totalFail++,this.total===this.totalSuccess+this.totalFail&&this.loadEnd()}}function Vt(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ms(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var yt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},be={duration:.5,overwrite:!1,delay:0},qr,ct,tt,kt=1e8,U=1/kt,vr=Math.PI*2,Xo=vr/4,Go=0,Fs=Math.sqrt,jo=Math.cos,No=Math.sin,it=function(t){return typeof t=="string"},q=function(t){return typeof t=="function"},Wt=function(t){return typeof t=="number"},Hr=function(t){return typeof t>"u"},Ut=function(t){return typeof t=="object"},pt=function(t){return t!==!1},Os=function(){return typeof window<"u"},Pn=function(t){return q(t)||it(t)},bs=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ot=Array.isArray,yr=/(?:-?\.?\d|\.)+/gi,Es=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ke=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Is=/[+-]=-?[.\d]+/,Ls=/[^,'"\[\]\s]+/gi,Yo=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,N,St,wr,Zr,wt={},Bn={},Rs,zs=function(t){return(Bn=me(t,wt))&&xt},Kr=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Un=function(t,e){return!e&&console.warn(t)},Bs=function(t,e){return t&&(wt[t]=e)&&Bn&&(Bn[t]=e)||wt},on=function(){return 0},Wo={suppressEvents:!0,isStart:!0,kill:!1},An={suppressEvents:!0,kill:!1},qo={suppressEvents:!0},$r={},ee=[],xr={},Us,gt={},rr={},Di=30,Dn=[],Qr="",Jr=function(t){var e=t[0],n,r;if(Ut(e)||q(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(r=Dn.length;r--&&!Dn[r].targetTest(e););n=Dn[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new oa(t[r],n)))||t.splice(r,1);return t},pe=function(t){return t._gsap||Jr(Ct(t))[0]._gsap},Vs=function(t,e,n){return(n=t[e])&&q(n)?t[e]():Hr(n)&&t.getAttribute&&t.getAttribute(e)||n},dt=function(t,e){return(t=t.split(",")).forEach(e)||t},$=function(t){return Math.round(t*1e5)/1e5||0},st=function(t){return Math.round(t*1e7)/1e7||0},Ae=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+r:n==="-"?t-r:n==="*"?t*r:t/r},Ho=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Vn=function(){var t=ee.length,e=ee.slice(0),n,r;for(xr={},ee.length=0,n=0;n<t;n++)r=e[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Xs=function(t,e,n,r){ee.length&&Vn(),t.render(e,n,r||ct&&e<0&&(t._initted||t._startAt)),ee.length&&Vn()},Gs=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(Ls).length<2?e:it(t)?t.trim():t},js=function(t){return t},Ot=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Zo=function(t){return function(e,n){for(var r in n)r in e||r==="duration"&&t||r==="ease"||(e[r]=n[r])}},me=function(t,e){for(var n in e)t[n]=e[n];return t},Mi=function s(t,e){for(var n in e)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=Ut(e[n])?s(t[n]||(t[n]={}),e[n]):e[n]);return t},Xn=function(t,e){var n={},r;for(r in t)r in e||(n[r]=t[r]);return n},Je=function(t){var e=t.parent||N,n=t.keyframes?Zo(ot(t.keyframes)):Ot;if(pt(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Ko=function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0},Ns=function(t,e,n,r,i){n===void 0&&(n="_first"),r===void 0&&(r="_last");var a=t[r],o;if(i)for(o=e[i];a&&a[i]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},qn=function(t,e,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var i=e._prev,a=e._next;i?i._next=a:t[n]===e&&(t[n]=a),a?a._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},se=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},de=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},$o=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Tr=function(t,e,n,r){return t._startAt&&(ct?t._startAt.revert(An):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Qo=function s(t){return!t||t._ts&&s(t.parent)},Fi=function(t){return t._repeat?Ee(t._tTime,t=t.duration()+t._rDelay)*t:0},Ee=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Gn=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Hn=function(t){return t._end=st(t._start+(t._tDur/Math.abs(t._ts||t._rts||U)||0))},Zn=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=st(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Hn(t),n._dirty||de(n,t)),t},Ys=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Gn(t.rawTime(),e),(!e._dur||gn(0,e.totalDuration(),n)-e._tTime>U)&&e.render(n,!0)),de(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-U}},Rt=function(t,e,n,r){return e.parent&&se(e),e._start=st((Wt(n)?n:n||t!==N?Pt(t,n,e):t._time)+e._delay),e._end=st(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Ns(t,e,"_first","_last",t._sort?"_start":0),Pr(e)||(t._recent=e),r||Ys(t,e),t._ts<0&&Zn(t,t._tTime),t},Ws=function(t,e){return(wt.ScrollTrigger||Kr("scrollTrigger",e))&&wt.ScrollTrigger.create(e,t)},qs=function(t,e,n,r,i){if(ei(t,e,i),!t._initted)return 1;if(!n&&t._pt&&!ct&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Us!==vt.frame)return ee.push(t),t._lazy=[i,r],1},Jo=function s(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||s(e))},Pr=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},tl=function(t,e,n,r){var i=t.ratio,a=e<0||!e&&(!t._start&&Jo(t)&&!(!t._initted&&Pr(t))||(t._ts<0||t._dp._ts<0)&&!Pr(t))?0:1,o=t._rDelay,l=0,u,f,h;if(o&&t._repeat&&(l=gn(0,t._tDur,e),f=Ee(l,o),t._yoyo&&f&1&&(a=1-a),f!==Ee(t._tTime,o)&&(i=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==i||ct||r||t._zTime===U||!e&&t._zTime){if(!t._initted&&qs(t,e,r,n,l))return;for(h=t._zTime,t._zTime=e||(n?U:0),n||(n=e&&!h),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,u=t._pt;u;)u.r(a,u.d),u=u._next;e<0&&Tr(t,e,n,!0),t._onUpdate&&!n&&At(t,"onUpdate"),l&&t._repeat&&!n&&t.parent&&At(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(a&&se(t,1),!n&&!ct&&(At(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},el=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},Ie=function(t,e,n,r){var i=t._repeat,a=st(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=i?i<0?1e10:st(a*(i+1)+t._rDelay*i):a,o>0&&!r&&Zn(t,t._tTime=t._tDur*o),t.parent&&Hn(t),n||de(t.parent,t),t},Oi=function(t){return t instanceof ft?de(t):Ie(t,t._dur)},nl={_start:0,endTime:on,totalDuration:on},Pt=function s(t,e,n){var r=t.labels,i=t._recent||nl,a=t.duration()>=kt?i.endTime(!1):t._dur,o,l,u;return it(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),u=e.substr(-1)==="%",o=e.indexOf("="),l==="<"||l===">"?(o>=0&&(e=e.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(o<0?i:n).totalDuration()/100:1)):o<0?(e in r||(r[e]=a),r[e]):(l=parseFloat(e.charAt(o-1)+e.substr(o+1)),u&&n&&(l=l/100*(ot(n)?n[0]:n).totalDuration()),o>1?s(t,e.substr(0,o-1),n)+l:a+l)):e==null?a:+e},tn=function(t,e,n){var r=Wt(e[1]),i=(r?2:1)+(t<2?0:1),a=e[i],o,l;if(r&&(a.duration=e[1]),a.parent=n,t){for(o=a,l=n;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=pt(l.vars.inherit)&&l.parent;a.immediateRender=pt(o.immediateRender),t<2?a.runBackwards=1:a.startAt=e[i-1]}return new nt(e[0],a,e[i+1])},le=function(t,e){return t||t===0?e(t):e},gn=function(t,e,n){return n<t?t:n>e?e:n},at=function(t,e){return!it(t)||!(e=Yo.exec(t))?"":e[1]},rl=function(t,e,n){return le(n,function(r){return gn(t,e,r)})},Sr=[].slice,Hs=function(t,e){return t&&Ut(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ut(t[0]))&&!t.nodeType&&t!==St},il=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(r){var i;return it(r)&&!e||Hs(r,1)?(i=n).push.apply(i,Ct(r)):n.push(r)})||n},Ct=function(t,e,n){return tt&&!e&&tt.selector?tt.selector(t):it(t)&&!n&&(wr||!Le())?Sr.call((e||Zr).querySelectorAll(t),0):ot(t)?il(t,n):Hs(t)?Sr.call(t,0):t?[t]:[]},kr=function(t){return t=Ct(t)[0]||Un("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Ct(e,n.querySelectorAll?n:n===t?Un("Invalid scope")||Zr.createElement("div"):t)}},Zs=function(t){return t.sort(function(){return .5-Math.random()})},Ks=function(t){if(q(t))return t;var e=Ut(t)?t:{each:t},n=_e(e.ease),r=e.from||0,i=parseFloat(e.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,u=e.axis,f=r,h=r;return it(r)?f=h={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(f=r[0],h=r[1]),function(c,d,_){var p=(_||e).length,m=a[p],y,v,g,x,T,S,P,w,k;if(!m){if(k=e.grid==="auto"?0:(e.grid||[1,kt])[1],!k){for(P=-kt;P<(P=_[k++].getBoundingClientRect().left)&&k<p;);k--}for(m=a[p]=[],y=l?Math.min(k,p)*f-.5:r%k,v=k===kt?0:l?p*h/k-.5:r/k|0,P=0,w=kt,S=0;S<p;S++)g=S%k-y,x=v-(S/k|0),m[S]=T=u?Math.abs(u==="y"?x:g):Fs(g*g+x*x),T>P&&(P=T),T<w&&(w=T);r==="random"&&Zs(m),m.max=P-w,m.min=w,m.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(k>p?p-1:u?u==="y"?p/k:k:Math.max(k,p/k))||0)*(r==="edges"?-1:1),m.b=p<0?i-p:i,m.u=at(e.amount||e.each)||0,n=n&&p<0?ia(n):n}return p=(m[c]-m.min)/m.max||0,st(m.b+(n?n(p):p)*m.v)+m.u}},Cr=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=st(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(Wt(n)?0:at(n))}},$s=function(t,e){var n=ot(t),r,i;return!n&&Ut(t)&&(r=n=t.radius||kt,t.values?(t=Ct(t.values),(i=!Wt(t[0]))&&(r*=r)):t=Cr(t.increment)),le(e,n?q(t)?function(a){return i=t(a),Math.abs(i-a)<=r?i:a}:function(a){for(var o=parseFloat(i?a.x:a),l=parseFloat(i?a.y:0),u=kt,f=0,h=t.length,c,d;h--;)i?(c=t[h].x-o,d=t[h].y-l,c=c*c+d*d):c=Math.abs(t[h]-o),c<u&&(u=c,f=h);return f=!r||u<=r?t[f]:a,i||f===a||Wt(a)?f:f+at(a)}:Cr(t))},Qs=function(t,e,n,r){return le(ot(t)?!e:n===!0?!!(n=0):!r,function(){return ot(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*r)/r})},sl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduce(function(i,a){return a(i)},r)}},al=function(t,e){return function(n){return t(parseFloat(n))+(e||at(n))}},ol=function(t,e,n){return ta(t,e,0,1,n)},Js=function(t,e,n){return le(n,function(r){return t[~~e(r)]})},ll=function s(t,e,n){var r=e-t;return ot(t)?Js(t,s(0,t.length),e):le(n,function(i){return(r+(i-t)%r)%r+t})},ul=function s(t,e,n){var r=e-t,i=r*2;return ot(t)?Js(t,s(0,t.length-1),e):le(n,function(a){return a=(i+(a-t)%i)%i||0,t+(a>r?i-a:a)})},ln=function(t){for(var e=0,n="",r,i,a,o;~(r=t.indexOf("random(",e));)a=t.indexOf(")",r),o=t.charAt(r+7)==="[",i=t.substr(r+7,a-r-7).match(o?Ls:yr),n+=t.substr(e,r-e)+Qs(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),e=a+1;return n+t.substr(e,t.length-e)},ta=function(t,e,n,r,i){var a=e-t,o=r-n;return le(i,function(l){return n+((l-t)/a*o||0)})},fl=function s(t,e,n,r){var i=isNaN(t+e)?0:function(d){return(1-d)*t+d*e};if(!i){var a=it(t),o={},l,u,f,h,c;if(n===!0&&(r=1)&&(n=null),a)t={p:t},e={p:e};else if(ot(t)&&!ot(e)){for(f=[],h=t.length,c=h-2,u=1;u<h;u++)f.push(s(t[u-1],t[u]));h--,i=function(_){_*=h;var p=Math.min(c,~~_);return f[p](_-p)},n=e}else r||(t=me(ot(t)?[]:{},t));if(!f){for(l in e)ti.call(o,t,l,"get",e[l]);i=function(_){return ii(_,o)||(a?t.p:t)}}}return le(n,i)},bi=function(t,e,n){var r=t.labels,i=kt,a,o,l;for(a in r)o=r[a]-e,o<0==!!n&&o&&i>(o=Math.abs(o))&&(l=a,i=o);return l},At=function(t,e,n){var r=t.vars,i=r[e],a=tt,o=t._ctx,l,u,f;if(!!i)return l=r[e+"Params"],u=r.callbackScope||t,n&&ee.length&&Vn(),o&&(tt=o),f=l?i.apply(u,l):i.call(u),tt=a,f},Ke=function(t){return se(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ct),t.progress()<1&&At(t,"onInterrupt"),t},Ce,hl=function(t){t=!t.name&&t.default||t;var e=t.name,n=q(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:on,render:ii,add:ti,kill:Al,modifier:Cl,rawVars:0},a={targetTest:0,get:0,getSetter:ri,aliases:{},register:0};if(Le(),t!==r){if(gt[e])return;Ot(r,Ot(Xn(t,i),a)),me(r.prototype,me(i,Xn(t,a))),gt[r.prop=e]=r,t.targetTest&&(Dn.push(r),$r[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Bs(e,r),t.register&&t.register(xt,r,_t)},V=255,$e={aqua:[0,V,V],lime:[0,V,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,V],navy:[0,0,128],white:[V,V,V],olive:[128,128,0],yellow:[V,V,0],orange:[V,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[V,0,0],pink:[V,192,203],cyan:[0,V,V],transparent:[V,V,V,0]},ir=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*V+.5|0},ea=function(t,e,n){var r=t?Wt(t)?[t>>16,t>>8&V,t&V]:0:$e.black,i,a,o,l,u,f,h,c,d,_;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),$e[t])r=$e[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),a=t.charAt(2),o=t.charAt(3),t="#"+i+i+a+a+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&V,r&V,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&V,t&V]}else if(t.substr(0,3)==="hsl"){if(r=_=t.match(yr),!e)l=+r[0]%360/360,u=+r[1]/100,f=+r[2]/100,a=f<=.5?f*(u+1):f+u-f*u,i=f*2-a,r.length>3&&(r[3]*=1),r[0]=ir(l+1/3,i,a),r[1]=ir(l,i,a),r[2]=ir(l-1/3,i,a);else if(~t.indexOf("="))return r=t.match(Es),n&&r.length<4&&(r[3]=1),r}else r=t.match(yr)||$e.transparent;r=r.map(Number)}return e&&!_&&(i=r[0]/V,a=r[1]/V,o=r[2]/V,h=Math.max(i,a,o),c=Math.min(i,a,o),f=(h+c)/2,h===c?l=u=0:(d=h-c,u=f>.5?d/(2-h-c):d/(h+c),l=h===i?(a-o)/d+(a<o?6:0):h===a?(o-i)/d+2:(i-a)/d+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(f*100+.5)),n&&r.length<4&&(r[3]=1),r},na=function(t){var e=[],n=[],r=-1;return t.split(ne).forEach(function(i){var a=i.match(ke)||[];e.push.apply(e,a),n.push(r+=a.length+1)}),e.c=n,e},Ei=function(t,e,n){var r="",i=(t+r).match(ne),a=e?"hsla(":"rgba(",o=0,l,u,f,h;if(!i)return t;if(i=i.map(function(c){return(c=ea(c,e,1))&&a+(e?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),n&&(f=na(t),l=n.c,l.join(r)!==f.c.join(r)))for(u=t.replace(ne,"1").split(ke),h=u.length-1;o<h;o++)r+=u[o]+(~l.indexOf(o)?i.shift()||a+"0,0,0,0)":(f.length?f:i.length?i:n).shift());if(!u)for(u=t.split(ne),h=u.length-1;o<h;o++)r+=u[o]+i[o];return r+u[h]},ne=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in $e)s+="|"+t+"\\b";return new RegExp(s+")","gi")}(),cl=/hsl[a]?\(/,ra=function(t){var e=t.join(" "),n;if(ne.lastIndex=0,ne.test(e))return n=cl.test(e),t[1]=Ei(t[1],n),t[0]=Ei(t[0],n,na(t[1])),!0},un,vt=function(){var s=Date.now,t=500,e=33,n=s(),r=n,i=1e3/240,a=i,o=[],l,u,f,h,c,d,_=function p(m){var y=s()-r,v=m===!0,g,x,T,S;if(y>t&&(n+=y-e),r+=y,T=r-n,g=T-a,(g>0||v)&&(S=++h.frame,c=T-h.time*1e3,h.time=T=T/1e3,a+=g+(g>=i?4:i-g),x=1),v||(l=u(p)),x)for(d=0;d<o.length;d++)o[d](T,c,S,m)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(m){return c/(1e3/(m||60))},wake:function(){Rs&&(!wr&&Os()&&(St=wr=window,Zr=St.document||{},wt.gsap=xt,(St.gsapVersions||(St.gsapVersions=[])).push(xt.version),zs(Bn||St.GreenSockGlobals||!St.gsap&&St||{}),f=St.requestAnimationFrame),l&&h.sleep(),u=f||function(m){return setTimeout(m,a-h.time*1e3+1|0)},un=1,_(2))},sleep:function(){(f?St.cancelAnimationFrame:clearTimeout)(l),un=0,u=on},lagSmoothing:function(m,y){t=m||1/U,e=Math.min(y,t,0)},fps:function(m){i=1e3/(m||240),a=h.time*1e3+i},add:function(m,y,v){var g=y?function(x,T,S,P){m(x,T,S,P),h.remove(g)}:m;return h.remove(m),o[v?"unshift":"push"](g),Le(),g},remove:function(m,y){~(y=o.indexOf(m))&&o.splice(y,1)&&d>=y&&d--},_listeners:o},h}(),Le=function(){return!un&&vt.wake()},R={},pl=/^[\d.\-M][\d.\-,\s]/,dl=/["']/g,_l=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),r=n[0],i=1,a=n.length,o,l,u;i<a;i++)l=n[i],o=i!==a-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),e[r]=isNaN(u)?u.replace(dl,"").trim():+u,r=l.substr(o+1).trim();return e},ml=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<n?t.indexOf(")",n+1):n)},gl=function(t){var e=(t+"").split("("),n=R[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[_l(e[1])]:ml(t).split(",").map(Gs)):R._CE&&pl.test(t)?R._CE("",t):n},ia=function(t){return function(e){return 1-t(1-e)}},sa=function s(t,e){for(var n=t._first,r;n;)n instanceof ft?s(n,e):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==e&&(n.timeline?s(n.timeline,e):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=e)),n=n._next},_e=function(t,e){return t&&(q(t)?t:R[t]||gl(t))||e},ve=function(t,e,n,r){n===void 0&&(n=function(l){return 1-e(1-l)}),r===void 0&&(r=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var i={easeIn:e,easeOut:n,easeInOut:r},a;return dt(t,function(o){R[o]=wt[o]=i,R[a=o.toLowerCase()]=n;for(var l in i)R[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=R[o+"."+l]=i[l]}),i},aa=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},sr=function s(t,e,n){var r=e>=1?e:1,i=(n||(t?.3:.45))/(e<1?e:1),a=i/vr*(Math.asin(1/r)||0),o=function(f){return f===1?1:r*Math.pow(2,-10*f)*No((f-a)*i)+1},l=t==="out"?o:t==="in"?function(u){return 1-o(1-u)}:aa(o);return i=vr/i,l.config=function(u,f){return s(t,u,f)},l},ar=function s(t,e){e===void 0&&(e=1.70158);var n=function(a){return a?--a*a*((e+1)*a+e)+1:0},r=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:aa(n);return r.config=function(i){return s(t,i)},r};dt("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,t){var e=t<5?t+1:t;ve(s+",Power"+(e-1),t?function(n){return Math.pow(n,e)}:function(n){return n},function(n){return 1-Math.pow(1-n,e)},function(n){return n<.5?Math.pow(n*2,e)/2:1-Math.pow((1-n)*2,e)/2})});R.Linear.easeNone=R.none=R.Linear.easeIn;ve("Elastic",sr("in"),sr("out"),sr());(function(s,t){var e=1/t,n=2*e,r=2.5*e,i=function(o){return o<e?s*o*o:o<n?s*Math.pow(o-1.5/t,2)+.75:o<r?s*(o-=2.25/t)*o+.9375:s*Math.pow(o-2.625/t,2)+.984375};ve("Bounce",function(a){return 1-i(1-a)},i)})(7.5625,2.75);ve("Expo",function(s){return s?Math.pow(2,10*(s-1)):0});ve("Circ",function(s){return-(Fs(1-s*s)-1)});ve("Sine",function(s){return s===1?1:-jo(s*Xo)+1});ve("Back",ar("in"),ar("out"),ar());R.SteppedEase=R.steps=wt.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0,a=1-U;return function(o){return((r*gn(0,a,o)|0)+i)*n}}};be.ease=R["quad.out"];dt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return Qr+=s+","+s+"Params,"});var oa=function(t,e){this.id=Go++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Vs,this.set=e?e.getSetter:ri},Re=function(){function s(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ie(this,+e.duration,1,1),this.data=e.data,tt&&(this._ctx=tt,tt.data.push(this)),un||vt.wake()}var t=s.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,Ie(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,r){if(Le(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Zn(this,n),!i._dp||i.parent||Ys(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Rt(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===U||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Xs(this,n,r)),this},t.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Fi(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},t.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Fi(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(n,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,r):this._repeat?Ee(this._tTime,i)+1:1},t.timeScale=function(n){if(!arguments.length)return this._rts===-U?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?Gn(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-U?0:this._rts,this.totalTime(gn(-this._delay,this._tDur,r),!0),Hn(this),$o(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Le(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==U&&(this._tTime-=U)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Rt(r,this,n-this._delay),this}return this._start},t.endTime=function(n){return this._start+(pt(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gn(r.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=qo);var r=ct;return ct=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ct=r,this},t.globalTime=function(n){for(var r=this,i=arguments.length?n:r.rawTime();r;)i=r._start+i/(r._ts||1),r=r._dp;return!this.parent&&this.vars.immediateRender?-1:i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Oi(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Oi(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,r){return this.totalTime(Pt(this,n),pt(r))},t.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,pt(r))},t.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},t.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-U:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-U,this},t.isActive=function(){var n=this.parent||this._dp,r=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=r&&i<this.endTime(!0)-U)},t.eventCallback=function(n,r,i){var a=this.vars;return arguments.length>1?(r?(a[n]=r,i&&(a[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=r)):delete a[n],this):a[n]},t.then=function(n){var r=this;return new Promise(function(i){var a=q(n)?n:js,o=function(){var u=r.then;r.then=null,q(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=u),i(a),r.then=u};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},t.kill=function(){Ke(this)},s}();Ot(Re.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-U,_prom:0,_ps:!1,_rts:1});var ft=function(s){Ms(t,s);function t(n,r){var i;return n===void 0&&(n={}),i=s.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=pt(n.sortChildren),N&&Rt(n.parent||N,Vt(i),r),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&Ws(Vt(i),n.scrollTrigger),i}var e=t.prototype;return e.to=function(r,i,a){return tn(0,arguments,this),this},e.from=function(r,i,a){return tn(1,arguments,this),this},e.fromTo=function(r,i,a,o){return tn(2,arguments,this),this},e.set=function(r,i,a){return i.duration=0,i.parent=this,Je(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new nt(r,i,Pt(this,a),1),this},e.call=function(r,i,a){return Rt(this,nt.delayedCall(0,r,i),a)},e.staggerTo=function(r,i,a,o,l,u,f){return a.duration=i,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=f,a.parent=this,new nt(r,a,Pt(this,l)),this},e.staggerFrom=function(r,i,a,o,l,u,f){return a.runBackwards=1,Je(a).immediateRender=pt(a.immediateRender),this.staggerTo(r,i,a,o,l,u,f)},e.staggerFromTo=function(r,i,a,o,l,u,f,h){return o.startAt=a,Je(o).immediateRender=pt(o.immediateRender),this.staggerTo(r,i,o,l,u,f,h)},e.render=function(r,i,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,f=r<=0?0:st(r),h=this._zTime<0!=r<0&&(this._initted||!u),c,d,_,p,m,y,v,g,x,T,S,P;if(this!==N&&f>l&&r>=0&&(f=l),f!==this._tTime||a||h){if(o!==this._time&&u&&(f+=this._time-o,r+=this._time-o),c=f,x=this._start,g=this._ts,y=!g,h&&(u||(o=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(S=this._yoyo,m=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,i,a);if(c=st(f%m),f===l?(p=this._repeat,c=u):(p=~~(f/m),p&&p===f/m&&(c=u,p--),c>u&&(c=u)),T=Ee(this._tTime,m),!o&&this._tTime&&T!==p&&(T=p),S&&p&1&&(c=u-c,P=1),p!==T&&!this._lock){var w=S&&T&1,k=w===(S&&p&1);if(p<T&&(w=!w),o=w?0:u,this._lock=1,this.render(o||(P?0:st(p*m)),i,!u)._lock=0,this._tTime=f,!i&&this.parent&&At(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),o&&o!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,k&&(this._lock=2,o=w?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;sa(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=el(this,st(o),st(c)),v&&(f-=c-(c=v._start))),this._tTime=f,this._time=c,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&c&&!i&&(At(this,"onStart"),this._tTime!==f))return this;if(c>=o&&r>=0)for(d=this._first;d;){if(_=d._next,(d._act||c>=d._start)&&d._ts&&v!==d){if(d.parent!==this)return this.render(r,i,a);if(d.render(d._ts>0?(c-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(c-d._start)*d._ts,i,a),c!==this._time||!this._ts&&!y){v=0,_&&(f+=this._zTime=-U);break}}d=_}else{d=this._last;for(var C=r<0?r:c;d;){if(_=d._prev,(d._act||C<=d._end)&&d._ts&&v!==d){if(d.parent!==this)return this.render(r,i,a);if(d.render(d._ts>0?(C-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(C-d._start)*d._ts,i,a||ct&&(d._initted||d._startAt)),c!==this._time||!this._ts&&!y){v=0,_&&(f+=this._zTime=C?-U:U);break}}d=_}}if(v&&!i&&(this.pause(),v.render(c>=o?0:-U)._zTime=c>=o?1:-1,this._ts))return this._start=x,Hn(this),this.render(r,i,a);this._onUpdate&&!i&&At(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&o)&&(x===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(f===l&&this._ts>0||!f&&this._ts<0)&&se(this,1),!i&&!(r<0&&!o)&&(f||o||!l)&&(At(this,f===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,i){var a=this;if(Wt(i)||(i=Pt(this,i,r)),!(r instanceof Re)){if(ot(r))return r.forEach(function(o){return a.add(o,i)}),this;if(it(r))return this.addLabel(r,i);if(q(r))r=nt.delayedCall(0,r);else return this}return this!==r?Rt(this,r,i):this},e.getChildren=function(r,i,a,o){r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=-kt);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof nt?i&&l.push(u):(a&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,i,a)))),u=u._next;return l},e.getById=function(r){for(var i=this.getChildren(1,1,1),a=i.length;a--;)if(i[a].vars.id===r)return i[a]},e.remove=function(r){return it(r)?this.removeLabel(r):q(r)?this.killTweensOf(r):(qn(this,r),r===this._recent&&(this._recent=this._last),de(this))},e.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=st(vt.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),s.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},e.addLabel=function(r,i){return this.labels[r]=Pt(this,i),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,i,a){var o=nt.delayedCall(0,i||on,a);return o.data="isPause",this._hasPause=1,Rt(this,o,Pt(this,r))},e.removePause=function(r){var i=this._first;for(r=Pt(this,r);i;)i._start===r&&i.data==="isPause"&&se(i),i=i._next},e.killTweensOf=function(r,i,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)$t!==o[l]&&o[l].kill(r,i);return this},e.getTweensOf=function(r,i){for(var a=[],o=Ct(r),l=this._first,u=Wt(i),f;l;)l instanceof nt?Ho(l._targets,o)&&(u?(!$t||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&a.push(l):(f=l.getTweensOf(o,i)).length&&a.push.apply(a,f),l=l._next;return a},e.tweenTo=function(r,i){i=i||{};var a=this,o=Pt(a,r),l=i,u=l.startAt,f=l.onStart,h=l.onStartParams,c=l.immediateRender,d,_=nt.to(a,Ot({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||U,onStart:function(){if(a.pause(),!d){var m=i.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());_._dur!==m&&Ie(_,m,0,1).render(_._time,!0,!0),d=1}f&&f.apply(_,h||[])}},i));return c?_.render(0):_},e.tweenFromTo=function(r,i,a){return this.tweenTo(i,Ot({startAt:{time:Pt(this,r)}},a))},e.recent=function(){return this._recent},e.nextLabel=function(r){return r===void 0&&(r=this._time),bi(this,Pt(this,r))},e.previousLabel=function(r){return r===void 0&&(r=this._time),bi(this,Pt(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+U)},e.shiftChildren=function(r,i,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,u;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(i)for(u in l)l[u]>=a&&(l[u]+=r);return de(this)},e.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return s.prototype.invalidate.call(this,r)},e.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,a;i;)a=i._next,this.remove(i),i=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),de(this)},e.totalDuration=function(r){var i=0,a=this,o=a._last,l=kt,u,f,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(h=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),f=o._start,f>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,Rt(a,o,f-o._delay,1)._lock=0):l=f,f<0&&o._ts&&(i-=f,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=f/a._ts,a._time-=f,a._tTime-=f),a.shiftChildren(-f,!1,-1/0),l=0),o._end>i&&o._ts&&(i=o._end),o=u;Ie(a,a===N&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(r){if(N._ts&&(Xs(N,Gn(r,N)),Us=vt.frame),vt.frame>=Di){Di+=yt.autoSleep||120;var i=N._first;if((!i||!i._ts)&&yt.autoSleep&&vt._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||vt.sleep()}}},t}(Re);Ot(ft.prototype,{_lock:0,_hasPause:0,_forcing:0});var vl=function(t,e,n,r,i,a,o){var l=new _t(this._pt,t,e,0,1,pa,null,i),u=0,f=0,h,c,d,_,p,m,y,v;for(l.b=n,l.e=r,n+="",r+="",(y=~r.indexOf("random("))&&(r=ln(r)),a&&(v=[n,r],a(v,t,e),n=v[0],r=v[1]),c=n.match(nr)||[];h=nr.exec(r);)_=h[0],p=r.substring(u,h.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),_!==c[f++]&&(m=parseFloat(c[f-1])||0,l._pt={_next:l._pt,p:p||f===1?p:",",s:m,c:_.charAt(1)==="="?Ae(m,_)-m:parseFloat(_)-m,m:d&&d<4?Math.round:0},u=nr.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=o,(Is.test(r)||y)&&(l.e=0),this._pt=l,l},ti=function(t,e,n,r,i,a,o,l,u,f){q(r)&&(r=r(i||0,t,a));var h=t[e],c=n!=="get"?n:q(h)?u?t[e.indexOf("set")||!q(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():h,d=q(h)?u?Pl:ha:ni,_;if(it(r)&&(~r.indexOf("random(")&&(r=ln(r)),r.charAt(1)==="="&&(_=Ae(c,r)+(at(c)||0),(_||_===0)&&(r=_))),!f||c!==r||Ar)return!isNaN(c*r)&&r!==""?(_=new _t(this._pt,t,e,+c||0,r-(c||0),typeof h=="boolean"?kl:ca,0,d),u&&(_.fp=u),o&&_.modifier(o,this,t),this._pt=_):(!h&&!(e in t)&&Kr(e,r),vl.call(this,t,e,c,r,d,l||yt.stringFilter,u))},yl=function(t,e,n,r,i){if(q(t)&&(t=en(t,i,e,n,r)),!Ut(t)||t.style&&t.nodeType||ot(t)||bs(t))return it(t)?en(t,i,e,n,r):t;var a={},o;for(o in t)a[o]=en(t[o],i,e,n,r);return a},la=function(t,e,n,r,i,a){var o,l,u,f;if(gt[t]&&(o=new gt[t]).init(i,o.rawVars?e[t]:yl(e[t],r,i,a,n),n,r,a)!==!1&&(n._pt=l=new _t(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==Ce))for(u=n._ptLookup[n._targets.indexOf(i)],f=o._props.length;f--;)u[o._props[f]]=l;return o},$t,Ar,ei=function s(t,e,n){var r=t.vars,i=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,u=r.onUpdate,f=r.onUpdateParams,h=r.callbackScope,c=r.runBackwards,d=r.yoyoEase,_=r.keyframes,p=r.autoRevert,m=t._dur,y=t._startAt,v=t._targets,g=t.parent,x=g&&g.data==="nested"?g.vars.targets:v,T=t._overwrite==="auto"&&!qr,S=t.timeline,P,w,k,C,F,A,D,M,b,O,E,z,W;if(S&&(!_||!i)&&(i="none"),t._ease=_e(i,be.ease),t._yEase=d?ia(_e(d===!0?i:d,be.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!S&&!!r.runBackwards,!S||_&&!r.stagger){if(M=v[0]?pe(v[0]).harness:0,z=M&&r[M.prop],P=Xn(r,$r),y&&(y._zTime<0&&y.progress(1),e<0&&c&&o&&!p?y.render(-1,!0):y.revert(c&&m?An:Wo),y._lazy=0),a){if(se(t._startAt=nt.set(v,Ot({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:pt(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:f,callbackScope:h,stagger:0},a))),t._startAt._dp=0,e<0&&(ct||!o&&!p)&&t._startAt.revert(An),o&&m&&e<=0&&n<=0){e&&(t._zTime=e);return}}else if(c&&m&&!y){if(e&&(o=!1),k=Ot({overwrite:!1,data:"isFromStart",lazy:o&&pt(l),immediateRender:o,stagger:0,parent:g},P),z&&(k[M.prop]=z),se(t._startAt=nt.set(v,k)),t._startAt._dp=0,e<0&&(ct?t._startAt.revert(An):t._startAt.render(-1,!0)),t._zTime=e,!o)s(t._startAt,U,U);else if(!e)return}for(t._pt=t._ptCache=0,l=m&&pt(l)||l&&!m,w=0;w<v.length;w++){if(F=v[w],D=F._gsap||Jr(v)[w]._gsap,t._ptLookup[w]=O={},xr[D.id]&&ee.length&&Vn(),E=x===v?w:x.indexOf(F),M&&(b=new M).init(F,z||P,t,E,x)!==!1&&(t._pt=C=new _t(t._pt,F,b.name,0,1,b.render,b,0,b.priority),b._props.forEach(function(J){O[J]=C}),b.priority&&(A=1)),!M||z)for(k in P)gt[k]&&(b=la(k,P,t,E,F,x))?b.priority&&(A=1):O[k]=C=ti.call(t,F,k,"get",P[k],E,x,0,r.stringFilter);t._op&&t._op[w]&&t.kill(F,t._op[w]),T&&t._pt&&($t=t,N.killTweensOf(F,O,t.globalTime(e)),W=!t.parent,$t=0),t._pt&&l&&(xr[D.id]=1)}A&&da(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!W,_&&e<=0&&S.render(kt,!0,!0)},wl=function(t,e,n,r,i,a,o){var l=(t._pt&&t._ptCache||(t._ptCache={}))[e],u,f,h,c;if(!l)for(l=t._ptCache[e]=[],h=t._ptLookup,c=t._targets.length;c--;){if(u=h[c][e],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Ar=1,t.vars[e]="+=0",ei(t,o),Ar=0,1;l.push(u)}for(c=l.length;c--;)f=l[c],u=f._pt||f,u.s=(r||r===0)&&!i?r:u.s+(r||0)+a*u.c,u.c=n-u.s,f.e&&(f.e=$(n)+at(f.e)),f.b&&(f.b=u.s+at(f.b))},xl=function(t,e){var n=t[0]?pe(t[0]).harness:0,r=n&&n.aliases,i,a,o,l;if(!r)return e;i=me({},e);for(a in r)if(a in i)for(l=r[a].split(","),o=l.length;o--;)i[l[o]]=i[a];return i},Tl=function(t,e,n,r){var i=e.ease||r||"power1.inOut",a,o;if(ot(e))o=n[t]||(n[t]=[]),e.forEach(function(l,u){return o.push({t:u/(e.length-1)*100,v:l,e:i})});else for(a in e)o=n[a]||(n[a]=[]),a==="ease"||o.push({t:parseFloat(t),v:e[a],e:i})},en=function(t,e,n,r,i){return q(t)?t.call(e,n,r,i):it(t)&&~t.indexOf("random(")?ln(t):t},ua=Qr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",fa={};dt(ua+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return fa[s]=1});var nt=function(s){Ms(t,s);function t(n,r,i,a){var o;typeof r=="number"&&(i.duration=r,r=i,i=null),o=s.call(this,a?r:Je(r))||this;var l=o.vars,u=l.duration,f=l.delay,h=l.immediateRender,c=l.stagger,d=l.overwrite,_=l.keyframes,p=l.defaults,m=l.scrollTrigger,y=l.yoyoEase,v=r.parent||N,g=(ot(n)||bs(n)?Wt(n[0]):"length"in r)?[n]:Ct(n),x,T,S,P,w,k,C,F;if(o._targets=g.length?Jr(g):Un("GSAP target "+n+" not found. https://greensock.com",!yt.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,_||c||Pn(u)||Pn(f)){if(r=o.vars,x=o.timeline=new ft({data:"nested",defaults:p||{},targets:v&&v.data==="nested"?v.vars.targets:g}),x.kill(),x.parent=x._dp=Vt(o),x._start=0,c||Pn(u)||Pn(f)){if(P=g.length,C=c&&Ks(c),Ut(c))for(w in c)~ua.indexOf(w)&&(F||(F={}),F[w]=c[w]);for(T=0;T<P;T++)S=Xn(r,fa),S.stagger=0,y&&(S.yoyoEase=y),F&&me(S,F),k=g[T],S.duration=+en(u,Vt(o),T,k,g),S.delay=(+en(f,Vt(o),T,k,g)||0)-o._delay,!c&&P===1&&S.delay&&(o._delay=f=S.delay,o._start+=f,S.delay=0),x.to(k,S,C?C(T,k,g):0),x._ease=R.none;x.duration()?u=f=0:o.timeline=0}else if(_){Je(Ot(x.vars.defaults,{ease:"none"})),x._ease=_e(_.ease||r.ease||"none");var A=0,D,M,b;if(ot(_))_.forEach(function(O){return x.to(g,O,">")}),x.duration();else{S={};for(w in _)w==="ease"||w==="easeEach"||Tl(w,_[w],S,_.easeEach);for(w in S)for(D=S[w].sort(function(O,E){return O.t-E.t}),A=0,T=0;T<D.length;T++)M=D[T],b={ease:M.e,duration:(M.t-(T?D[T-1].t:0))/100*u},b[w]=M.v,x.to(g,b,A),A+=b.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||o.duration(u=x.duration())}else o.timeline=0;return d===!0&&!qr&&($t=Vt(o),N.killTweensOf(g),$t=0),Rt(v,Vt(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(h||!u&&!_&&o._start===st(v._time)&&pt(h)&&Qo(Vt(o))&&v.data!=="nested")&&(o._tTime=-U,o.render(Math.max(0,-f)||0)),m&&Ws(Vt(o),m),o}var e=t.prototype;return e.render=function(r,i,a){var o=this._time,l=this._tDur,u=this._dur,f=r<0,h=r>l-U&&!f?l:r<U?0:r,c,d,_,p,m,y,v,g,x;if(!u)tl(this,r,i,a);else if(h!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(c=h,g=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&f)return this.totalTime(p*100+r,i,a);if(c=st(h%p),h===l?(_=this._repeat,c=u):(_=~~(h/p),_&&_===h/p&&(c=u,_--),c>u&&(c=u)),y=this._yoyo&&_&1,y&&(x=this._yEase,c=u-c),m=Ee(this._tTime,p),c===o&&!a&&this._initted)return this._tTime=h,this;_!==m&&(g&&this._yEase&&sa(g,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=a=1,this.render(st(p*_),!0).invalidate()._lock=0))}if(!this._initted){if(qs(this,f?r:c,a,i,h))return this._tTime=0,this;if(o!==this._time)return this;if(u!==this._dur)return this.render(r,i,a)}if(this._tTime=h,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(c/u),this._from&&(this.ratio=v=1-v),c&&!o&&!i&&(At(this,"onStart"),this._tTime!==h))return this;for(d=this._pt;d;)d.r(v,d.d),d=d._next;g&&g.render(r<0?r:!c&&y?-U:g._dur*g._ease(c/this._dur),i,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(f&&Tr(this,r,i,a),At(this,"onUpdate")),this._repeat&&_!==m&&this.vars.onRepeat&&!i&&this.parent&&At(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(f&&!this._onUpdate&&Tr(this,r,!0,!0),(r||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&se(this,1),!i&&!(f&&!o)&&(h||o||y)&&(At(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),s.prototype.invalidate.call(this,r)},e.resetTo=function(r,i,a,o){un||vt.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||ei(this,l),u=this._ease(l/this._dur),wl(this,r,i,a,o,u,l)?this.resetTo(r,i,a,o):(Zn(this,0),this.parent||Ns(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Ke(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,$t&&$t.vars.overwrite!==!0)._first||Ke(this),this.parent&&a!==this.timeline.totalDuration()&&Ie(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?Ct(r):o,u=this._ptLookup,f=this._pt,h,c,d,_,p,m,y;if((!i||i==="all")&&Ko(o,l))return i==="all"&&(this._pt=0),Ke(this);for(h=this._op=this._op||[],i!=="all"&&(it(i)&&(p={},dt(i,function(v){return p[v]=1}),i=p),i=xl(o,i)),y=o.length;y--;)if(~l.indexOf(o[y])){c=u[y],i==="all"?(h[y]=i,_=c,d={}):(d=h[y]=h[y]||{},_=i);for(p in _)m=c&&c[p],m&&((!("kill"in m.d)||m.d.kill(p)===!0)&&qn(this,m,"_pt"),delete c[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&f&&Ke(this),this},t.to=function(r,i){return new t(r,i,arguments[2])},t.from=function(r,i){return tn(1,arguments)},t.delayedCall=function(r,i,a,o){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},t.fromTo=function(r,i,a){return tn(2,arguments)},t.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(r,i)},t.killTweensOf=function(r,i,a){return N.killTweensOf(r,i,a)},t}(Re);Ot(nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});dt("staggerTo,staggerFrom,staggerFromTo",function(s){nt[s]=function(){var t=new ft,e=Sr.call(arguments,0);return e.splice(s==="staggerFromTo"?5:4,0,0),t[s].apply(t,e)}});var ni=function(t,e,n){return t[e]=n},ha=function(t,e,n){return t[e](n)},Pl=function(t,e,n,r){return t[e](r.fp,n)},Sl=function(t,e,n){return t.setAttribute(e,n)},ri=function(t,e){return q(t[e])?ha:Hr(t[e])&&t.setAttribute?Sl:ni},ca=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},kl=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},pa=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(t===1&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},ii=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Cl=function(t,e,n,r){for(var i=this._pt,a;i;)a=i._next,i.p===r&&i.modifier(t,e,n),i=a},Al=function(t){for(var e=this._pt,n,r;e;)r=e._next,e.p===t&&!e.op||e.op===t?qn(this,e,"_pt"):e.dep||(n=1),e=r;return!n},Dl=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},da=function(t){for(var e=t._pt,n,r,i,a;e;){for(n=e._next,r=i;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:a)?e._prev._next=e:i=e,(e._next=r)?r._prev=e:a=e,e=n}t._pt=i},_t=function(){function s(e,n,r,i,a,o,l,u,f){this.t=n,this.s=i,this.c=a,this.p=r,this.r=o||ca,this.d=l||this,this.set=u||ni,this.pr=f||0,this._next=e,e&&(e._prev=this)}var t=s.prototype;return t.modifier=function(n,r,i){this.mSet=this.mSet||this.set,this.set=Dl,this.m=n,this.mt=i,this.tween=r},s}();dt(Qr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return $r[s]=1});wt.TweenMax=wt.TweenLite=nt;wt.TimelineLite=wt.TimelineMax=ft;N=new ft({sortChildren:!1,defaults:be,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});yt.stringFilter=ra;var ze=[],Mn={},Ml=[],Ii=0,or=function(t){return(Mn[t]||Ml).map(function(e){return e()})},Dr=function(){var t=Date.now(),e=[];t-Ii>2&&(or("matchMediaInit"),ze.forEach(function(n){var r=n.queries,i=n.conditions,a,o,l,u;for(o in r)a=St.matchMedia(r[o]).matches,a&&(l=1),a!==i[o]&&(i[o]=a,u=1);u&&(n.revert(),l&&e.push(n))}),or("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n)}),Ii=t,or("matchMedia"))},_a=function(){function s(e,n){this.selector=n&&kr(n),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=s.prototype;return t.add=function(n,r,i){q(n)&&(i=r,r=n,n=q);var a=this,o=function(){var u=tt,f=a.selector,h;return u&&u!==a&&u.data.push(a),i&&(a.selector=kr(i)),tt=a,h=r.apply(a,arguments),q(h)&&a._r.push(h),tt=u,a.selector=f,a.isReverted=!1,h};return a.last=o,n===q?o(a):n?a[n]=o:o},t.ignore=function(n){var r=tt;tt=null,n(this),tt=r},t.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof s?n.push.apply(n,r.getTweens()):r instanceof nt&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,r){var i=this;if(n){var a=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}))}),a.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof Re)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,i)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),r){var o=ze.indexOf(this);~o&&ze.splice(o,1)}},t.revert=function(n){this.kill(n||{})},s}(),Fl=function(){function s(e){this.contexts=[],this.scope=e}var t=s.prototype;return t.add=function(n,r,i){Ut(n)||(n={matches:n});var a=new _a(0,i||this.scope),o=a.conditions={},l,u,f;this.contexts.push(a),r=a.add("onMatch",r),a.queries=n;for(u in n)u==="all"?f=1:(l=St.matchMedia(n[u]),l&&(ze.indexOf(a)<0&&ze.push(a),(o[u]=l.matches)&&(f=1),l.addListener?l.addListener(Dr):l.addEventListener("change",Dr)));return f&&r(a),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},s}(),jn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(r){return hl(r)})},timeline:function(t){return new ft(t)},getTweensOf:function(t,e){return N.getTweensOf(t,e)},getProperty:function(t,e,n,r){it(t)&&(t=Ct(t)[0]);var i=pe(t||{}).get,a=n?js:Gs;return n==="native"&&(n=""),t&&(e?a((gt[e]&&gt[e].get||i)(t,e,n,r)):function(o,l,u){return a((gt[o]&&gt[o].get||i)(t,o,l,u))})},quickSetter:function(t,e,n){if(t=Ct(t),t.length>1){var r=t.map(function(f){return xt.quickSetter(f,e,n)}),i=r.length;return function(f){for(var h=i;h--;)r[h](f)}}t=t[0]||{};var a=gt[e],o=pe(t),l=o.harness&&(o.harness.aliases||{})[e]||e,u=a?function(f){var h=new a;Ce._pt=0,h.init(t,n?f+n:f,Ce,0,[t]),h.render(1,h),Ce._pt&&ii(1,Ce)}:o.set(t,l);return a?u:function(f){return u(t,l,n?f+n:f,o,1)}},quickTo:function(t,e,n){var r,i=xt.to(t,me((r={},r[e]="+=0.1",r.paused=!0,r),n||{})),a=function(l,u,f){return i.resetTo(e,l,u,f)};return a.tween=i,a},isTweening:function(t){return N.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=_e(t.ease,be.ease)),Mi(be,t||{})},config:function(t){return Mi(yt,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!gt[o]&&!wt[o]&&Un(e+" effect requires "+o+" plugin.")}),rr[e]=function(o,l,u){return n(Ct(o),Ot(l||{},i),u)},a&&(ft.prototype[e]=function(o,l,u){return this.add(rr[e](o,Ut(l)?l:(u=l)&&{},this),u)})},registerEase:function(t,e){R[t]=_e(e)},parseEase:function(t,e){return arguments.length?_e(t,e):R},getById:function(t){return N.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new ft(t),r,i;for(n.smoothChildTiming=pt(t.smoothChildTiming),N.remove(n),n._dp=0,n._time=n._tTime=N._time,r=N._first;r;)i=r._next,(e||!(!r._dur&&r instanceof nt&&r.vars.onComplete===r._targets[0]))&&Rt(n,r,r._start-r._delay),r=i;return Rt(N,n,0),n},context:function(t,e){return t?new _a(t,e):tt},matchMedia:function(t){return new Fl(t)},matchMediaRefresh:function(){return ze.forEach(function(t){var e=t.conditions,n,r;for(r in e)e[r]&&(e[r]=!1,n=1);n&&t.revert()})||Dr()},addEventListener:function(t,e){var n=Mn[t]||(Mn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Mn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:ll,wrapYoyo:ul,distribute:Ks,random:Qs,snap:$s,normalize:ol,getUnit:at,clamp:rl,splitColor:ea,toArray:Ct,selector:kr,mapRange:ta,pipe:sl,unitize:al,interpolate:fl,shuffle:Zs},install:zs,effects:rr,ticker:vt,updateRoot:ft.updateRoot,plugins:gt,globalTimeline:N,core:{PropTween:_t,globals:Bs,Tween:nt,Timeline:ft,Animation:Re,getCache:pe,_removeLinkedListItem:qn,reverting:function(){return ct},context:function(t){return t&&tt&&(tt.data.push(t),t._ctx=tt),tt},suppressOverwrites:function(t){return qr=t}}};dt("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return jn[s]=nt[s]});vt.add(ft.updateRoot);Ce=jn.to({},{duration:0});var Ol=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},bl=function(t,e){var n=t._targets,r,i,a;for(r in e)for(i=n.length;i--;)a=t._ptLookup[i][r],a&&(a=a.d)&&(a._pt&&(a=Ol(a,r)),a&&a.modifier&&a.modifier(e[r],t,n[i],r))},lr=function(t,e){return{name:t,rawVars:1,init:function(r,i,a){a._onInit=function(o){var l,u;if(it(i)&&(l={},dt(i,function(f){return l[f]=1}),i=l),e){l={};for(u in i)l[u]=e(i[u]);i=l}bl(o,i)}}}},xt=jn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var a,o,l;this.tween=n;for(a in e)l=t.getAttribute(a)||"",o=this.add(t,"setAttribute",(l||0)+"",e[a],r,i,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(t,e){for(var n=e._pt;n;)ct?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},lr("roundProps",Cr),lr("modifiers"),lr("snap",$s))||jn;nt.version=ft.version=xt.version="3.11.3";Rs=1;Os()&&Le();R.Power0;R.Power1;R.Power2;R.Power3;R.Power4;R.Linear;R.Quad;R.Cubic;R.Quart;R.Quint;R.Strong;R.Elastic;R.Back;R.SteppedEase;R.Bounce;R.Sine;R.Expo;R.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Li,Qt,De,si,ce,Ri,ai,El=function(){return typeof window<"u"},qt={},he=180/Math.PI,Me=Math.PI/180,Te=Math.atan2,zi=1e8,oi=/([A-Z])/g,Il=/(left|right|width|margin|padding|x)/i,Ll=/[\s,\(]\S/,jt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Mr=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Rl=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},zl=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Bl=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},ma=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ga=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Ul=function(t,e,n){return t.style[e]=n},Vl=function(t,e,n){return t.style.setProperty(e,n)},Xl=function(t,e,n){return t._gsap[e]=n},Gl=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},jl=function(t,e,n,r,i){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},Nl=function(t,e,n,r,i){var a=t._gsap;a[e]=n,a.renderTransform(i,a)},Y="transform",bt=Y+"Origin",Yl=function(t,e){var n=this,r=this.target,i=r.style;if(t in qt){if(this.tfm=this.tfm||{},t!=="transform"&&(t=jt[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return n.tfm[a]=Xt(r,a)}):this.tfm[t]=r._gsap.x?r._gsap[t]:Xt(r,t)),this.props.indexOf(Y)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(bt,e,"")),t=Y}(i||e)&&this.props.push(t,e,i[t])},va=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Wl=function(){var t=this.props,e=this.target,n=e.style,r=e._gsap,i,a;for(i=0;i<t.length;i+=3)t[i+1]?e[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].replace(oi,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),i=ai(),i&&!i.isStart&&!n[Y]&&(va(n),r.uncache=1)}},ya=function(t,e){var n={target:t,props:[],revert:Wl,save:Yl};return e&&e.split(",").forEach(function(r){return n.save(r)}),n},wa,Fr=function(t,e){var n=Qt.createElementNS?Qt.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Qt.createElement(t);return n.style?n:Qt.createElement(t)},zt=function s(t,e,n){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(oi,"-$1").toLowerCase())||r.getPropertyValue(e)||!n&&s(t,Be(e)||e,1)||""},Bi="O,Moz,ms,Ms,Webkit".split(","),Be=function(t,e,n){var r=e||ce,i=r.style,a=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(Bi[a]+t in i););return a<0?null:(a===3?"ms":a>=0?Bi[a]:"")+t},Or=function(){El()&&window.document&&(Li=window,Qt=Li.document,De=Qt.documentElement,ce=Fr("div")||{style:{}},Fr("div"),Y=Be(Y),bt=Y+"Origin",ce.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wa=!!Be("perspective"),ai=xt.core.reverting,si=1)},ur=function s(t){var e=Fr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,i=this.style.cssText,a;if(De.appendChild(e),e.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=s}catch{}else this._gsapBBox&&(a=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),De.removeChild(e),this.style.cssText=i,a},Ui=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},xa=function(t){var e;try{e=t.getBBox()}catch{e=ur.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===ur||(e=ur.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+Ui(t,["x","cx","x1"])||0,y:+Ui(t,["y","cy","y1"])||0,width:0,height:0}:e},Ta=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&xa(t))},fn=function(t,e){if(e){var n=t.style;e in qt&&e!==bt&&(e=Y),n.removeProperty?((e.substr(0,2)==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(e.replace(oi,"-$1").toLowerCase())):n.removeAttribute(e)}},Jt=function(t,e,n,r,i,a){var o=new _t(t._pt,e,n,0,1,a?ga:ma);return t._pt=o,o.b=r,o.e=i,t._props.push(n),o},Vi={deg:1,rad:1,turn:1},ql={grid:1,flex:1},ae=function s(t,e,n,r){var i=parseFloat(n)||0,a=(n+"").trim().substr((i+"").length)||"px",o=ce.style,l=Il.test(e),u=t.tagName.toLowerCase()==="svg",f=(u?"client":"offset")+(l?"Width":"Height"),h=100,c=r==="px",d=r==="%",_,p,m,y;return r===a||!i||Vi[r]||Vi[a]?i:(a!=="px"&&!c&&(i=s(t,e,n,"px")),y=t.getCTM&&Ta(t),(d||a==="%")&&(qt[e]||~e.indexOf("adius"))?(_=y?t.getBBox()[l?"width":"height"]:t[f],$(d?i/_*h:i/100*_)):(o[l?"width":"height"]=h+(c?a:r),p=~e.indexOf("adius")||r==="em"&&t.appendChild&&!u?t:t.parentNode,y&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===Qt||!p.appendChild)&&(p=Qt.body),m=p._gsap,m&&d&&m.width&&l&&m.time===vt.time&&!m.uncache?$(i/m.width*h):((d||a==="%")&&!ql[zt(p,"display")]&&(o.position=zt(t,"position")),p===t&&(o.position="static"),p.appendChild(ce),_=ce[f],p.removeChild(ce),o.position="absolute",l&&d&&(m=pe(p),m.time=vt.time,m.width=p[f]),$(c?_*i/h:_&&i?h/_*i:0))))},Xt=function(t,e,n,r){var i;return si||Or(),e in jt&&e!=="transform"&&(e=jt[e],~e.indexOf(",")&&(e=e.split(",")[0])),qt[e]&&e!=="transform"?(i=cn(t,r),i=e!=="transformOrigin"?i[e]:i.svg?i.origin:Yn(zt(t,bt))+" "+i.zOrigin+"px"):(i=t.style[e],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=Nn[e]&&Nn[e](t,e,n)||zt(t,e)||Vs(t,e)||(e==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?ae(t,e,i,n)+n:i},Hl=function(t,e,n,r){if(!n||n==="none"){var i=Be(e,t,1),a=i&&zt(t,i,1);a&&a!==n?(e=i,n=a):e==="borderColor"&&(n=zt(t,"borderTopColor"))}var o=new _t(this._pt,t.style,e,0,1,pa),l=0,u=0,f,h,c,d,_,p,m,y,v,g,x,T;if(o.b=n,o.e=r,n+="",r+="",r==="auto"&&(t.style[e]=r,r=zt(t,e)||r,t.style[e]=n),f=[n,r],ra(f),n=f[0],r=f[1],c=n.match(ke)||[],T=r.match(ke)||[],T.length){for(;h=ke.exec(r);)m=h[0],v=r.substring(l,h.index),_?_=(_+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(_=1),m!==(p=c[u++]||"")&&(d=parseFloat(p)||0,x=p.substr((d+"").length),m.charAt(1)==="="&&(m=Ae(d,m)+x),y=parseFloat(m),g=m.substr((y+"").length),l=ke.lastIndex-g.length,g||(g=g||yt.units[e]||x,l===r.length&&(r+=g,o.e+=g)),x!==g&&(d=ae(t,e,p,g)||0),o._pt={_next:o._pt,p:v||u===1?v:",",s:d,c:y-d,m:_&&_<4||e==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=e==="display"&&r==="none"?ga:ma;return Is.test(r)&&(o.e=0),this._pt=o,o},Xi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Zl=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(t=n,n=r,r=t),e[0]=Xi[n]||n,e[1]=Xi[r]||r,e.join(" ")},Kl=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,r=n.style,i=e.u,a=n._gsap,o,l,u;if(i==="all"||i===!0)r.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)o=i[u],qt[o]&&(l=1,o=o==="transformOrigin"?bt:Y),fn(n,o);l&&(fn(n,Y),a&&(a.svg&&n.removeAttribute("transform"),cn(n,1),a.uncache=1,va(r)))}},Nn={clearProps:function(t,e,n,r,i){if(i.data!=="isFromStart"){var a=t._pt=new _t(t._pt,e,n,0,0,Kl);return a.u=r,a.pr=-10,a.tween=i,t._props.push(n),1}}},hn=[1,0,0,1,0,0],Pa={},Sa=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Gi=function(t){var e=zt(t,Y);return Sa(e)?hn:e.substr(7).match(Es).map($)},li=function(t,e){var n=t._gsap||pe(t),r=t.style,i=Gi(t),a,o,l,u;return n.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?hn:i):(i===hn&&!t.offsetParent&&t!==De&&!n.svg&&(l=r.display,r.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(u=1,o=t.nextElementSibling,De.appendChild(t)),i=Gi(t),l?r.display=l:fn(t,"display"),u&&(o?a.insertBefore(t,o):a?a.appendChild(t):De.removeChild(t))),e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},br=function(t,e,n,r,i,a){var o=t._gsap,l=i||li(t,!0),u=o.xOrigin||0,f=o.yOrigin||0,h=o.xOffset||0,c=o.yOffset||0,d=l[0],_=l[1],p=l[2],m=l[3],y=l[4],v=l[5],g=e.split(" "),x=parseFloat(g[0])||0,T=parseFloat(g[1])||0,S,P,w,k;n?l!==hn&&(P=d*m-_*p)&&(w=x*(m/P)+T*(-p/P)+(p*v-m*y)/P,k=x*(-_/P)+T*(d/P)-(d*v-_*y)/P,x=w,T=k):(S=xa(t),x=S.x+(~g[0].indexOf("%")?x/100*S.width:x),T=S.y+(~(g[1]||g[0]).indexOf("%")?T/100*S.height:T)),r||r!==!1&&o.smooth?(y=x-u,v=T-f,o.xOffset=h+(y*d+v*p)-y,o.yOffset=c+(y*_+v*m)-v):o.xOffset=o.yOffset=0,o.xOrigin=x,o.yOrigin=T,o.smooth=!!r,o.origin=e,o.originIsAbsolute=!!n,t.style[bt]="0px 0px",a&&(Jt(a,o,"xOrigin",u,x),Jt(a,o,"yOrigin",f,T),Jt(a,o,"xOffset",h,o.xOffset),Jt(a,o,"yOffset",c,o.yOffset)),t.setAttribute("data-svg-origin",x+" "+T)},cn=function(t,e){var n=t._gsap||new oa(t);if("x"in n&&!e&&!n.uncache)return n;var r=t.style,i=n.scaleX<0,a="px",o="deg",l=getComputedStyle(t),u=zt(t,bt)||"0",f,h,c,d,_,p,m,y,v,g,x,T,S,P,w,k,C,F,A,D,M,b,O,E,z,W,J,H,et,mt,G,j;return f=h=c=p=m=y=v=g=x=0,d=_=1,n.svg=!!(t.getCTM&&Ta(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Y]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Y]!=="none"?l[Y]:"")),r.scale=r.rotate=r.translate="none"),P=li(t,n.svg),n.svg&&(n.uncache?(z=t.getBBox(),u=n.xOrigin-z.x+"px "+(n.yOrigin-z.y)+"px",E=""):E=!e&&t.getAttribute("data-svg-origin"),br(t,E||u,!!E||n.originIsAbsolute,n.smooth!==!1,P)),T=n.xOrigin||0,S=n.yOrigin||0,P!==hn&&(F=P[0],A=P[1],D=P[2],M=P[3],f=b=P[4],h=O=P[5],P.length===6?(d=Math.sqrt(F*F+A*A),_=Math.sqrt(M*M+D*D),p=F||A?Te(A,F)*he:0,v=D||M?Te(D,M)*he+p:0,v&&(_*=Math.abs(Math.cos(v*Me))),n.svg&&(f-=T-(T*F+S*D),h-=S-(T*A+S*M))):(j=P[6],mt=P[7],J=P[8],H=P[9],et=P[10],G=P[11],f=P[12],h=P[13],c=P[14],w=Te(j,et),m=w*he,w&&(k=Math.cos(-w),C=Math.sin(-w),E=b*k+J*C,z=O*k+H*C,W=j*k+et*C,J=b*-C+J*k,H=O*-C+H*k,et=j*-C+et*k,G=mt*-C+G*k,b=E,O=z,j=W),w=Te(-D,et),y=w*he,w&&(k=Math.cos(-w),C=Math.sin(-w),E=F*k-J*C,z=A*k-H*C,W=D*k-et*C,G=M*C+G*k,F=E,A=z,D=W),w=Te(A,F),p=w*he,w&&(k=Math.cos(w),C=Math.sin(w),E=F*k+A*C,z=b*k+O*C,A=A*k-F*C,O=O*k-b*C,F=E,b=z),m&&Math.abs(m)+Math.abs(p)>359.9&&(m=p=0,y=180-y),d=$(Math.sqrt(F*F+A*A+D*D)),_=$(Math.sqrt(O*O+j*j)),w=Te(b,O),v=Math.abs(w)>2e-4?w*he:0,x=G?1/(G<0?-G:G):0),n.svg&&(E=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Sa(zt(t,Y)),E&&t.setAttribute("transform",E))),Math.abs(v)>90&&Math.abs(v)<270&&(i?(d*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(_*=-1,v+=v<=0?180:-180)),e=e||n.uncache,n.x=f-((n.xPercent=f&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+a,n.y=h-((n.yPercent=h&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-h)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+a,n.z=c+a,n.scaleX=$(d),n.scaleY=$(_),n.rotation=$(p)+o,n.rotationX=$(m)+o,n.rotationY=$(y)+o,n.skewX=v+o,n.skewY=g+o,n.transformPerspective=x+a,(n.zOrigin=parseFloat(u.split(" ")[2])||0)&&(r[bt]=Yn(u)),n.xOffset=n.yOffset=0,n.force3D=yt.force3D,n.renderTransform=n.svg?Ql:wa?ka:$l,n.uncache=0,n},Yn=function(t){return(t=t.split(" "))[0]+" "+t[1]},fr=function(t,e,n){var r=at(e);return $(parseFloat(e)+parseFloat(ae(t,"x",n+"px",r)))+r},$l=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ka(t,e)},ue="0deg",He="0px",fe=") ",ka=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,l=n.z,u=n.rotation,f=n.rotationY,h=n.rotationX,c=n.skewX,d=n.skewY,_=n.scaleX,p=n.scaleY,m=n.transformPerspective,y=n.force3D,v=n.target,g=n.zOrigin,x="",T=y==="auto"&&t&&t!==1||y===!0;if(g&&(h!==ue||f!==ue)){var S=parseFloat(f)*Me,P=Math.sin(S),w=Math.cos(S),k;S=parseFloat(h)*Me,k=Math.cos(S),a=fr(v,a,P*k*-g),o=fr(v,o,-Math.sin(S)*-g),l=fr(v,l,w*k*-g+g)}m!==He&&(x+="perspective("+m+fe),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(T||a!==He||o!==He||l!==He)&&(x+=l!==He||T?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+fe),u!==ue&&(x+="rotate("+u+fe),f!==ue&&(x+="rotateY("+f+fe),h!==ue&&(x+="rotateX("+h+fe),(c!==ue||d!==ue)&&(x+="skew("+c+", "+d+fe),(_!==1||p!==1)&&(x+="scale("+_+", "+p+fe),v.style[Y]=x||"translate(0, 0)"},Ql=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,l=n.rotation,u=n.skewX,f=n.skewY,h=n.scaleX,c=n.scaleY,d=n.target,_=n.xOrigin,p=n.yOrigin,m=n.xOffset,y=n.yOffset,v=n.forceCSS,g=parseFloat(a),x=parseFloat(o),T,S,P,w,k;l=parseFloat(l),u=parseFloat(u),f=parseFloat(f),f&&(f=parseFloat(f),u+=f,l+=f),l||u?(l*=Me,u*=Me,T=Math.cos(l)*h,S=Math.sin(l)*h,P=Math.sin(l-u)*-c,w=Math.cos(l-u)*c,u&&(f*=Me,k=Math.tan(u-f),k=Math.sqrt(1+k*k),P*=k,w*=k,f&&(k=Math.tan(f),k=Math.sqrt(1+k*k),T*=k,S*=k)),T=$(T),S=$(S),P=$(P),w=$(w)):(T=h,w=c,S=P=0),(g&&!~(a+"").indexOf("px")||x&&!~(o+"").indexOf("px"))&&(g=ae(d,"x",a,"px"),x=ae(d,"y",o,"px")),(_||p||m||y)&&(g=$(g+_-(_*T+p*P)+m),x=$(x+p-(_*S+p*w)+y)),(r||i)&&(k=d.getBBox(),g=$(g+r/100*k.width),x=$(x+i/100*k.height)),k="matrix("+T+","+S+","+P+","+w+","+g+","+x+")",d.setAttribute("transform",k),v&&(d.style[Y]=k)},Jl=function(t,e,n,r,i){var a=360,o=it(i),l=parseFloat(i)*(o&&~i.indexOf("rad")?he:1),u=l-r,f=r+u+"deg",h,c;return o&&(h=i.split("_")[1],h==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),h==="cw"&&u<0?u=(u+a*zi)%a-~~(u/a)*a:h==="ccw"&&u>0&&(u=(u-a*zi)%a-~~(u/a)*a)),t._pt=c=new _t(t._pt,e,n,r,u,Rl),c.e=f,c.u="deg",t._props.push(n),c},ji=function(t,e){for(var n in e)t[n]=e[n];return t},tu=function(t,e,n){var r=ji({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",a=n.style,o,l,u,f,h,c,d,_;r.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),a[Y]=e,o=cn(n,1),fn(n,Y),n.setAttribute("transform",u)):(u=getComputedStyle(n)[Y],a[Y]=e,o=cn(n,1),a[Y]=u);for(l in qt)u=r[l],f=o[l],u!==f&&i.indexOf(l)<0&&(d=at(u),_=at(f),h=d!==_?ae(n,l,u,_):parseFloat(u),c=parseFloat(f),t._pt=new _t(t._pt,o,l,h,c-h,Mr),t._pt.u=_||0,t._props.push(l));ji(o,r)};dt("padding,margin,Width,Radius",function(s,t){var e="Top",n="Right",r="Bottom",i="Left",a=(t<3?[e,n,r,i]:[e+i,e+n,r+n,r+i]).map(function(o){return t<2?s+o:"border"+o+s});Nn[t>1?"border"+s:s]=function(o,l,u,f,h){var c,d;if(arguments.length<4)return c=a.map(function(_){return Xt(o,_,u)}),d=c.join(" "),d.split(c[0]).length===5?c[0]:d;c=(f+"").split(" "),d={},a.forEach(function(_,p){return d[_]=c[p]=c[p]||c[(p-1)/2|0]}),o.init(l,d,h)}});var Ca={name:"css",register:Or,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var a=this._props,o=t.style,l=n.vars.startAt,u,f,h,c,d,_,p,m,y,v,g,x,T,S,P,w;si||Or(),this.styles=this.styles||ya(t),w=this.styles.props,this.tween=n;for(p in e)if(p!=="autoRound"&&(f=e[p],!(gt[p]&&la(p,e,n,r,t,i)))){if(d=typeof f,_=Nn[p],d==="function"&&(f=f.call(n,r,t,i),d=typeof f),d==="string"&&~f.indexOf("random(")&&(f=ln(f)),_)_(this,t,p,f,n)&&(P=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(p)+"").trim(),f+="",ne.lastIndex=0,ne.test(u)||(m=at(u),y=at(f)),y?m!==y&&(u=ae(t,p,u,y)+y):m&&(f+=m),this.add(o,"setProperty",u,f,r,i,0,0,p),a.push(p),w.push(p,0,o[p]);else if(d!=="undefined"){if(l&&p in l?(u=typeof l[p]=="function"?l[p].call(n,r,t,i):l[p],it(u)&&~u.indexOf("random(")&&(u=ln(u)),at(u+"")||(u+=yt.units[p]||at(Xt(t,p))||""),(u+"").charAt(1)==="="&&(u=Xt(t,p))):u=Xt(t,p),c=parseFloat(u),v=d==="string"&&f.charAt(1)==="="&&f.substr(0,2),v&&(f=f.substr(2)),h=parseFloat(f),p in jt&&(p==="autoAlpha"&&(c===1&&Xt(t,"visibility")==="hidden"&&h&&(c=0),w.push("visibility",0,o.visibility),Jt(this,o,"visibility",c?"inherit":"hidden",h?"inherit":"hidden",!h)),p!=="scale"&&p!=="transform"&&(p=jt[p],~p.indexOf(",")&&(p=p.split(",")[0]))),g=p in qt,g){if(this.styles.save(p),x||(T=t._gsap,T.renderTransform&&!e.parseTransform||cn(t,e.parseTransform),S=e.smoothOrigin!==!1&&T.smooth,x=this._pt=new _t(this._pt,o,Y,0,1,T.renderTransform,T,0,-1),x.dep=1),p==="scale")this._pt=new _t(this._pt,T,"scaleY",c,(v?Ae(c,v+h):h)-c||0,Mr),this._pt.u=0,a.push("scaleY",p),p+="X";else if(p==="transformOrigin"){w.push(bt,0,o[bt]),f=Zl(f),T.svg?br(t,f,0,S,0,this):(y=parseFloat(f.split(" ")[2])||0,y!==T.zOrigin&&Jt(this,T,"zOrigin",T.zOrigin,y),Jt(this,o,p,Yn(u),Yn(f)));continue}else if(p==="svgOrigin"){br(t,f,1,S,0,this);continue}else if(p in Pa){Jl(this,T,p,c,v?Ae(c,v+f):f);continue}else if(p==="smoothOrigin"){Jt(this,T,"smooth",T.smooth,f);continue}else if(p==="force3D"){T[p]=f;continue}else if(p==="transform"){tu(this,f,t);continue}}else p in o||(p=Be(p)||p);if(g||(h||h===0)&&(c||c===0)&&!Ll.test(f)&&p in o)m=(u+"").substr((c+"").length),h||(h=0),y=at(f)||(p in yt.units?yt.units[p]:m),m!==y&&(c=ae(t,p,u,y)),this._pt=new _t(this._pt,g?T:o,p,c,(v?Ae(c,v+h):h)-c,!g&&(y==="px"||p==="zIndex")&&e.autoRound!==!1?Bl:Mr),this._pt.u=y||0,m!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=zl);else if(p in o)Hl.call(this,t,p,u,v?v+f:f);else if(p in t)this.add(t,p,u||t[p],v?v+f:f,r,i);else{Kr(p,f);continue}g||(p in o?w.push(p,0,o[p]):w.push(p,1,u||t[p])),a.push(p)}}P&&da(this)},render:function(t,e){if(e.tween._time||!ai())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Xt,aliases:jt,getSetter:function(t,e,n){var r=jt[e];return r&&r.indexOf(",")<0&&(e=r),e in qt&&e!==bt&&(t._gsap.x||Xt(t,"x"))?n&&Ri===n?e==="scale"?Gl:Xl:(Ri=n||{})&&(e==="scale"?jl:Nl):t.style&&!Hr(t.style[e])?Ul:~e.indexOf("-")?Vl:ri(t,e)},core:{_removeProperty:fn,_getMatrix:li}};xt.utils.checkPrefix=Be;xt.core.getStyleSaver=ya;(function(s,t,e,n){var r=dt(s+","+t+","+e,function(i){qt[i]=1});dt(t,function(i){yt.units[i]="deg",Pa[i]=1}),jt[r[13]]=s+","+t,dt(n,function(i){var a=i.split(":");jt[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");dt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){yt.units[s]="px"});xt.registerPlugin(Ca);var eu=xt.registerPlugin(Ca)||xt;eu.core.Tween;export{Vo as L,su as a,eu as g};
